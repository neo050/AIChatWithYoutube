const data= [{"url":"https://www.youtube.com/watch?v=lfkjm2YRG-Q","title":"The Hidden Science of Fireworks","youtuber":"@veritasium","youtuber_md5":"f7bf1c7caf2d883d9c5f3ae04277d721","video_length":1870,"likes":171525,"views":5773318,"date_posted":"2023-07-07T17:43:14.000Z","description":"This is the biggest, brightest, hottest video there is about the science of fireworks. This video is brought to you by Kiwico – go to https://kiwico.com/veritasium for your first month free!\n\nIf you're looking for a molecular modeling kit, try Snatoms - a kit I invented where the atoms snap together magnetically: https://snatoms.com\n\nCheck out Gene’s channel here -- @PotatoJet \n\nMassive thanks to Mike Tockstein from Pyrotechnic Innovations @PyroInnovations  \nand Will Scott from Las Vegas Display Fireworks Inc, for all your pyro knowledge and keeping us safe.\n\n▀▀▀\nMassive thanks to Gene Nagata from PotatoJet for filming this episode – check out his wonderful channel for more videos about cameras and FPV drones.\n\nThanks to Brandon Williams for helping with the chemistry and sourcing of materials. \n\nThanks to Matthew Tosh for the help with the chemistry conversation about fireworks.\n\nThanks to Simon Werrett for the help with the history of fireworks.\n\n▀▀▀\nWerrett, S. (2010). Fireworks: pyrotechnic arts and sciences in European history. University of Chicago Press\n\n▀▀▀\nSpecial thanks to our Patreon supporters:\nEmil Abu Milad, Tj Steyn, meg noah, Bernard McGee, KeyWestr, Amadeo Bee, TTST, Balkrishna Heroor, John H. Austin, Jr., john kiehl, Anton Ragin, Diffbot, Gnare, Dave Kircher, Burt Humburg, Blake Byers, Evgeny Skvortsov, Meekay, Bill Linder, Paul Peijzel, Josh Hibschman, Mac Malkawi, Juan Benet, Ubiquity Ventures, Richard Sundvall, Lee Redden, Stephen Wilcox, Marinus Kuivenhoven, Michael Krugman, Sam Lutfi.\n\n▀▀▀\nWritten by Derek Muller\nEdited by Trenton Oliver\nAnimated by Ivy Tello and Fabio Albertelli\nFilmed by Derek Muller, Hunter Peterson, Gene Nagata, Raquel Nuno\nProduction by Hunter Peterson and Stephanie Castillo\nAdditional video/photos supplied by Mike Tockstein/Pyrotechnic Innovations\nMusic from Epidemic Sound & Jonny Hyman\nProduced by Derek Muller, Petr Lebedev, Emily Zhang, & Casper Mebius","num_comments":5500,"subscribers":18200000,"video_id":"lfkjm2YRG-Q","channel_url":"https://www.youtube.com/@veritasium","preview_image":"https://i.ytimg.com/vi/lfkjm2YRG-Q/hqdefault.jpg","shortcode":"lfkjm2YRG-Q","verified":true,"handle_name":"Veritasium","avatar_img_channel":"https://yt3.ggpht.com/ytc/AIdro_nSatGjGLZG1_O1ztYxuKvRazCbk9A0kPhtt2NxEH4ZKfA=s48-c-k-c0x00ffffff-no-rj","related_videos":["https://www.youtube.com/watch?v=ZjBgEkbnX2I","https://www.youtube.com/watch?v=YMDJA4UvXLA","https://www.youtube.com/watch?v=HRx_dZawN44","https://www.youtube.com/watch?v=2oDXbFcHliM","https://www.youtube.com/watch?v=xUUW6SYl_ak","https://www.youtube.com/watch?v=IN2C19DvDE8","https://www.youtube.com/watch?v=aA8LLjTghVQ","https://www.youtube.com/watch?v=vSNtifE0Z2Q","https://www.youtube.com/watch?v=EtoZOqbwH9E","https://www.youtube.com/watch?v=J_n1FZaKzF8","https://www.youtube.com/watch?v=24GfgNtnjXc","https://www.youtube.com/watch?v=tmbZVmXyOXM","https://www.youtube.com/watch?v=EJG3t5Omteg","https://www.youtube.com/watch?v=TWpg1RmzAbc","https://www.youtube.com/watch?v=aFPJf-wKTd0","https://www.youtube.com/watch?v=Tt6WQYtefXA","https://www.youtube.com/watch?v=nmgFG7PUHfo","https://www.youtube.com/watch?v=FksEGpBLfis","https://www.youtube.com/watch?v=rmtK2BgmGCw","https://www.youtube.com/watch?v=d6Pcp944sRI"],"license":null,"viewport_frames":"640x360 / -","current_optimal_res":"640x360@30 / 640x360@30","codecs":"avc1.42001E, mp4a.40.2 / mp4a.40.2","color":"bt709","quality":"hd2160","quality_label":"2160p","post_type":"post","youtuber_id":"UCHnyfMqiRRG1u-2MsSQLbXA","transcript":"Intro - This is the biggest... hottest... and most explosive- - Oh my god. - Video on fireworks ever, covering everything from\nthe invention of gunpowder to how fire can burn underwater, how fireworks are made,\nthe colors, shapes, fuses. To how they're launched. We'll even see what it's like\nto fly through fireworks. (fireworks popping) Mr. Beast has got nothing on this. This video was sponsored by KiwiCo. More about them at the end of the show. (drone buzzing) - I cannot believe the precision with that huge camera on there. Gene is gonna try to fly the FPV drone actually like through the\nfireworks as they explode. You ready Gene? - I think So. - Gene makes the channel called Potato Jet and he does tech reviews, but also lots of very filmic stuff. - [Gene] Lot of- - Lot of drone work. - Lately a lot of drone stuff. - Okay. - A lot of fast drone stuff.\n- FPV drones. - Like this one.\n- this one. Are you willing to fly\nthis into a firework as it's exploding? - That's the goal. If I can catch it, that's the hope. But we set it up just for that.\nSo I think we could get it. (drone buzzing) - The first recorded instance\nof something like a firework occurred in China over 2000 years ago where people would get a piece of bamboo with the ends closed and they\nwould throw it in a fire. So as it heated up, everything inside would get hot and expand and eventually burst, creating this bang, which they thought\nscared off evil spirits. Then they developed black powder and they put black\npowder inside the bamboo to make an even bigger bang. That was much more impressive. I wanna test out the earliest\nknown recipe for gunpowder. Making gunpowder It involves three ingredients that you can find out in nature. The first is potassium nitrate, which actually comes\nfrom bat and bird guano. Once they poop in the cave\nand it dissolves in water, you get these white crystals coming out. The second ingredient is sulfur. These yellow crystals you can\njust find on the side of hills or around thermal vents. And the third ingredient is honey. That is the major fuel for the gunpowder. Now I'm gonna mix this all up. Looks like it could be frosting. So yummy. Earliest known recipe for gunpowder. What people observed was when\nthey heated up this mixture, it would spontaneously catch fire. I have no idea how big of\na thing this is gonna be. This is only about a gram of it, so I don't think it's gonna be huge. As we heat up that very\nprimitive gunpowder, we should see it burst into flames. It's gotta be close. Here we go. Here we go. Yes, we have made gunpowder. Now that took a long time\nbefore we saw the fire. So why is that? Well, honey contains a lot of water and that's gonna slow down the rate at which this is gonna start to combust. People figured out that a\nbetter fuel was charcoal. Charcoal There are three things\nyou need to make fire, fuel, oxygen and heat. In most fires, the oxygen\ncomes from the air, but in gunpowder, the oxygen is supplied by\none of the solid ingredients. The potassium nitrate\ngives you the oxygen. It's KNO3, so there's a\nlot of oxygen in here. And then the charcoal provides\nthe fuel, that carbon. Charcoal is basically just carbon, but it works better than other\nforms of carbon like graphite because it contains\nthese microscopic pores and that enables the\nreactants to mix much better. They can actually get inside those pores. So if you mix potassium\nnitrate with the fuel, charcoal and add heat from a lighter, you should have all the\ningredients you need to make fire. So the question is, will this burn? It seems like little bits\nof it are catching on fire and just like sparking up from there. But the trouble with this reaction is that it has a high activation energy. So it needs a lot of heat to get going. Whoa. There it goes. That is cool. (cheerful music) I can see little balls of molten stuff in the crucible there. That is awesome. So we do have oxygen and fuel\nand we can get that reaction, but it's just not a\nvery explosive reaction. This is where the sulfur comes in. Sulfur starts reacting\nwith the other ingredients at lower temperatures, and\nthose reactions give off heat. The sulfur is gonna act like kindling. It's gonna create that initial bit of heat that the potassium nitrate\nneeds to really break it open and then, you know, everything can react. So that's what I wanna do,\nI wanna try to mix sulfur, potassium nitrate and charcoal, which is like your quintessential\nrecipe for gunpowder. And the amounts that you need of this have been pretty stable\nfor like 800 years, which is about 75% potassium\nnitrate, 10% sulfur, and 15% charcoal. Those are the right mixtures so that you have just the right\nnumber of each type of atom to fully react and release\nthe most energy possible. So I wanna test how long it\ntakes for fire to burn down about a meter of this homemade gunpowder. Let's let her rip. There it goes. Hey, it's going so slow. (suspenseful music) Come on, you can do it. Go, go, go, go, go. Wow, it made it to the end. You know what I think the problem is the granules of charcoal that I've got and these grains of potassium\nnitrate, even the sulfur, they're all a bit big. So to actually get that\nreaction to happen fast, it's not really working. So what I wanna do is compare that to store bought gun powder from, you know, a factory that's actually\nground up all those particles to be really tiny. So all the reagents are\nreally close together. Oh my... - Whoo! - That is impressive. (suspenseful music) (laughs) Yes. That is gunpowder. That makes mine look so amateur. The chemical reaction that occurs in the combustion of\ngunpowder is complicated, to say the least. But a number of the\nproducts formed are solids, and that's why burning gunpowder\ncreates a lot of smoke. The neighbors have gotta be\nlooking at this and being like- - That is so...\n- What the... The thing about gun\npowder is if you burn it Burning gunpowder when it's just exposed to the air, it doesn't really explode. And I think of gunpowder as explosive. But in order to see that, what\nyou have to do is confine it. Because when you confine gun powder, you increase the concentration\nof all the reagents. They don't just blow away from each other when they catch fire. So they're forced into closer\nproximity, so they react more. Plus you trap more of the heat, so the reagents get moving\nfaster, they have more energy, and so they can react more readily. So I put 10 grams of\ngunpowder in a cardboard tube and taped it shut. (explosion pops) Okay, that's better. But it wasn't as big of a\nbang as I was hoping for. Well, it was a bit more\nof a pop than than a bang. Maybe we need a tighter vessel, I think. So I'm gonna use some\nfiber reinforced tape to strengthen the container, and then we should get a bigger bang. (explosion booms)\nOoh! - It went right past me. (explosion booms) - It's more of a bang.\nThat's a bit more like it. Here I have 20 grams of black powder. So I guess the question is\nwith twice the black powder, do we get twice the bang? Here we go, everyone get back. (explosion booming) This is essentially what a firework is. I mean, fireworks consist of a shell The shell with a lot of gunpowder inside. - So, this is an inert shell. It's colorized so that you can see the\nindividual pieces better. A real shell, everything\nin here would be black because it would be primed\nor covered with black powder. - Actually a note about terminology. For a long time the terms\ngunpowder and black powder were used in interchangeably. But these days the formula\nfor gunpowder has changed to make it smokeless. So what's used in fireworks is called, at least in the US, black powder, to distinguish it from\nmodern smokeless gunpowder. Just know that in this\nvideo we'll use both terms to mean basically the same thing. - The shell itself is made out a cardboard and what looks like and\nis a form of paper mache with craft paper and a glue. And you go around and around once you put the two\nshell halves together. - Is that like the standard\nsize you'd see when you go out? - So on a 4th of July display, you'll see anything\nfrom two and a half inch up to five inch typically. In most cases, six inch and above are reserved for locations\nthat you have a huge property, you're out in some desert shoot site or on a barge somewhere. But they can go even bigger\nthan this, up to 12 inch, 16 and even larger in very special occasions. This is the hemisphere for a\n16 inch diameter aerial shell. - That is a huge firework. The biggest aerial firework\never was 1.44 meters wide, and it weighed about the same as a car. (speaker gasping) - Ah-ooh-ooh-ooh!\n- Whoooh! - Whoa. (all laughing) - To launch a firework into the air, the way it's done is\nwith more black powder. - In a typical shell, you're gonna have a baggie of black powder that's underneath the shell, and that acts to fire the\nshell out of the mortar to the 800 feet in the air, which is what this eight\ninch shell would go to. Shells as large as say a 16 inch, those can use literally\npounds of black powder underneath them. - To ensure the shell goes straight up. It's placed in a big plastic\ntube called a mortar. - A pyro technician gets two bangs for every one the audience does. You get a bang when the mortar fires and then a bang when the shell explodes. (explosions booming) And it's literally like a cannon, shooting a cannon ball in the air. So the audience doesn't get\nto hear or see or feel that, but the pyro crew does. (explosions booming) (audience cheering) - Does everything burn up\nbefore it reaches the ground? - The internal contents, yes. So all the stars, the\nburst, all of that stuff, the casing will come down in pieces. That's why we have a fallout\nzone is what we call it. Or the exclusion zone, where only the crew is\nallowed with all their PPEs because you do get debris that comes down. It literally sounds like rain at the end from all of the debris from that finale, shells going off all at once. - How often do they malfunction? Explosion - It's rare, but it does happen. You'll have a wooden rack with a few HDPE, high density polyethylene mortars in it. And that particular\nmaterial is meant to expand and split from the energy\nof a malfunctioning shell versus explode and throw\nshrapnel everywhere. - We actually experienced\nan incident like this with the biggest shell\nwe had set to launch. Okay, in three, two, one. (explosion pops) Oh, oh. That one did not look like it... (explosion booms) Oh!\n(laughs) That's what happens when\na firework doesn't lift. - But because we follow all\nthe rules and regulations at a professional display, it's usually the crowd going, whoa. And the crew going, whoa. (explosion booms) - Oh my God. (both laughing) - And then the show goes on is typically what happens\nafter a few safety checks when something like that goes on. - Thankfully everyone was safe because we could trigger\nthe fireworks remotely from outside the blast radius. But igniting explosives safely\nhas long been a challenge. Black Match - In the mining industry, their delay method back then was to literally sprinkle\nout a trail of black powder through the mine to give\nthem a delay to the dynamite. - The simplest fuse just\nconsists of cotton string that's been soaked in black powder and then allowed to dry out. This is known as black match. It burns well, but pretty slowly. - That alone would burn two\nto three seconds an inch. But once you encase it in craft paper, that's literally all this is, you change that burn rate\nfrom a couple seconds an inch to anywhere from 30 to\na hundred feet a second. - This has the same effect as containing the black powder. It traps in the heat and reagents, so the reaction goes much faster. - This is actually how we\nshoot our finale so fast. We're not actually pushing\nbuttons that quickly. - This type of fuse is\nappropriately known as quick match. Quick Match Now, before I'd ever seen\nquick match in action, it was suggested that I\ntry to race the signal down the fuse. What I'm gonna do is light this little piece\nof black match right here, and then I'm gonna try to race\nthe signal to the other end. But still, I was not\nprepared for what came next. (suspenseful music) (explosions popping)\nAh! Jesus, what the heck was that? (suspenseful music)\n(explosions popping) You are kidding me. You didn't tell me it was gonna do that. The force of the combustion products causes the quick match\nto whip around wildly. It's crazy how much just\ncontaining the reagents and containing the heat from\nthe reaction accelerates it. It certainly burns much\nfaster than the black match Waterproof without the paper. (explosion pops)\nAh! Man. Every time, every time that gets me. One problem with these basic fuses is they aren't waterproof. Even though they contain\nthe fuel and the oxidizer, so they don't need the\noxygen and the air to burn, they do need heat and\nwater is just too good at conducting the heat away from the fuse. So it snuffs out the reaction. And it fizzles out. The same problem occurs with road flares. I thought since the flame comes\nout with such high pressure, it might be able to stay lit under water. Three, two, one. (water splashes) And it did for a little while, but eventually the water got\nin there and stole the heat. So I think that the\nwater is putting it out by pulling the heat away from it so it doesn't have enough\nenergy to keep burning. (water burbling) You bring it out. Come on, come on. Ah. - Wait, look. - He-ey! (both laugh) - Ooh! - And it's... (water burbling) There are special flares made\nfor underwater applications, but even those have similar problems. (water burbling) You can see the gaseous\ncombustion products being released here and\nbubbling to the surface. And while this flare lasted longer, the water still eventually put it out. Come on. Why did that go out? But it is possible to\nmake a waterproof fuse. Fireworks - So this is your traditional visco fuse. You're gonna see this in a lot\nof your consumer fireworks. (calm music) - Very big firework store. (cheerful music) I feel like we have to get this, spins? - Yeah. - And it makes fire? - Yeah. - I'm excited about this one. Here we go in three, two, one. - [Mike] It's really got a powder core with a fiber wrap to it. (fireworks popping) (laughing) And it's typically lacquer coated. So these fuses are typically waterproof. (explosion popping) - Whoa! (water burbling) Wow! (laughs) That was impressive. Fuses are not only used\nto light fireworks, Fuses they are a core component\ninside a firework. - So that quick match flashes really quick down into the black\npowder lift that ignites. And while it's pushing the\nshell out of the mortar, it lights the time fuse. So this is what would\nactually be in the shell to give you the time delay. From the time the lift charge fires to the time the shell hits\napogee and explodes in the sky. You know, it's about a\nquarter inch in diameter and is really a black\npowder core rigid fuse compared to the more flimsy visco type. - It's really important\nthat the time delay fuse keeps the combustion contained inside it so the firework only\nexplodes when you want it to, at the very peak of its trajectory. So we tested it underwater. Do you think it's waterproof? - Should be. - All right. It's taking its time. There we go. That looks like a firework type fuse. - [Mike] These function by not spitting any fire out the side so that the shell doesn't\nget lit prematurely. - That's smart. - [Mike] So you should only\nsee it spit out the end once it's made it's all the way through. - What's containing it? Like what kind of material\nis containing it in there? - [Mike] Well, there's a number... There's weaves of fibers in\nthere and a layer of asphalt that really provides that waterproofing. - So you can kind of see how the signal is progressing. You can see how the fire's\nprogressing through there. 'Cause obviously it's getting hot. Some of the gaseous\nproducts are coming up. Oh, is it gonna come out? Was that it? - [Mike] That was it. - That is all that is needed to ignite the core of a firework. (both laugh) - So after that time fuse hits its end, it'll light a piece of black match that'll then flash into the burst charge. So that's what's represented\nby this blue material, which is typically rice hulls\nor something similar to that coated with black powder. - What are ri... Oh rice hulls. - Yes. Rice hulls, not holes, sorry. - I was like they're making\nrice holes like donut holes. - The reason we coat rice hulls is because you get a very granular powder in the center of the shell now, which allows the flame\nto propagate very quickly through the shell, igniting\neverything simultaneously, creating that significant\nover pressure very quickly to blow the shell open. So a traditional peony shell would be your most basic of fireworks, where these stars would literally\nbe lining the hemisphere and then you'd have\nyour burst in the middle and that would give you a very symmetrical\nround sphere in the sky, your traditional firework that you see. - But it's just interesting to think that when you see a firework go off, you know, all those little points of light are about that size. - [Mike] Yeah. - But they look... I mean I would say that\nthey look bigger, right? 'Cause they're so bright, I guess. - Yeah. (drone whistling) - So fast. - How fast does this thing go? - Pretty quick and it\nis definitely trickier when it's dark like this. - Okay, can you see anything? - [Gene] Once I go start looking here, I'm like, I'm not sure. - How do you get focused to\nsomething that's not there yet and you're not quite sure where\nit is or where anything is 'cause it's all pitch black? - 'Cause I basically have\nlocked exposure on this. And we can at least see\nhow the exposure is. - Taking off. (drone whistling)\n(fireworks popping) - Yes. Amazing. Blue. (calm music) - Oh shoot, okay. - Oh, dang.\n- FPV's down. - [Gene] Oh dang. I didn't realize I was\nso close to the ground. All right, hold on. Stars - I just wanna see what\nthis looks like, you know, I wanna check this out. So. Whoa, that is cool. I dig that. These stars are made of black powder mixed with chemicals to give\nthem different properties. - [Mike] So brocade crown star would be the big bushy gold tail that you would see in the sky. So imagine a big glittering gold shell. (indistinct chatters) - I could actually see the\nlittle pieces coming off and glowing pretty bright right now. - [Mike] Now, imagine those leaving a tail as they fly through the sky. It's a really spectacular effect. - This is gonna be blue. Ah. Often the chemicals mixed into the stars are used to create specific colors. - [Mike] Each of these stars would be coated with a primer composition, which is a really fine black powder. The reason for that is a\nlot of color compositions take more heat to ignite, so they have a higher\nignition temperature. So by coating with black\npowder, with that primer, you're ensuring ignition of all the stars, which then transfer the fire\nto that color composition. (calm music) - And then it started taking off on you. (imitates firework) That's cool. I like that. (calm music) Jeez it's bright. The colors of fireworks are actually thanks to quantum mechanics. Quantum Mechanics An element absorbs energy\nfrom the combustion raising an electron to\na higher energy level. And there are only certain\ntransitions which are allowed. So when the electron drops back down to a lower energy level,\nit gives off light with a specific energy of that transition, which corresponds to a particular color. Some elements are particularly well-suited to create certain colors. So as the copper ions go in there, Blue Color they absorb energy from the\nfire, from the combustion, and then the electrons drop back down to a lower energy level and they give out that\nblue light predominantly. And that's why we get\nsuch a great blue color. What a thing of beauty. This is just a little interjection because I was looking at our flame tests and the copper salt tests, you know, anywhere you look, copper\nfireworks are meant to be blue, like bright blue, but those\nflame tests look kind of green. And so I didn't really\nknow what was going on, but I was sitting here\nplaying with my kids with the KiwiCo flame test kit. I know like they did sponsor this video, but didn't tell me to put\na section like this in. But what I found is that, okay, I'm using a copper salt\nhere and it starts out green and then if you leave it for\na while, come zoom in here, it starts to get blue. Oh, look at that blue. To get the beautiful blue color.\nI think you need more heat. I think it's a higher\ntemperature that we need that we didn't achieve in our\nflame tests out in the field. Here we got some calcium\nchloride. Oh yeah. Oh, that is a beautiful orange. Look at that. Here we're getting some potassium chloride to give us some violet. I'm not seeing too much violet, but maybe just a little. Barium chloride. Of course, that's just small scale. Our pyro technician mixed\nup some color salt and fuel in a mortar. - [Mike] What's in there is\nabout two gallons of methanol with boric acid on this one. (explosion booms) (both laughing) And copper(II) chloride on this one. - Three, two, one. Fire.\n(explosion booms) Yeah! That was awesome. (calm music) That is the beauty of quantum mechanics. The electron transitions that give rise to the\ncolor of fireworks are, at least in my opinion, way cooler than colored smoke bombs. So the combustion products here are solid, and that's why they make so much smoke. In this case, there's just dye in the\nsmoke to give it its color. Yes. To make so-called ghost shells, the stars are coated in\nlayers of different chemicals, which allows them to\nchange color mid-flight. - So assuming your shell\nconstruction was very uniform, your casing, all your\nstars are the same mass, you're gonna get a very\nuniform explosion in the sky. So it's really as simple as how you lay out the stars in the shell and it'll break in that\npattern in the sky. - So what's your favorite patterned? - Jellyfish are pretty neat. If you've ever seen a jellyfish, it really looks like a jellyfish. You get the dome and then you get tentacles\ncoming out the bottom. - That sounds amazing. - [Mike] Yeah. - Do they just do it by changing the color and position of the stars up here? Like how do you get a\ndome and then tentacles? - If this was the shell and you'd have another half this way, only the top half would be covered- - Would be fully covered. - And that would be your dome. And then you'd have a couple larger stars to create the large tentacles\nthat come out the bottom. - Ah. These days fireworks\naren't usually triggered by lighting a fuse by hand,\nbut by pushing a button. - Each one of these buttons would correspond to an\nindividual firing circuit going out into the field. - The button sends current down the wire to an electric match. A little filament in the match heats up, triggering a chemical reaction. - [Mike] Which then spits fire into whatever you're trying to light. Fireworks Finale - [Gene] Yeah, I think it's just... - Dust in the motors? - I think so. This might be a pretty quick repair. - We are about to have a fireworks finale in the middle of nowhere in the pitch dark for like a minute. And we're gonna try to\nfly FPV drone through it. So what does it actually\nlook like to be in the middle where all the fireworks\nare exploding in three, two, one. (drone whistling)\n(fireworks popping) - Thank you. (fireworks popping) (upbeat music)\n(fireworks popping) Wow. Can we get some light on the ground here? (laughing) - That was insane. - The fireworks finale\ntriggered my car alarm. - They were like two\ntimes where I was like, \"I'm not sure if I'm upside down or not, but I gotta hold this shot.\" Okay, so - [All] Whoa. (hopeful music) - Oh man. Right through\nthem, right around them. Just parked right down into that. (all laughing) Whoa, that is so wicked. - Dude. - Yeah, there we go. (all laughing) - You're upside down. - [Gene] Right there. (hopeful music) I was just chasing everything. (hopeful music) - Fireworks are this perfect\ncombination of chemistry, light, and sound. If their purpose is to banish bad spirits, I'd say they achieve it. (fireworks booming) Kiwico (squicky sound) Hey, this video was sponsored by KiwiCo. You know, every time a KiwiCo\ncrate shows up at our house, my kids get really excited. (screaming) What is it guys? - I love me this one. - You light it on fire and it\nmakes different color flames. (gasps) - The different chemicals you put on? - Uh-huh. And that's because they know what's inside is a hands-on project that\nthey get to build with me. And the building is a lot of fun and playing with it\nafterwards is even better. From my perspective, the best part is that my kids\nare learning about science, technology, engineering and design while playing and having fun. And I think that is the best way to learn. So the way it works is that each month KiwiCo delivers a crate right to your door and inside is everything you\nneed to complete the project. And I mean everything. So there are no additional\ntrips to the store. We've been getting crates\nfor three years now. So we've built lots of different projects and they're all high quality. I got to tour KiwiCO's headquarters, so I saw how their crates\nare designed by experts and then tested with kids\nbefore they're ever sent out. They're also really good value. Most KiwiCo subscriptions work\nout to around $20 per month. They have nine different product lines targeted at different age groups. Everything from newborns up to 14 plus so your kids can grow with\nKiwiCo just as mine have. I think my favorite thing is\nthat working on these projects has become something that we do together. Every month there is this thought starter and an invitation to spend\nsome quality time together and it just arrives on our doorstep and I really appreciate that. So if you wanna try it out, go to kiwico.com/veritasium\nto get your first month free. Using my link, you're not\nonly getting a great deal, you're also helping to\nsupport this channel. And if you want to purchase single crates, that's also an option\nthrough the KiwiCo store. They make great gifts. So I wanna thank KiwiCo\nfor sponsoring this video and I wanna thank you for watching.","formatted_transcript":[{"start_time":0,"end_time":112000,"duration":112000,"text":"Intro"},{"start_time":0,"end_time":5141,"duration":5141,"text":"- This is the biggest... hottest... and most explosive-"},{"start_time":5141,"end_time":11940,"duration":6799,"text":"- Oh my god. - Video on fireworks ever, covering everything from\nthe invention of gunpowder"},{"start_time":11940,"end_time":19880,"duration":7940,"text":"to how fire can burn underwater, how fireworks are made,\nthe colors, shapes, fuses."},{"start_time":20370,"end_time":25733,"duration":5363,"text":"To how they're launched. We'll even see what it's like\nto fly through fireworks."},{"start_time":25733,"end_time":33990,"duration":8257,"text":"(fireworks popping) Mr. Beast has got nothing on this."},{"start_time":33990,"end_time":40829,"duration":6839,"text":"This video was sponsored by KiwiCo. More about them at the end of the show. (drone buzzing)"},{"start_time":44130,"end_time":50100,"duration":5970,"text":"- I cannot believe the precision with that huge camera on there. Gene is gonna try to fly the FPV drone"},{"start_time":50100,"end_time":55703,"duration":5603,"text":"actually like through the\nfireworks as they explode. You ready Gene? - I think So."},{"start_time":55703,"end_time":62580,"duration":6877,"text":"- Gene makes the channel called Potato Jet and he does tech reviews, but also lots of very filmic stuff."},{"start_time":62580,"end_time":68430,"duration":5850,"text":"- [Gene] Lot of- - Lot of drone work. - Lately a lot of drone stuff. - Okay. - A lot of fast drone stuff.\n- FPV drones."},{"start_time":68430,"end_time":74153,"duration":5723,"text":"- Like this one.\n- this one. Are you willing to fly\nthis into a firework as it's exploding? - That's the goal."},{"start_time":74153,"end_time":79713,"duration":5560,"text":"If I can catch it, that's the hope. But we set it up just for that.\nSo I think we could get it."},{"start_time":79713,"end_time":86549,"duration":6836,"text":"(drone buzzing) - The first recorded instance\nof something like a firework"},{"start_time":86550,"end_time":92039,"duration":5489,"text":"occurred in China over 2000 years ago where people would get a piece of bamboo"},{"start_time":92040,"end_time":98700,"duration":6660,"text":"with the ends closed and they\nwould throw it in a fire. So as it heated up, everything inside would get hot and expand"},{"start_time":98700,"end_time":104640,"duration":5940,"text":"and eventually burst, creating this bang, which they thought\nscared off evil spirits."},{"start_time":104640,"end_time":109890,"duration":5250,"text":"Then they developed black powder and they put black\npowder inside the bamboo to make an even bigger bang."},{"start_time":109890,"end_time":116369,"duration":6479,"text":"That was much more impressive. I wanna test out the earliest\nknown recipe for gunpowder."},{"start_time":112000,"end_time":190000,"duration":78000,"text":"Making gunpowder"},{"start_time":116370,"end_time":123060,"duration":6690,"text":"It involves three ingredients that you can find out in nature. The first is potassium nitrate,"},{"start_time":123060,"end_time":128970,"duration":5910,"text":"which actually comes\nfrom bat and bird guano. Once they poop in the cave\nand it dissolves in water,"},{"start_time":128970,"end_time":136800,"duration":7830,"text":"you get these white crystals coming out. The second ingredient is sulfur. These yellow crystals you can\njust find on the side of hills"},{"start_time":136800,"end_time":143129,"duration":6329,"text":"or around thermal vents. And the third ingredient is honey. That is the major fuel for the gunpowder."},{"start_time":143130,"end_time":147993,"duration":4863,"text":"Now I'm gonna mix this all up. Looks like it could be frosting. So yummy."},{"start_time":149430,"end_time":154890,"duration":5460,"text":"Earliest known recipe for gunpowder. What people observed was when\nthey heated up this mixture,"},{"start_time":154890,"end_time":161520,"duration":6630,"text":"it would spontaneously catch fire. I have no idea how big of\na thing this is gonna be."},{"start_time":161520,"end_time":167430,"duration":5910,"text":"This is only about a gram of it, so I don't think it's gonna be huge. As we heat up that very\nprimitive gunpowder,"},{"start_time":167430,"end_time":175830,"duration":8400,"text":"we should see it burst into flames. It's gotta be close. Here we go. Here we go. Yes, we have made gunpowder."},{"start_time":175830,"end_time":183030,"duration":7200,"text":"Now that took a long time\nbefore we saw the fire. So why is that? Well, honey contains a lot of water"},{"start_time":183030,"end_time":190739,"duration":7709,"text":"and that's gonna slow down the rate at which this is gonna start to combust. People figured out that a\nbetter fuel was charcoal."},{"start_time":190000,"end_time":283000,"duration":93000,"text":"Charcoal"},{"start_time":190740,"end_time":196500,"duration":5760,"text":"There are three things\nyou need to make fire, fuel, oxygen and heat."},{"start_time":196500,"end_time":204540,"duration":8040,"text":"In most fires, the oxygen\ncomes from the air, but in gunpowder, the oxygen is supplied by\none of the solid ingredients."},{"start_time":204540,"end_time":209640,"duration":5100,"text":"The potassium nitrate\ngives you the oxygen. It's KNO3, so there's a\nlot of oxygen in here."},{"start_time":209640,"end_time":214920,"duration":5280,"text":"And then the charcoal provides\nthe fuel, that carbon. Charcoal is basically just carbon,"},{"start_time":214920,"end_time":221686,"duration":6766,"text":"but it works better than other\nforms of carbon like graphite because it contains\nthese microscopic pores"},{"start_time":221686,"end_time":227490,"duration":5804,"text":"and that enables the\nreactants to mix much better. They can actually get inside those pores."},{"start_time":227490,"end_time":232860,"duration":5370,"text":"So if you mix potassium\nnitrate with the fuel, charcoal and add heat from a lighter,"},{"start_time":232860,"end_time":238653,"duration":5793,"text":"you should have all the\ningredients you need to make fire. So the question is, will this burn?"},{"start_time":239850,"end_time":244860,"duration":5010,"text":"It seems like little bits\nof it are catching on fire and just like sparking up from there."},{"start_time":244860,"end_time":252060,"duration":7200,"text":"But the trouble with this reaction is that it has a high activation energy. So it needs a lot of heat to get going."},{"start_time":252060,"end_time":257726,"duration":5666,"text":"Whoa. There it goes. That is cool."},{"start_time":257726,"end_time":264150,"duration":6424,"text":"(cheerful music) I can see little balls of molten stuff"},{"start_time":264150,"end_time":270539,"duration":6389,"text":"in the crucible there. That is awesome. So we do have oxygen and fuel\nand we can get that reaction,"},{"start_time":270540,"end_time":276510,"duration":5970,"text":"but it's just not a\nvery explosive reaction. This is where the sulfur comes in."},{"start_time":276510,"end_time":283020,"duration":6510,"text":"Sulfur starts reacting\nwith the other ingredients at lower temperatures, and\nthose reactions give off heat."},{"start_time":283020,"end_time":289920,"duration":6900,"text":"The sulfur is gonna act like kindling. It's gonna create that initial bit of heat that the potassium nitrate\nneeds to really break it open"},{"start_time":289920,"end_time":295800,"duration":5880,"text":"and then, you know, everything can react. So that's what I wanna do,\nI wanna try to mix sulfur, potassium nitrate and charcoal,"},{"start_time":295800,"end_time":301560,"duration":5760,"text":"which is like your quintessential\nrecipe for gunpowder. And the amounts that you need of this"},{"start_time":301560,"end_time":310100,"duration":8540,"text":"have been pretty stable\nfor like 800 years, which is about 75% potassium\nnitrate, 10% sulfur,"},{"start_time":311040,"end_time":317099,"duration":6059,"text":"and 15% charcoal. Those are the right mixtures so that you have just the right\nnumber of each type of atom"},{"start_time":317100,"end_time":324240,"duration":7140,"text":"to fully react and release\nthe most energy possible. So I wanna test how long it\ntakes for fire to burn down"},{"start_time":324240,"end_time":328560,"duration":4320,"text":"about a meter of this homemade gunpowder. Let's let her rip."},{"start_time":329400,"end_time":334803,"duration":5403,"text":"There it goes. Hey, it's going so slow."},{"start_time":335810,"end_time":341940,"duration":6130,"text":"(suspenseful music) Come on, you can do it."},{"start_time":341940,"end_time":349020,"duration":7080,"text":"Go, go, go, go, go. Wow, it made it to the end."},{"start_time":349020,"end_time":357750,"duration":8730,"text":"You know what I think the problem is the granules of charcoal that I've got and these grains of potassium\nnitrate, even the sulfur,"},{"start_time":357750,"end_time":365460,"duration":7710,"text":"they're all a bit big. So to actually get that\nreaction to happen fast, it's not really working."},{"start_time":365460,"end_time":370500,"duration":5040,"text":"So what I wanna do is compare that to store bought gun powder from, you know,"},{"start_time":370500,"end_time":376233,"duration":5733,"text":"a factory that's actually\nground up all those particles to be really tiny. So all the reagents are\nreally close together."},{"start_time":378483,"end_time":385458,"duration":6975,"text":"Oh my... - Whoo! - That is impressive. (suspenseful music)"},{"start_time":389466,"end_time":396633,"duration":7167,"text":"(laughs) Yes. That is gunpowder. That makes mine look so amateur."},{"start_time":397470,"end_time":403350,"duration":5880,"text":"The chemical reaction that occurs in the combustion of\ngunpowder is complicated, to say the least."},{"start_time":403350,"end_time":410880,"duration":7530,"text":"But a number of the\nproducts formed are solids, and that's why burning gunpowder\ncreates a lot of smoke."},{"start_time":410880,"end_time":417780,"duration":6900,"text":"The neighbors have gotta be\nlooking at this and being like- - That is so...\n- What the... The thing about gun\npowder is if you burn it"},{"start_time":415000,"end_time":499000,"duration":84000,"text":"Burning gunpowder"},{"start_time":417780,"end_time":424050,"duration":6270,"text":"when it's just exposed to the air, it doesn't really explode. And I think of gunpowder as explosive."},{"start_time":424050,"end_time":429060,"duration":5010,"text":"But in order to see that, what\nyou have to do is confine it. Because when you confine gun powder,"},{"start_time":429060,"end_time":434850,"duration":5790,"text":"you increase the concentration\nof all the reagents. They don't just blow away from each other when they catch fire."},{"start_time":434850,"end_time":439870,"duration":5020,"text":"So they're forced into closer\nproximity, so they react more. Plus you trap more of the heat,"},{"start_time":439870,"end_time":446320,"duration":6450,"text":"so the reagents get moving\nfaster, they have more energy, and so they can react more readily."},{"start_time":446321,"end_time":451653,"duration":5332,"text":"So I put 10 grams of\ngunpowder in a cardboard tube and taped it shut."},{"start_time":453296,"end_time":458958,"duration":5662,"text":"(explosion pops) Okay, that's better. But it wasn't as big of a\nbang as I was hoping for."},{"start_time":458958,"end_time":466170,"duration":7212,"text":"Well, it was a bit more\nof a pop than than a bang. Maybe we need a tighter vessel, I think. So I'm gonna use some\nfiber reinforced tape"},{"start_time":466170,"end_time":469850,"duration":3680,"text":"to strengthen the container, and then we should get a bigger bang."},{"start_time":471578,"end_time":476940,"duration":5362,"text":"(explosion booms)\nOoh! - It went right past me. (explosion booms)"},{"start_time":476940,"end_time":484319,"duration":7379,"text":"- It's more of a bang.\nThat's a bit more like it. Here I have 20 grams of black powder. So I guess the question is\nwith twice the black powder,"},{"start_time":484320,"end_time":488013,"duration":3693,"text":"do we get twice the bang? Here we go, everyone get back."},{"start_time":490188,"end_time":493271,"duration":3083,"text":"(explosion booming)"},{"start_time":496020,"end_time":501389,"duration":5369,"text":"This is essentially what a firework is. I mean, fireworks consist of a shell"},{"start_time":499000,"end_time":580000,"duration":81000,"text":"The shell"},{"start_time":501390,"end_time":506490,"duration":5100,"text":"with a lot of gunpowder inside. - So, this is an inert shell. It's colorized"},{"start_time":506490,"end_time":514200,"duration":7710,"text":"so that you can see the\nindividual pieces better. A real shell, everything\nin here would be black because it would be primed\nor covered with black powder."},{"start_time":514200,"end_time":519360,"duration":5160,"text":"- Actually a note about terminology. For a long time the terms\ngunpowder and black powder"},{"start_time":519360,"end_time":525630,"duration":6270,"text":"were used in interchangeably. But these days the formula\nfor gunpowder has changed to make it smokeless."},{"start_time":525630,"end_time":533820,"duration":8190,"text":"So what's used in fireworks is called, at least in the US, black powder, to distinguish it from\nmodern smokeless gunpowder."},{"start_time":533820,"end_time":540180,"duration":6360,"text":"Just know that in this\nvideo we'll use both terms to mean basically the same thing. - The shell itself is made out a cardboard"},{"start_time":540180,"end_time":546330,"duration":6150,"text":"and what looks like and\nis a form of paper mache with craft paper and a glue."},{"start_time":546330,"end_time":551700,"duration":5370,"text":"And you go around and around once you put the two\nshell halves together. - Is that like the standard\nsize you'd see when you go out?"},{"start_time":551700,"end_time":556709,"duration":5009,"text":"- So on a 4th of July display, you'll see anything\nfrom two and a half inch"},{"start_time":556710,"end_time":565410,"duration":8700,"text":"up to five inch typically. In most cases, six inch and above are reserved for locations\nthat you have a huge property,"},{"start_time":565410,"end_time":571433,"duration":6023,"text":"you're out in some desert shoot site or on a barge somewhere. But they can go even bigger\nthan this, up to 12 inch, 16"},{"start_time":571433,"end_time":578535,"duration":7102,"text":"and even larger in very special occasions. This is the hemisphere for a\n16 inch diameter aerial shell."},{"start_time":578535,"end_time":584910,"duration":6375,"text":"- That is a huge firework. The biggest aerial firework\never was 1.44 meters wide,"},{"start_time":584910,"end_time":589981,"duration":5071,"text":"and it weighed about the same as a car. (speaker gasping)"},{"start_time":589981,"end_time":596520,"duration":6539,"text":"- Ah-ooh-ooh-ooh!\n- Whoooh! - Whoa. (all laughing) - To launch a firework into the air,"},{"start_time":596520,"end_time":602820,"duration":6300,"text":"the way it's done is\nwith more black powder. - In a typical shell, you're gonna have a baggie of black powder"},{"start_time":602820,"end_time":609120,"duration":6300,"text":"that's underneath the shell, and that acts to fire the\nshell out of the mortar to the 800 feet in the air,"},{"start_time":609120,"end_time":615600,"duration":6480,"text":"which is what this eight\ninch shell would go to. Shells as large as say a 16 inch, those can use literally\npounds of black powder"},{"start_time":615600,"end_time":623520,"duration":7920,"text":"underneath them. - To ensure the shell goes straight up. It's placed in a big plastic\ntube called a mortar."},{"start_time":623520,"end_time":629370,"duration":5850,"text":"- A pyro technician gets two bangs for every one the audience does. You get a bang when the mortar fires"},{"start_time":629370,"end_time":634465,"duration":5095,"text":"and then a bang when the shell explodes. (explosions booming)"},{"start_time":636853,"end_time":642449,"duration":5596,"text":"And it's literally like a cannon, shooting a cannon ball in the air. So the audience doesn't get\nto hear or see or feel that,"},{"start_time":642450,"end_time":646894,"duration":4444,"text":"but the pyro crew does. (explosions booming)"},{"start_time":654406,"end_time":660839,"duration":6433,"text":"(audience cheering) - Does everything burn up\nbefore it reaches the ground?"},{"start_time":660840,"end_time":666510,"duration":5670,"text":"- The internal contents, yes. So all the stars, the\nburst, all of that stuff, the casing will come down in pieces."},{"start_time":666510,"end_time":673410,"duration":6900,"text":"That's why we have a fallout\nzone is what we call it. Or the exclusion zone, where only the crew is\nallowed with all their PPEs"},{"start_time":673410,"end_time":680940,"duration":7530,"text":"because you do get debris that comes down. It literally sounds like rain at the end from all of the debris from that finale,"},{"start_time":680940,"end_time":686279,"duration":5339,"text":"shells going off all at once. - How often do they malfunction?"},{"start_time":686000,"end_time":753000,"duration":67000,"text":"Explosion"},{"start_time":686280,"end_time":693097,"duration":6817,"text":"- It's rare, but it does happen. You'll have a wooden rack with a few HDPE, high density polyethylene mortars in it."},{"start_time":693097,"end_time":700080,"duration":6983,"text":"And that particular\nmaterial is meant to expand and split from the energy\nof a malfunctioning shell"},{"start_time":700080,"end_time":705959,"duration":5879,"text":"versus explode and throw\nshrapnel everywhere. - We actually experienced\nan incident like this"},{"start_time":705960,"end_time":710970,"duration":5010,"text":"with the biggest shell\nwe had set to launch. Okay, in three, two,"},{"start_time":710970,"end_time":716900,"duration":5930,"text":"one. (explosion pops) Oh, oh. That one did not look like it..."},{"start_time":716900,"end_time":724020,"duration":7120,"text":"(explosion booms) Oh!\n(laughs) That's what happens when\na firework doesn't lift."},{"start_time":724020,"end_time":730410,"duration":6390,"text":"- But because we follow all\nthe rules and regulations at a professional display, it's usually the crowd going, whoa."},{"start_time":730410,"end_time":737250,"duration":6840,"text":"And the crew going, whoa. (explosion booms) - Oh my God. (both laughing)"},{"start_time":737250,"end_time":742440,"duration":5190,"text":"- And then the show goes on is typically what happens\nafter a few safety checks when something like that goes on."},{"start_time":742440,"end_time":748170,"duration":5730,"text":"- Thankfully everyone was safe because we could trigger\nthe fireworks remotely from outside the blast radius."},{"start_time":748170,"end_time":752313,"duration":4143,"text":"But igniting explosives safely\nhas long been a challenge."},{"start_time":753000,"end_time":799000,"duration":46000,"text":"Black Match"},{"start_time":753540,"end_time":759960,"duration":6420,"text":"- In the mining industry, their delay method back then was to literally sprinkle\nout a trail of black powder"},{"start_time":759960,"end_time":765750,"duration":5790,"text":"through the mine to give\nthem a delay to the dynamite. - The simplest fuse just\nconsists of cotton string"},{"start_time":765750,"end_time":771703,"duration":5953,"text":"that's been soaked in black powder and then allowed to dry out. This is known as black match."},{"start_time":771703,"end_time":777900,"duration":6197,"text":"It burns well, but pretty slowly. - That alone would burn two\nto three seconds an inch."},{"start_time":777900,"end_time":784200,"duration":6300,"text":"But once you encase it in craft paper, that's literally all this is, you change that burn rate\nfrom a couple seconds an inch"},{"start_time":784200,"end_time":790470,"duration":6270,"text":"to anywhere from 30 to\na hundred feet a second. - This has the same effect as containing the black powder."},{"start_time":790470,"end_time":797190,"duration":6720,"text":"It traps in the heat and reagents, so the reaction goes much faster. - This is actually how we\nshoot our finale so fast."},{"start_time":797190,"end_time":803640,"duration":6450,"text":"We're not actually pushing\nbuttons that quickly. - This type of fuse is\nappropriately known as quick match."},{"start_time":799000,"end_time":850000,"duration":51000,"text":"Quick Match"},{"start_time":803640,"end_time":808769,"duration":5129,"text":"Now, before I'd ever seen\nquick match in action, it was suggested that I\ntry to race the signal"},{"start_time":808770,"end_time":816690,"duration":7920,"text":"down the fuse. What I'm gonna do is light this little piece\nof black match right here, and then I'm gonna try to race\nthe signal to the other end."},{"start_time":816690,"end_time":823649,"duration":6959,"text":"But still, I was not\nprepared for what came next. (suspenseful music) (explosions popping)\nAh! Jesus,"},{"start_time":823650,"end_time":830321,"duration":6671,"text":"what the heck was that? (suspenseful music)\n(explosions popping)"},{"start_time":833340,"end_time":839850,"duration":6510,"text":"You are kidding me. You didn't tell me it was gonna do that. The force of the combustion products"},{"start_time":839850,"end_time":846750,"duration":6900,"text":"causes the quick match\nto whip around wildly. It's crazy how much just\ncontaining the reagents"},{"start_time":846750,"end_time":853680,"duration":6930,"text":"and containing the heat from\nthe reaction accelerates it. It certainly burns much\nfaster than the black match"},{"start_time":850000,"end_time":963000,"duration":113000,"text":"Waterproof"},{"start_time":853680,"end_time":859683,"duration":6003,"text":"without the paper. (explosion pops)\nAh! Man. Every time, every time that gets me."},{"start_time":861870,"end_time":869490,"duration":7620,"text":"One problem with these basic fuses is they aren't waterproof. Even though they contain\nthe fuel and the oxidizer,"},{"start_time":869490,"end_time":876030,"duration":6540,"text":"so they don't need the\noxygen and the air to burn, they do need heat and\nwater is just too good"},{"start_time":876030,"end_time":882269,"duration":6239,"text":"at conducting the heat away from the fuse. So it snuffs out the reaction. And it fizzles out."},{"start_time":882270,"end_time":890220,"duration":7950,"text":"The same problem occurs with road flares. I thought since the flame comes\nout with such high pressure,"},{"start_time":890220,"end_time":895436,"duration":5216,"text":"it might be able to stay lit under water. Three, two, one."},{"start_time":895436,"end_time":900993,"duration":5557,"text":"(water splashes) And it did for a little while,"},{"start_time":902190,"end_time":908700,"duration":6510,"text":"but eventually the water got\nin there and stole the heat. So I think that the\nwater is putting it out"},{"start_time":908700,"end_time":916020,"duration":7320,"text":"by pulling the heat away from it so it doesn't have enough\nenergy to keep burning. (water burbling)"},{"start_time":916020,"end_time":922090,"duration":6070,"text":"You bring it out. Come on, come on. Ah. - Wait, look."},{"start_time":922090,"end_time":925308,"duration":3218,"text":"- He-ey! (both laugh) - Ooh!"},{"start_time":929277,"end_time":936630,"duration":7353,"text":"- And it's... (water burbling) There are special flares made\nfor underwater applications,"},{"start_time":936630,"end_time":944158,"duration":7528,"text":"but even those have similar problems. (water burbling)"},{"start_time":945690,"end_time":950730,"duration":5040,"text":"You can see the gaseous\ncombustion products being released here and\nbubbling to the surface."},{"start_time":950730,"end_time":955443,"duration":4713,"text":"And while this flare lasted longer, the water still eventually put it out."},{"start_time":956790,"end_time":962373,"duration":5583,"text":"Come on. Why did that go out? But it is possible to\nmake a waterproof fuse."},{"start_time":963000,"end_time":1031000,"duration":68000,"text":"Fireworks"},{"start_time":963360,"end_time":968631,"duration":5271,"text":"- So this is your traditional visco fuse. You're gonna see this in a lot\nof your consumer fireworks."},{"start_time":968632,"end_time":973982,"duration":5350,"text":"(calm music) - Very big firework store."},{"start_time":973982,"end_time":976732,"duration":2750,"text":"(cheerful music)"},{"start_time":981540,"end_time":986860,"duration":5320,"text":"I feel like we have to get this, spins? - Yeah. - And it makes fire?"},{"start_time":986860,"end_time":992280,"duration":5420,"text":"- Yeah. - I'm excited about this one. Here we go in three, two,"},{"start_time":992280,"end_time":999675,"duration":7395,"text":"one. - [Mike] It's really got a powder core with a fiber wrap to it."},{"start_time":999675,"end_time":1002675,"duration":3000,"text":"(fireworks popping)"},{"start_time":1006984,"end_time":1013580,"duration":6596,"text":"(laughing) And it's typically lacquer coated."},{"start_time":1013580,"end_time":1020164,"duration":6584,"text":"So these fuses are typically waterproof. (explosion popping)"},{"start_time":1021860,"end_time":1025333,"duration":3473,"text":"- Whoa! (water burbling)"},{"start_time":1029060,"end_time":1035360,"duration":6300,"text":"Wow! (laughs) That was impressive. Fuses are not only used\nto light fireworks,"},{"start_time":1031000,"end_time":1242000,"duration":211000,"text":"Fuses"},{"start_time":1035360,"end_time":1040610,"duration":5250,"text":"they are a core component\ninside a firework. - So that quick match flashes really quick"},{"start_time":1040610,"end_time":1046040,"duration":5430,"text":"down into the black\npowder lift that ignites. And while it's pushing the\nshell out of the mortar,"},{"start_time":1046040,"end_time":1051830,"duration":5790,"text":"it lights the time fuse. So this is what would\nactually be in the shell to give you the time delay."},{"start_time":1051830,"end_time":1056960,"duration":5130,"text":"From the time the lift charge fires to the time the shell hits\napogee and explodes in the sky."},{"start_time":1056960,"end_time":1063230,"duration":6270,"text":"You know, it's about a\nquarter inch in diameter and is really a black\npowder core rigid fuse"},{"start_time":1063230,"end_time":1070159,"duration":6929,"text":"compared to the more flimsy visco type. - It's really important\nthat the time delay fuse keeps the combustion contained inside it"},{"start_time":1070160,"end_time":1075590,"duration":5430,"text":"so the firework only\nexplodes when you want it to, at the very peak of its trajectory."},{"start_time":1075590,"end_time":1081380,"duration":5790,"text":"So we tested it underwater. Do you think it's waterproof? - Should be. - All right. It's taking its time."},{"start_time":1081380,"end_time":1086713,"duration":5333,"text":"There we go. That looks like a firework type fuse. - [Mike] These function"},{"start_time":1086713,"end_time":1091922,"duration":5209,"text":"by not spitting any fire out the side so that the shell doesn't\nget lit prematurely. - That's smart."},{"start_time":1091922,"end_time":1098982,"duration":7060,"text":"- [Mike] So you should only\nsee it spit out the end once it's made it's all the way through. - What's containing it? Like what kind of material\nis containing it in there?"},{"start_time":1098982,"end_time":1105443,"duration":6461,"text":"- [Mike] Well, there's a number... There's weaves of fibers in\nthere and a layer of asphalt that really provides that waterproofing."},{"start_time":1105443,"end_time":1110450,"duration":5007,"text":"- So you can kind of see how the signal is progressing. You can see how the fire's\nprogressing through there."},{"start_time":1110450,"end_time":1114340,"duration":3890,"text":"'Cause obviously it's getting hot. Some of the gaseous\nproducts are coming up."},{"start_time":1115520,"end_time":1120680,"duration":5160,"text":"Oh, is it gonna come out? Was that it?"},{"start_time":1120680,"end_time":1126921,"duration":6241,"text":"- [Mike] That was it. - That is all that is needed to ignite the core of a firework."},{"start_time":1126921,"end_time":1134270,"duration":7349,"text":"(both laugh) - So after that time fuse hits its end, it'll light a piece of black match that'll then flash into the burst charge."},{"start_time":1134270,"end_time":1139603,"duration":5333,"text":"So that's what's represented\nby this blue material, which is typically rice hulls\nor something similar to that"},{"start_time":1139603,"end_time":1144973,"duration":5370,"text":"coated with black powder. - What are ri... Oh rice hulls. - Yes. Rice hulls, not holes, sorry."},{"start_time":1144973,"end_time":1152120,"duration":7147,"text":"- I was like they're making\nrice holes like donut holes. - The reason we coat rice hulls is because you get a very granular powder"},{"start_time":1152120,"end_time":1160100,"duration":7980,"text":"in the center of the shell now, which allows the flame\nto propagate very quickly through the shell, igniting\neverything simultaneously,"},{"start_time":1160100,"end_time":1165440,"duration":5340,"text":"creating that significant\nover pressure very quickly to blow the shell open."},{"start_time":1165440,"end_time":1172342,"duration":6902,"text":"So a traditional peony shell would be your most basic of fireworks, where these stars would literally\nbe lining the hemisphere"},{"start_time":1172342,"end_time":1178520,"duration":6178,"text":"and then you'd have\nyour burst in the middle and that would give you a very symmetrical\nround sphere in the sky,"},{"start_time":1178520,"end_time":1184910,"duration":6390,"text":"your traditional firework that you see. - But it's just interesting to think that when you see a firework go off,"},{"start_time":1184910,"end_time":1190399,"duration":5489,"text":"you know, all those little points of light are about that size. - [Mike] Yeah. - But they look..."},{"start_time":1190400,"end_time":1197030,"duration":6630,"text":"I mean I would say that\nthey look bigger, right? 'Cause they're so bright, I guess. - Yeah. (drone whistling)"},{"start_time":1197030,"end_time":1202549,"duration":5519,"text":"- So fast. - How fast does this thing go? - Pretty quick and it\nis definitely trickier"},{"start_time":1202550,"end_time":1207920,"duration":5370,"text":"when it's dark like this. - Okay, can you see anything? - [Gene] Once I go start looking here,"},{"start_time":1207920,"end_time":1214640,"duration":6720,"text":"I'm like, I'm not sure. - How do you get focused to\nsomething that's not there yet and you're not quite sure where\nit is or where anything is"},{"start_time":1214640,"end_time":1220910,"duration":6270,"text":"'cause it's all pitch black? - 'Cause I basically have\nlocked exposure on this. And we can at least see\nhow the exposure is."},{"start_time":1220910,"end_time":1225043,"duration":4133,"text":"- Taking off. (drone whistling)\n(fireworks popping) - Yes."},{"start_time":1226760,"end_time":1233531,"duration":6771,"text":"Amazing. Blue. (calm music)"},{"start_time":1237230,"end_time":1242803,"duration":5573,"text":"- Oh shoot, okay. - Oh, dang.\n- FPV's down. - [Gene] Oh dang. I didn't realize I was\nso close to the ground. All right, hold on."},{"start_time":1242000,"end_time":1330000,"duration":88000,"text":"Stars"},{"start_time":1242803,"end_time":1246503,"duration":3700,"text":"- I just wanna see what\nthis looks like, you know, I wanna check this out. So."},{"start_time":1249560,"end_time":1256429,"duration":6869,"text":"Whoa, that is cool. I dig that. These stars are made of black powder"},{"start_time":1256430,"end_time":1263330,"duration":6900,"text":"mixed with chemicals to give\nthem different properties. - [Mike] So brocade crown star would be the big bushy gold tail"},{"start_time":1263330,"end_time":1268457,"duration":5127,"text":"that you would see in the sky. So imagine a big glittering gold shell."},{"start_time":1268457,"end_time":1273953,"duration":5496,"text":"(indistinct chatters) - I could actually see the\nlittle pieces coming off and glowing pretty bright right now."},{"start_time":1273953,"end_time":1279203,"duration":5250,"text":"- [Mike] Now, imagine those leaving a tail as they fly through the sky. It's a really spectacular effect."},{"start_time":1280160,"end_time":1286550,"duration":6390,"text":"- This is gonna be blue. Ah. Often the chemicals mixed into the stars"},{"start_time":1286550,"end_time":1293000,"duration":6450,"text":"are used to create specific colors. - [Mike] Each of these stars would be coated with a primer composition,"},{"start_time":1293000,"end_time":1300410,"duration":7410,"text":"which is a really fine black powder. The reason for that is a\nlot of color compositions take more heat to ignite,"},{"start_time":1300410,"end_time":1306020,"duration":5610,"text":"so they have a higher\nignition temperature. So by coating with black\npowder, with that primer,"},{"start_time":1306020,"end_time":1311838,"duration":5818,"text":"you're ensuring ignition of all the stars, which then transfer the fire\nto that color composition."},{"start_time":1311838,"end_time":1317840,"duration":6002,"text":"(calm music) - And then it started taking off on you. (imitates firework)"},{"start_time":1317840,"end_time":1322626,"duration":4786,"text":"That's cool. I like that. (calm music)"},{"start_time":1325310,"end_time":1331100,"duration":5790,"text":"Jeez it's bright. The colors of fireworks are actually thanks to quantum mechanics."},{"start_time":1330000,"end_time":1353000,"duration":23000,"text":"Quantum Mechanics"},{"start_time":1331100,"end_time":1336650,"duration":5550,"text":"An element absorbs energy\nfrom the combustion raising an electron to\na higher energy level."},{"start_time":1336650,"end_time":1343070,"duration":6420,"text":"And there are only certain\ntransitions which are allowed. So when the electron drops back down to a lower energy level,\nit gives off light"},{"start_time":1343070,"end_time":1348290,"duration":5220,"text":"with a specific energy of that transition, which corresponds to a particular color."},{"start_time":1348290,"end_time":1355070,"duration":6780,"text":"Some elements are particularly well-suited to create certain colors. So as the copper ions go in there,"},{"start_time":1353000,"end_time":1445000,"duration":92000,"text":"Blue Color"},{"start_time":1355070,"end_time":1360440,"duration":5370,"text":"they absorb energy from the\nfire, from the combustion, and then the electrons drop back down"},{"start_time":1360440,"end_time":1366560,"duration":6120,"text":"to a lower energy level and they give out that\nblue light predominantly. And that's why we get\nsuch a great blue color."},{"start_time":1366560,"end_time":1372290,"duration":5730,"text":"What a thing of beauty. This is just a little interjection because I was looking at our flame tests"},{"start_time":1372290,"end_time":1377450,"duration":5160,"text":"and the copper salt tests, you know, anywhere you look, copper\nfireworks are meant to be blue,"},{"start_time":1377450,"end_time":1383360,"duration":5910,"text":"like bright blue, but those\nflame tests look kind of green. And so I didn't really\nknow what was going on,"},{"start_time":1383360,"end_time":1388610,"duration":5250,"text":"but I was sitting here\nplaying with my kids with the KiwiCo flame test kit."},{"start_time":1388610,"end_time":1394760,"duration":6150,"text":"I know like they did sponsor this video, but didn't tell me to put\na section like this in. But what I found is that, okay,"},{"start_time":1394760,"end_time":1399760,"duration":5000,"text":"I'm using a copper salt\nhere and it starts out green"},{"start_time":1400070,"end_time":1405559,"duration":5489,"text":"and then if you leave it for\na while, come zoom in here, it starts to get blue."},{"start_time":1405560,"end_time":1410630,"duration":5070,"text":"Oh, look at that blue. To get the beautiful blue color.\nI think you need more heat."},{"start_time":1410630,"end_time":1416360,"duration":5730,"text":"I think it's a higher\ntemperature that we need that we didn't achieve in our\nflame tests out in the field."},{"start_time":1416360,"end_time":1422780,"duration":6420,"text":"Here we got some calcium\nchloride. Oh yeah. Oh, that is a beautiful orange."},{"start_time":1422780,"end_time":1428513,"duration":5733,"text":"Look at that. Here we're getting some potassium chloride to give us some violet."},{"start_time":1429680,"end_time":1434813,"duration":5133,"text":"I'm not seeing too much violet, but maybe just a little. Barium chloride."},{"start_time":1438320,"end_time":1444139,"duration":5819,"text":"Of course, that's just small scale. Our pyro technician mixed\nup some color salt and fuel"},{"start_time":1444140,"end_time":1449900,"duration":5760,"text":"in a mortar. - [Mike] What's in there is\nabout two gallons of methanol with boric acid on this one. (explosion booms)"},{"start_time":1449900,"end_time":1456410,"duration":6510,"text":"(both laughing) And copper(II) chloride on this one. - Three, two, one."},{"start_time":1457572,"end_time":1463430,"duration":5858,"text":"Fire.\n(explosion booms) Yeah! That was awesome. (calm music)"},{"start_time":1463430,"end_time":1470600,"duration":7170,"text":"That is the beauty of quantum mechanics. The electron transitions that give rise to the\ncolor of fireworks are,"},{"start_time":1470600,"end_time":1478010,"duration":7410,"text":"at least in my opinion, way cooler than colored smoke bombs. So the combustion products here are solid,"},{"start_time":1478010,"end_time":1483982,"duration":5972,"text":"and that's why they make so much smoke. In this case, there's just dye in the\nsmoke to give it its color."},{"start_time":1485756,"end_time":1492860,"duration":7104,"text":"Yes. To make so-called ghost shells, the stars are coated in\nlayers of different chemicals,"},{"start_time":1492860,"end_time":1500150,"duration":7290,"text":"which allows them to\nchange color mid-flight. - So assuming your shell\nconstruction was very uniform,"},{"start_time":1500150,"end_time":1505610,"duration":5460,"text":"your casing, all your\nstars are the same mass, you're gonna get a very\nuniform explosion in the sky."},{"start_time":1505610,"end_time":1512210,"duration":6600,"text":"So it's really as simple as how you lay out the stars in the shell and it'll break in that\npattern in the sky."},{"start_time":1512210,"end_time":1517520,"duration":5310,"text":"- So what's your favorite patterned? - Jellyfish are pretty neat."},{"start_time":1517520,"end_time":1523250,"duration":5730,"text":"If you've ever seen a jellyfish, it really looks like a jellyfish. You get the dome and then you get tentacles\ncoming out the bottom."},{"start_time":1523250,"end_time":1528800,"duration":5550,"text":"- That sounds amazing. - [Mike] Yeah. - Do they just do it by changing the color"},{"start_time":1528800,"end_time":1533899,"duration":5099,"text":"and position of the stars up here? Like how do you get a\ndome and then tentacles? - If this was the shell"},{"start_time":1533900,"end_time":1539320,"duration":5420,"text":"and you'd have another half this way, only the top half would be covered- - Would be fully covered. - And that would be your dome."},{"start_time":1539320,"end_time":1544760,"duration":5440,"text":"And then you'd have a couple larger stars to create the large tentacles\nthat come out the bottom. - Ah."},{"start_time":1544760,"end_time":1549980,"duration":5220,"text":"These days fireworks\naren't usually triggered by lighting a fuse by hand,\nbut by pushing a button."},{"start_time":1549980,"end_time":1556520,"duration":6540,"text":"- Each one of these buttons would correspond to an\nindividual firing circuit going out into the field. - The button sends current down the wire"},{"start_time":1556520,"end_time":1561926,"duration":5406,"text":"to an electric match. A little filament in the match heats up, triggering a chemical reaction."},{"start_time":1561926,"end_time":1565480,"duration":3554,"text":"- [Mike] Which then spits fire into whatever you're trying to light."},{"start_time":1567000,"end_time":1745000,"duration":178000,"text":"Fireworks Finale"},{"start_time":1568310,"end_time":1575809,"duration":7499,"text":"- [Gene] Yeah, I think it's just... - Dust in the motors? - I think so. This might be a pretty quick repair."},{"start_time":1575810,"end_time":1582674,"duration":6864,"text":"- We are about to have a fireworks finale in the middle of nowhere in the pitch dark"},{"start_time":1582674,"end_time":1589430,"duration":6756,"text":"for like a minute. And we're gonna try to\nfly FPV drone through it."},{"start_time":1589430,"end_time":1597264,"duration":7834,"text":"So what does it actually\nlook like to be in the middle where all the fireworks\nare exploding in three,"},{"start_time":1597290,"end_time":1604693,"duration":7403,"text":"two, one. (drone whistling)\n(fireworks popping)"},{"start_time":1610758,"end_time":1615024,"duration":4266,"text":"- Thank you. (fireworks popping)"},{"start_time":1628922,"end_time":1633922,"duration":5000,"text":"(upbeat music)\n(fireworks popping)"},{"start_time":1653450,"end_time":1658610,"duration":5160,"text":"Wow. Can we get some light on the ground here? (laughing)"},{"start_time":1658610,"end_time":1663770,"duration":5160,"text":"- That was insane. - The fireworks finale\ntriggered my car alarm."},{"start_time":1663770,"end_time":1669950,"duration":6180,"text":"- They were like two\ntimes where I was like, \"I'm not sure if I'm upside down or not, but I gotta hold this shot.\""},{"start_time":1669950,"end_time":1676761,"duration":6811,"text":"Okay, so - [All] Whoa. (hopeful music)"},{"start_time":1679820,"end_time":1684932,"duration":5112,"text":"- Oh man. Right through\nthem, right around them. Just parked right down into that."},{"start_time":1684932,"end_time":1690945,"duration":6013,"text":"(all laughing) Whoa, that is so wicked."},{"start_time":1692316,"end_time":1697970,"duration":5654,"text":"- Dude. - Yeah, there we go. (all laughing) - You're upside down."},{"start_time":1697970,"end_time":1704697,"duration":6727,"text":"- [Gene] Right there. (hopeful music) I was just chasing everything. (hopeful music)"},{"start_time":1727670,"end_time":1733280,"duration":5610,"text":"- Fireworks are this perfect\ncombination of chemistry, light, and sound."},{"start_time":1733280,"end_time":1738478,"duration":5198,"text":"If their purpose is to banish bad spirits, I'd say they achieve it."},{"start_time":1738478,"end_time":1741478,"duration":3000,"text":"(fireworks booming)"},{"start_time":1745000,"end_time":1870000,"duration":125000,"text":"Kiwico"},{"start_time":1745172,"end_time":1752720,"duration":7548,"text":"(squicky sound) Hey, this video was sponsored by KiwiCo."},{"start_time":1752720,"end_time":1759440,"duration":6720,"text":"You know, every time a KiwiCo\ncrate shows up at our house, my kids get really excited. (screaming)"},{"start_time":1759440,"end_time":1765684,"duration":6244,"text":"What is it guys? - I love me this one. - You light it on fire and it\nmakes different color flames."},{"start_time":1765684,"end_time":1771470,"duration":5786,"text":"(gasps) - The different chemicals you put on? - Uh-huh. And that's because they know what's inside"},{"start_time":1771470,"end_time":1779300,"duration":7830,"text":"is a hands-on project that\nthey get to build with me. And the building is a lot of fun and playing with it\nafterwards is even better."},{"start_time":1779300,"end_time":1785412,"duration":6112,"text":"From my perspective, the best part is that my kids\nare learning about science, technology, engineering and design"},{"start_time":1785412,"end_time":1790452,"duration":5040,"text":"while playing and having fun. And I think that is the best way to learn."},{"start_time":1790452,"end_time":1798350,"duration":7898,"text":"So the way it works is that each month KiwiCo delivers a crate right to your door and inside is everything you\nneed to complete the project."},{"start_time":1798350,"end_time":1804830,"duration":6480,"text":"And I mean everything. So there are no additional\ntrips to the store. We've been getting crates\nfor three years now."},{"start_time":1804830,"end_time":1810980,"duration":6150,"text":"So we've built lots of different projects and they're all high quality. I got to tour KiwiCO's headquarters,"},{"start_time":1810980,"end_time":1817040,"duration":6060,"text":"so I saw how their crates\nare designed by experts and then tested with kids\nbefore they're ever sent out."},{"start_time":1817040,"end_time":1822890,"duration":5850,"text":"They're also really good value. Most KiwiCo subscriptions work\nout to around $20 per month."},{"start_time":1822890,"end_time":1829550,"duration":6660,"text":"They have nine different product lines targeted at different age groups. Everything from newborns up to 14 plus"},{"start_time":1829550,"end_time":1836150,"duration":6600,"text":"so your kids can grow with\nKiwiCo just as mine have. I think my favorite thing is\nthat working on these projects"},{"start_time":1836150,"end_time":1841250,"duration":5100,"text":"has become something that we do together. Every month there is this thought starter"},{"start_time":1841250,"end_time":1846440,"duration":5190,"text":"and an invitation to spend\nsome quality time together and it just arrives on our doorstep"},{"start_time":1846440,"end_time":1853460,"duration":7020,"text":"and I really appreciate that. So if you wanna try it out, go to kiwico.com/veritasium\nto get your first month free."},{"start_time":1853460,"end_time":1858799,"duration":5339,"text":"Using my link, you're not\nonly getting a great deal, you're also helping to\nsupport this channel."},{"start_time":1858800,"end_time":1863899,"duration":5099,"text":"And if you want to purchase single crates, that's also an option\nthrough the KiwiCo store."},{"start_time":1863900,"end_time":1869933,"duration":6033,"text":"They make great gifts. So I wanna thank KiwiCo\nfor sponsoring this video and I wanna thank you for watching."}],"hashtags":null,"tags":["veritasium","science","physics"],"next_recommended_videos":null,"recommended_videos":[{"url":"https://www.youtube.com/watch?v=ZjBgEkbnX2I","title":"Why Airships Might Make A Comeback","thumbnail":"https://i.ytimg.com/vi/ZjBgEkbnX2I/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBlEL_h4oVoccWnm6GfgWX8I7fIdA"},{"url":"https://www.youtube.com/watch?v=YMDJA4UvXLA","title":"The Explosive Element That Changed The World","thumbnail":"https://i.ytimg.com/vi/YMDJA4UvXLA/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDbRxlZ0ehkN1RskoKHD7s5BO7VpA"},{"url":"https://www.youtube.com/watch?v=HRx_dZawN44","title":"The Hidden Engineering of Landfills","thumbnail":"https://i.ytimg.com/vi/HRx_dZawN44/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLD6UpGLJsG3lFfQXCfJB5WmVoWLbg"},{"url":"https://www.youtube.com/watch?v=2oDXbFcHliM","title":"The Most Important Material Ever Made","thumbnail":"https://i.ytimg.com/vi/2oDXbFcHliM/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLA7XA3u3p-uZQ8bw9eWMvwibgTPTg"},{"url":"https://www.youtube.com/watch?v=xUUW6SYl_ak","title":"We should use this amazing mechanism that's inside a grasshopper leg","thumbnail":"https://i.ytimg.com/vi/xUUW6SYl_ak/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCQEyhc55VLK4hn3TR9UeUC_Vd31w"},{"url":"https://www.youtube.com/watch?v=IN2C19DvDE8","title":"Pyrotechnician Answers Fireworks Questions From Twitter | Tech Support | WIRED","thumbnail":"https://i.ytimg.com/vi/IN2C19DvDE8/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDj_VSBns4bYfJaHwne7UNVsTXyvA"},{"url":"https://www.youtube.com/watch?v=aA8LLjTghVQ","title":"Camera in a Bowling Ball!","thumbnail":"https://i.ytimg.com/vi/aA8LLjTghVQ/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLARUEmZtr3FtPieTRByasUKJO93PQ"},{"url":"https://www.youtube.com/watch?v=vSNtifE0Z2Q","title":"How NASA Reinvented The Wheel","thumbnail":"https://i.ytimg.com/vi/vSNtifE0Z2Q/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAljsdkxWe8sjRyQnjcVLKl4qDsog"},{"url":"https://www.youtube.com/watch?v=EtoZOqbwH9E","title":"How Japanese Fireworks are Made & Launched ★ ONLY in JAPAN","thumbnail":"https://i.ytimg.com/vi/EtoZOqbwH9E/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLB9UoO6tRS9eqtpeYn26MdzK_27Fg"},{"url":"https://www.youtube.com/watch?v=J_n1FZaKzF8&pp=0gcJCcMJAYcqIYzv","title":"Testing the US Military’s Worst Idea","thumbnail":"https://i.ytimg.com/vi/J_n1FZaKzF8/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDMMRvrIE-GOP3p9k9f83KWfpGTmQ"},{"url":"https://www.youtube.com/watch?v=24GfgNtnjXc","title":"Why no two people see the same rainbow","thumbnail":"https://i.ytimg.com/vi/24GfgNtnjXc/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBFnKqkTDdetfzq8KulbJndX717gA"},{"url":"https://www.youtube.com/watch?v=tmbZVmXyOXM&pp=0gcJCcMJAYcqIYzv","title":"Why Are Cooling Towers Shaped Like That?","thumbnail":"https://i.ytimg.com/vi/tmbZVmXyOXM/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLB0FDtOat_6Z1BgjPX_K7hA61khPg"}],"transcript_language":[{"language":"English","auto_translate":false},{"language":"English (auto-generated)","auto_translate":true}],"chapters":null,"timestamp":"2025-06-27T16:42:20.766Z","input":{"url":"https://www.youtube.com/watch?v=lfkjm2YRG-Q","country":""}},{"url":"https://www.youtube.com/watch?v=kEtGm75uBes","title":"Build a Full Stack RAG System with React, Langchain & Node.js","youtuber":"@notjustdev","youtuber_md5":"22b02a77e45db13832ec986839e835cf","video_length":12712,"likes":201,"views":6062,"date_posted":"2025-03-22T06:26:40.000Z","description":"✨ Want to scrape data like a pro? Get $15 in free credits here: https://brdta.com/notjustdev\n✨ Try Genezio today to simplify scaling and deploying your API. Sign up for free here: https://bit.ly/41LCDzh\n\n📚 Get the step-by-step guide: https://assets.notjust.dev/youtube-chat\n\nWant to chat with any YouTube video using AI? 🤖 In this tutorial, you’ll learn how to build a full-stack Retrieval-Augmented Generation (RAG) system that lets you ask questions about YouTube content and get accurate, AI-generated answers. You’ll learn how to scrape video transcripts using BrightData, process them with Langchain, and connect to powerful LLMs like OpenAI and Anthropic—all deployed with Genezio. 🤖 🚀\n\n❗️ React Native Mastery is the ONLY course you need to Master mobile development with React Native & Expo 🚀\nEnroll here: https://www.notjust.dev/react-native-mastery\n\n📝 This video includes a lot of tools and technologies, providing an excellent opportunity to learn:\n👉 How to scrape YouTube video transcripts using BrightData\n👉 How to build a NodeJS and Express backend for a RAG system\n👉 How to process YouTube transcripts and generate embeddings with Langchain\n👉 How to query OpenAI and Anthropic models for context-aware answers\n👉 How to store and retrieve embeddings from a PostgreSQL vector database\n👉 How to create a React web app to chat with YouTube videos in real time\n👉 How to deploy a full-stack AI app seamlessly using Genezio\n.. and MORE!\n\n💡 Have an idea for a future tutorial? Share it on our Idea Board: https://github.com/orgs/notJust-dev/discussions\n\n💬 Join the notJust Development gang and let's build together:\nTwitter: https://twitter.com/VadimNotJustDev\nInstagram: https://www.instagram.com/VadimNotJustDev\nFacebook: https://www.facebook.com/notjustdev\nLinkedIn: https://www.linkedin.com/in/vadimsavin\nDiscord: https://discord.gg/VpURUN2\n\n#notjustdev #langchain #react","num_comments":6,"subscribers":131000,"video_id":"kEtGm75uBes","channel_url":"https://www.youtube.com/@notjustdev","preview_image":"https://i.ytimg.com/vi/kEtGm75uBes/hqdefault.jpg","shortcode":"kEtGm75uBes","verified":false,"handle_name":"notJust․dev","avatar_img_channel":"https://yt3.ggpht.com/VdNMLGk6QNH3gRusX4H3drUDqTb0NxbQp9NLU7tOVY1U_Qy0ah8TK1NviXBwYyikhl89Zzg3=s48-c-k-c0x00ffffff-no-rj","related_videos":["https://www.youtube.com/watch?v=h5HE0Lu1--U","https://www.youtube.com/watch?v=sVcwVQRHIc8","https://www.youtube.com/watch?v=HSRYHwL6rPs","https://www.youtube.com/watch?v=vT03ndfr_-w","https://www.youtube.com/watch?v=VYHcnQeuSew","https://www.youtube.com/watch?v=nQdyiK7-VlQ","https://www.youtube.com/watch?v=wT7R7sxu4Tk","https://www.youtube.com/watch?v=Cm2FRfiAzSU","https://www.youtube.com/watch?v=qAF1NjEVHhY","https://www.youtube.com/watch?v=-FNBxclKzH4","https://www.youtube.com/watch?v=xsCedrNP9w8","https://www.youtube.com/watch?v=HSZ_uaif57o","https://www.youtube.com/watch?v=2DXiOtEwWtU","https://www.youtube.com/watch?v=Mcw8Mp8PYUE","https://www.youtube.com/watch?v=8juRvzZg_AI","https://www.youtube.com/watch?v=iBFHWS8rbW4","https://www.youtube.com/watch?v=BvDfd28qM48","https://www.youtube.com/watch?v=E4l91XKQSgw","https://www.youtube.com/watch?v=rb9jXHto_RU","https://www.youtube.com/watch?v=J5_-l7WIO_w"],"license":null,"viewport_frames":"640x360 / -","current_optimal_res":"640x360@30 / 640x360@30","codecs":"avc1.42001E, mp4a.40.2 / mp4a.40.2","color":"bt709","quality":"hd1080","quality_label":"1080p60","post_type":"post","youtuber_id":"UCYSa_YLoJokZAwHhlwJntIA","transcript":"what's up Noz developers welcome back to another live tutorial today we're going to have another AI agent tutorial and our AI tutorial that is going to help and teach you how to build an AI agent from scratch using langra as with an aspect of rag today we're going to learn more about all of these terms what we mean and I'm so excited about everything that is happening right now in the AI world like what's possible to build what powerful tools we have available at our fingertips and how easy it is to actually Implement them after we understand how they work and the goal of these tutorials is to help you make sense of everything that is going on out there and to give this ideas of what is possible so make sure to follow along this tutorial by the end and I promise you that you're going to know more about AI agents and how to build them know more about rag system and how to build them and by then you're actually going to have an system an AI agent with an interface with backend deployed and accessible by anyone that can uh answer questions about YouTube videos so the project that we're going to build today is the AI chat with YouTube videos and what do I mean by that let me give you a little context that one of the most powerful applications of llm nowadays is to build this sophisticated um question answering Bots that have knowledge about a very particular area because we most probably all have already experienced uh general purpose llms uh such as the chbt let's say from open AI that is exceptionally good at understanding human language and generating text answering questions or continuing uh text generation however the general purpose AI models they do not know very specific information so while it's a very good generalist when it comes to specializing in a very specific topic it's not very good it doesn't have most up-to-date information out of a box um so for example if we ask a question about a documentation or about like a document a law or something like that it can get a little bit lost however if we as developers give the right information to the llm the llm can use that information to generate an accurate and upto-date anware which makes this system so powerful this system of injecting uh context into llm is called Rag and that's what we are going to use today and in our project our system is going to get information is going to get a YouTube video we're going to do some magic there to scrape that transcript of that YouTube video so we know what's being talked in that YouTube video and then our AI chat is going to be able to answer questions very specific to that YouTube video such as what is the main topic of a podcast how much money did for example he invest in Beast games like very specific of what being discussed there and what's going to happen is our AI system is going to go ahead and get the part that is most relevant to this question and based on that part of the interview is going to generate an answer or for example it can take an eight hour tutorial from our Channel and you can ask questions like what tools didim use there he's going to look for the video uh transcript is going to find the information there and is going to give you an answer or uh maybe you can use it like I get an error did I miss anything and again it's going to use the brain power of an nlm with the context of a video to give you the right answer and this is actually how I came up to this idea I was thinking about building an agent that can answer questions based on our videos for example you might be searching for um a tool and you want to know in which video we implemented you can use this agent to ask and it's going to go and knowing all the information about our videos is going to answer where that is happening there are a lot of applications of this kind of powerful Bots uh from uh analyzing public data like on YouTube chatting with long TXS with long loss uh with blog posts with podcasts and much much much more so if we talked about rag let me quickly discuss more about that so what is rag rag is stands for retrieval augmented generation and in simple terms generation means the part of an llm that generates text you give it some text usually let's say a question and how it works it generates what is the most probable next part of a text that comes after that usually an answer for example retrieval augmented means that it first Reves context that it needs and it augments it improves the generation part using the information retrieved so in our case with YouTube it first will retrieve information about the video about the transcript and then using that information is going to uh generate the answer rag has usually two parts in it and the first part is in the pipeline is a indexing pipeline this usually happens offline um not when the user requests something but beforehand and that usually happens in following steps first we have to load the data this can be documents this can be HTML Json URLs PDFs we need to get the data that we uh want to work with after we get the data we have to split it into manageable chunks because uh if we have like thousands of uh characters into a document it's going to be harder to um there is a limit to how much context we can give it an llm and it would be better to split it and then when we have a question only get the chunks the pieces of data that are relevant to that question after we split the documents into small chunks what we do is we embed embeddings um in simple words means we take take a bunch of text we put it through a system and in the end we get an vector and a vector is basically an array of numbers array of numbers that represents a vector uh in a very multi multi-dimensional space to think about a vector very simple one would be a two-dimensional Vector that is an arrow pointing into One Direction and having this vector later we can compare it with other vectors to know how similar they are that's basically how similarity search in this system works we take a text we generate a vector which is a numerical representation of that text after that we take a in The Next Step we're going to see how we find the similarity so after we generate this embeddings and again it's important to understand the concept of it it's not very important to understand how this is happening because it's a matter of calling an AI model that is built for generating this embeddings so think about it as a function we give it text it gives us back an array of numbers which represents a vector having this Vector we need to store it somewhere and we need to store it in a database that can support querying based on Vector similarity basically saying give me documents that are very similar to this document based on these numbers after we have a store data there we are ready for the next step the next step is retrieve and generate this usually happens when the user interacts with our system when it asks a question so the user asks a normal question in a very human readable language it can have mistakes and so on but llm is smart enough to embed it and based on the embedding of a question which is the same process as here we are finding the documents that are related to that question that are very similar to that question then we see which of these documents are the most relevant document to this question most relevant pieces of do parts of our text relevant to the question we retrieve it from the database and we put it as context in the prompt then this prompt we send it to a normal llm such as open AI um models and then we get an answer back but the answer has the context so it's very specific to the data that we gave let me know if that is um that is clear um but we're going to understand it and I'm going to explain it again and again as we Implement all of these steps let's talk a little bit about the architecture of application that we're going to build today so first we're going to have a chat interface we're going to build that with react the chat interface uh is going to interact with our AI agent which is going to be um in in our backend we're going to build our back end with no GS I'm a JavaScript developer so I must rather I I feel more comfortable building with JavaScript but if you're python developer langra is also available for Python and I know a lot of people prefer python in this in this situations over JavaScript but I think it's perfectly fine with GS as well so the backend is in our case is going to be an API that is going to contain multiple Parts one of them is going to be our AI agent and the AI agent in this case like is a simple abstraction on top of an llm the large language model provided by either anthropic or open Ai and these uh providers like entropic and open AI they are very uh interchangeable so use the one that you uh feel best um in this situation we're going to have a simple chat chatting application such as CH that we can ask a question it can answer us back nothing more than that it not doesn't yet have context about YouTube videos but we need our chat interface to know and to talk about the YouTube videos that we want to talk about for that we're going to have to index our YouTube videos to build this rag system so if we look at the uh flow we have to load the data first how we're going to load the data well the data we're going to get it from YouTube uh and we're going to do that using the web scraper provided by bright data if you don't know about bright data this is the best uh tool to scrape and get access to public data uh on the internet uh they run on a very powerful proxy Network and are implementing a lot of features of unblocking the web for you like solving capturas or rotating IPS and basically you can think about like okay I need data I don't know and I don't want to care about how to get it just going to go on bright data and there you're most probably will find an API pre-build for scraping this data for you if not you can use the scraping browser and implement this yourself and in the world of AI with bright data you can give basically access to any data on the web to your AI because the power of our AI models is depends on the power of the data that we provide or give it access to so with combining bright data with AI models I think this is a very good combination and Powerful one to that unlocks you so much possibilities so we're going to use Bri data to scrape YouTube videos specifically the transcriptions the captions and then we're going to need to uh if we looking back into this one we need to split and embed it for that we're going to use an l M such as open AI that is uh and specifically an embedding model not a generation model embedding means we give you text you give me back a vector after we have a vector we need to store it somewhere we will store it in a vector database so it should be a database that can do these queries on vectors like similarity queries and pogress has a PG vector that is an extension uh allowing to do this kind of uh similarity search on postgress data so we're going to do that as well we're going to create a database we're going to store the data there and that is the first step done for the next step when the user ask a question we need to retrieve this data and generate it so that's where our AI agent we're going to have to give it access to our vector database to retrieve the information that it needs to generate the answer so finally we're going to deploy everything to jio both the front end and our back end for the AI agent and the API and if you don't know about genesio this is the best way to deploy web applications they support a lot of Frameworks both front end and backend and that's what I like about it because I can use jio to deploy both the front end and the back end of our application and we're going to have it everything up and running very very fast and I would like to say thank you to janio and to Bri data for making this video possible very excited uh if you are also excited I think we can get started let's roll the [Music] intro all all right so I want to mention that the step-by-step guide as usually is in the link in the description below so if you go ahead on the under the video where is it uh and open it here you're going to see the guide so go ahead open it up uh go to site leave your name email and you're going to receive access to the uh to the guide to the notion guide so let me copy the URL as well to open it up here with you and here you're going to have like more step by step and I left here a little bit more resources where you can learn more um so we're going to use a lot the blog from linkchain because we're going to use l chain to build our AI agent and we have here a two-part block log however not everything from here is super applicable to our case so I would recommend you read here to know more or follow what we are going to do and we're going to do everything step by step for that let's go ahead and open a terminal and get started I cannot wait to to get started I'm going to zoom in here let's navigate to our project YouTube 0320 like this and let's create a directory let's call it chat with YouTube uh let's call it AI chat with YouTube let's go ahead and open this folder in our editor of choice I'm going to open it with cursor you can open it with Visual Studio code uh or any other editor of your choice in my case using cursor is going to speed up a little bit the the development process because nowadays I feel more and more often using um AI Co code generation to to speed up my my process today I'm going to use it only in specific cases where it's going to save us time but when it comes to learning the AI agent we're going to try to write everything ourself um so being in this folder in this project we're going to create uh first one folder called server and this folder I open up terminal and did mkd server where you can simply do new folder here and let's go ahead and do CD server in our terminal and initialize our noj project I'm going to do that with npm in need- Y and in our server we have package.json while we are here maybe we can even do here type module um to be able to use like normal import statements and for now that's it in a second we're going to install dependencies here but for now let's go ahead and simply create the agent. GS here because the first step in our case is is going to build our agent here let's just do console log hello world in our package.json H maybe I don't need it I will just go ahead in the terminal inside being inside the server I'm going to do node agent. GS and if I do that we're going to see Hello World so that's how we're going going to start initially testing it we're going to Simply execute this agent file later we're going to put it inside um behind an API uh so we can fetch and integrate it from the client side from the front end perfect let's go ahead and um there is also a blog post which I did two weeks ago around building AI agents with lra that one is really a step by step uh implementation of how to build this kind of agents and I will open it up because there I showed you how to get started with that what I want to do is I want to First install these dependencies I will install Leng chain L graph length chain Das core and L chain entropic because I'm going to use entropic for the llm for the completion model and then also Zod we're going to see why we need Zod in a moment so let's copy this command from here I'm by the way also going to add it uh here in the steps actually it's you can go in the steps and take it from there and being inside the server here let's go ahead and install L chain langra where is it langra and Zod now we need to create thatv file where we're going to write the um how is it called we need the environment variable with entropic key to get the entropic key go ahead on entopic anthropic doc go ahead and uh do build with CLA do learn more start building and in your uh after signing in in your account you're going to be able to generate an API Key by the way entropic is not the only way to do that you can easily integrate with open AI as well however I tried with open Ai and I didn't really like the performance like how it behaved there so I don't know maybe I didn't try the right model from open AI but we're still going to use open AI in the next step for something else so in the embedding what we need to do in the EnV we need to provide here the API key actually let me go ahead and uh entropic console. entropic to generate a new key that we can easily remove later uh I need the de how is it called console entropic do don't remember the the account that I used okay here it is so what I'm going to do is I'm going to go into the API keys I'm going to click read key and I'm going to see say here chat with YouTube Key let's do add I'm going to copy it I'm going to also delete it later don't worry and here let's put it into an an Tropic come on un Tropic API key and let's put the API key here let's also go ahead and add a new file here dogit ignore with without dasg ignore and add the. EnV file V because we don't want to commit the uh private key of our models to our git while we're ve we can also put the node modules perfect now that we have entropic key here uh we are going going to have access to it through process.env but what we're going to do is we are going to use it to create the the entropic chat client so in our agent what we need is first we need to do to import chat entropic from L chain entropic then we need to say hey our llm is going to be a new chat entropic where you can also specify here the model that you want to use for example 3.5 like this or maybe you can even do latest or now we can do 3.7 if we want you can also provide here the API key but if you don't provide B injected as entropic aior key with this name it's going to automatically take it from there so we're going to see like if it it if it has it next we will create a react agent react not from react GS that we use on to build uh interfaces uh it's from uh it stands for uh reason and act so it's going to be an agent that can reason and use tools for us uh we just give it like what's possible and it's going to decide how to to uh execute everything to provide the the answer we're going to see in a second like what I mean by that to create one we're going to import uh create agent from L chair uh L chain core let me see where from length chain slash length graph slash prebuild if I'm not mistaken now we can say that hey our agent is going to be this agent and an agent needs first of all the llm the llm which is going to be how is going to complete stuff but it also needs let's set of tools in our casee we do not have tools yet so we're going to give an empty array in this case this agent is really dump it's a simple llm but later we can add tools so it can do more stuff let's go ahead and uh test it out by saying Hey I want to do an invocation of this agent with was the capital of the Moon that's very interesting question let's see the result and to test it out I'm going to to Simply uh execute this agent. GS if I do node agent. GS we're going to see an error seeing that uh What uh the create agent right at Lang chain d l graph D prebuild isn't it from there oh create react agent I forgot that so yeah create react agent so in this case it's not input but it's what uh I think it should be messages right messages let's see how to invoke it properly what is the capital of a moon I don't know it says uh it has a red warning here but I think it's going to work maybe we'll see we'll see ah no I don't think it will so it's actually should be we need to give it an array of messages and one message will be will have role user and content what is the capital of a moon very similar to how um a chat interface will look like you have an array of messages the last one is from the user and the result is going to contain the list of messages and what we are interested in is actually the the last message but let's see if it will work like this if I do node agent what we see is the API key entropic API key not found that's because even though we set it up here in the EnV when we executed node agent. GS uh we should also provide the EnV file equal EnV so we need to load the environments from that file before executing the file the agent and just like that we have the answer we have messages we have a human message and we have an AI message this is ID content the moon doesn't have a capital city because it doesn't have permanent and so on so cool that's basically uh our list of messages so to get the last one usually what we do is we say results at minus one to take the last message from that array and then we look at the message do content and if I execute it again we should see just the answer no oh it's results. messages dot content so results. messages there's the array we take the last one and we display the content if I run the file we see a simple answer like this perfect let me know what do you think we should do next do we connect this simple llm because at the moment this is a simple llm like like we called it agent and we used like an agent but this doesn't make it a true agent why because an agent needs a set of tools and the agent is going to receive an input for example a prompt and it's going to first create a plan for itself by calling different tools by govering different data it's going to create a plan and it will do that over and over again until the llm is happy and said said like okay this is answer this is a good answer and it's going to answer it so for that to happen it needs list access to tools we're going to do that later and one of the tools is going to be to retrieve information about like videos but for now our agent is a simple llm we can give it a question it will give us an answer using the cloud 3.7 from anthropic nothing too fancy now the question is do you want us to build first the rug system here in a server environment and test it with calling this function or do you want us to build the interface first and connect it with our server so we can interact from the from the client side from the interface what first maybe maybe maybe I know but let's see what do you think uh and by the way hello everyone who is joining us live how are you doing guys I'm using L chain in production want to try yam index I haven't tried yam index yet uh what's the benefit of uh of it over L chain or what's the difference I'm also learning a lot like about this AI lately and I'm so excited what what the possibilities are hello um Joshy hello roio hello blender music how are you guys uh Hey man you're doing a great job just finished your react na8 hour videos what a Content thank you so much thank you I appreciate it is it possible to persist data between each agent tool calls yes it's possible and uh between uh agent tool calls yes yes and we are going to do it we're going to persist the the history of the of the chat so that you you can ask ask followup questions okay let me see um so I think we go rag first I also believe so because rag is the topic the the Hye part of this video and I want to explain it well because client side um is just the interface so first we're going to interact it with this like this later we're going to put it into an API and connect it to the client side so we're going to do both of them but first let's go ahead and build the the rag system oky dokie so again um uh if you go into the where is it well first of all uh in our presentation if we look at the steps the first one is going to be loading again our plan for loading the data was to use bright data to scrape the transcript of YouTube videos from YouTube let's go ahead and manually do that together with PR data and uh get some very specific data of how this is going to look in the next step for that uh and by the way this part of the video of scraping is sponsoring by Bri data so thank you very much our partners from Bri data for um enabling us to build such amazing applications and to unlock any data on the web so go to follow the link in the description below or go to bata.com com uh and if you go to your dashboard we're going to use their web data U where is it the web scrapers so go ahead open web scrapers and if we go into the web scraper Library these are pre-built webs scrapers that give you access to data in a similar way as you would fetch an API but actually that data is uh scraped in real time from the websites in a very secure and scalable way so you can you can scale your project without any limitations there are a lot of sources data sources like LinkedIn Instagram Facebook uh and so on uh even like Ecommerce like from Amazon and so on what I'm interested in is YouTube data so so if I search Here YouTube we're going to see that there are actually eight scrapers for YouTube and the one that I need is uh video posts by URL so let's go ahead and click on video posts by URL there is also a link in our guide scraper API let's do next in the documentation of this API we say that we just give a YouTube url we can give also a country where to look from and in as a response we are going to get the data about that YouTube such as the title the video URL likes views date posted description and so on but what's cool is that we're also going to um scrape the transcript the transcript both in raw format like the whole transcript like this and also if you scroll down below the transcript formatted with a duration similar to how it appears on the video so we're going to use this transcript from Bri data in our system to provide information to our rag system to be able to answer questions about that video giving information to the llm like what's happening in that video let's go ahead in the API request Builder and see how we would interact with Bri data to give us this data for example we're going to give inputs and we can do batch request so we can do multiple inputs per request and here it's a simple URL of a YouTube video for example uh let me do two YouTube videos that I'm interested in I'm going to do one short one and one a bit bigger let's do where is it I'm going to do a short video to be able to to see like what's happening and later I'm going to also do a bigger one give me one second or maybe we should actually do my video like some some some of my videos yeah let's do that for example h which one I'm going to do a live stream that one is going to be like huge but maybe yeah we're we're going to test it with a huge video as well let me just grab for example this one so I'm going to give a 7 Minutes video from Formula 1 about today's Sprint col ification I haven't watched it yet because I'm preparing but I'm very interested I'm going to go into the Bri data API where it is here and the first input is going to be this one and the second one is going to be a longer video like a 4our videos from our Channel about building with react native and reanimated let's copy this URL as well send it as the second one and what do we see here are some configurations to include errors if they happen we can provide a URL where to send notifications and I'm going to exclude this delivery to external storages if I do that and copy this Cur command and go into a terminal and open it up like this and paste the command here also make sure to add the API token here from your account like go ahead and first create an API token and added here and it's going to automatically be added to the command what we're going to see back is a snapshot ID a snapshot ID basically means that a job for scraping the data started usually scraping data takes some time it's not instant because it has to actually simulate opening a browser and navigating to that page and interacting like a user would do so if we look in the logs here we see that a new job with this snapshot that we just copy from the console log we see it here what we can do is we can click download to Json and we're going to have a Json file let me take the Json file and bring it in our server as come on I'm going to bring it here and I'm going to call it data let's call itgs to easier import it I'm going to click save to format it and I'm going to add at the top export default so what we see inde the is an array with two objects the first one and then the second one we see that this is the title of the video Sprint qualifying we see this is the transcript and then we see if we scroll down through this transcript formatted we're going going to see the second video as well oh come on the second video is this one and the transcript is what'sapp not just developers so now that we have this data later we're going to automate how we uh start and how we get this data for now let's just import it from data.js let's import it in our agent GS and say hey import data from data GS and let's say video one equal to data at position zero or video yeah let's do video one because this is an array we're going to look at the first video Perfect here is the data The Next Step that we have to do is we loaded the data now we have to split it let me uh splitting we can do that in a very ourself by simply looking at the transcript of that video and splitting it into chunks of 1,000 characters however L chain provides some pre-build Splitters that are a little bit more sophisticated that is improving how this splitting Works to not lose some context one of these Splitters is called re recursive character text Splitter from length chain text is it at L chain isn't it like this uh like this and probably I need to install it right npm install yes let's install length chain SL text splitters so here we're going to do split the video into chunks for that we're going to have to define a splitter using new recursive character splitter and provide here some options as we can see the default ones that are recommended here for me is chunk size and chunk overlap so what does it mean chunk size means how large should the chunks of data be here we say it should be 1,000 characters and chck overlap is going to Simply uh repeat the last 200 characters from this Chunk in the next one as well in this way if there is important context between these splits we're not going to lose it so even vaa is going to lead to a little bit more data because it repeats 200 characters at the beginning at end it's going to allow to give enough context and not lose it now um splitter like this at yeah uh is going to work oh wait splitter by calling split uh not text we can do split text as well yeah I think we can do split text but we should actually work a better way would be to work with documents um so we're going to call split documents for that we need to have a list of documents let's call them docs I'm going to Define them a little bit here to the top saying that the docs is going to be an array an array where we create one of these documents with our video one let's say that the document needs page content and the page content is what is inside that document inside that document we're going to use the video one. transcript which if we look into the data video one is this object and the transcript is this long text so this is going to be the page content the new document that document should be imported from L chain core documents now if we take the documents and split the documents here we have chunks let's see what are these chunks console.log chunks if I open it up and run the do node agent we're going to see what entropic key not found yeah because we need to do withv file so what we see here is that this chunks is an array with bunch of texts the first 1,000 characters then the next one and these all are documents documents documents documents if we look at the last part I'm going to even copy it and search for it we're going to see that it's both here and both here because the text overlaps and that works with v end as well if I'm going to copy it it's going to be both here and both here because the last part might be important information for this chunk but it also can be important information for for this chunk now we see that these uh documents also have this metadata this is a great place to write additional data about those documents so if I look into where we Define this document here we can def find the metadata here as well and one of the important metadata Parts here is what video is this content transcripts about because later we're going to have a lot of videos so we need to know like what where is it coming from we can call it video ID and say that the video ID is coming from video one. uh video ID because if we look into the data there is a video ID property here now if I will execute this one again we're going to see that in metadata we have video ID later we can also filter only the documents that are related to this video perfect so the splitting Parts is done the next step is embedding and embedding if we look into the length chain here um this is what L graph I'm going to find this one uh as you can see for the chat model basically the model that will generate text we can use these kind of available models uh grop open Ai entropic and so on and actually more but for the embedding we need to use a model that is specific for embeddings uh as I see entropic doesn't have an embedding model so that's why it's not here for that we can use open AI you can see that open AI embeddings you're going to see that that maybe on their site or the documentation is that they have this kind of models where you give as we input some text and it get back the embedding as an array of numbers the vector of that text so let's go ahead and say that we are going to use um open AI as our embedding model so let's go ahead and first install length chain - open AI in our application let's do make sure you are inside the server and install the open Ai and what we're going to need to do is we're going to import the first we need the open AI key inside ourv go ahead sign up for open AI get to a key and I'm going to get it here here let me do it like this and I added it to the EnV now we are ready to use open AI what we need is to import open AI embeddings in our agent open AI embeddings from L chain open AI after splitting what we are going to do let's do here embed chunks to embed chunks we need the embeddings using the new create or how is it open Ai embeddings and you can also specify the model here I'm pretty sure is like uh default one if you don't specify but know that you can specify what exact model we're going to use the embedding free large that is going to produce a specific like the model uh produces a specific amount of um the size of a vector so a large model not mistaken should be around I don't know 2,000 or something like that um dimensions of that Vector so the more Dimensions the more nuances it can detect in the text but at the same time it's more data to store larger it's more consuming okay so the thing is that now that we have this model that can generate embeddings we need a store somewhere to store that embedding that data with embeddings what we can do if we look in the documentation we need to pick a vector store we need a storage solution that can store these vectors not only they can store it but they can optimally query based on similarity I'm going to start with memory because this is going to be the easiest one it simply stores them in memory and to get started that's totally fine for us let's go ahead and import memory Vector store from Vector store memory at the top um and let's create the vector store where we have our embeddings so this is the vector store new memory Vector store and we send this embedding model finally finally what we need to do give me one second is to um Let me let me think like how to to introduce this one slowly okay so what we need to do is say hey await Vector store add documents and we're going to add the chunks that we generated here as simple as that um how to visualize it that's another question because yeah let's try right now like vector store let's try to Simply run our project with no DMV file we see a problem package Json reader cannot find L chain input imported I think uh we also need to install length chain like this without ad npmi length chain okay perfect let's now try to invoke the agent again and we don't see any errors that means that everything went fine uh which chunks should be should have been embedded and wrote to the database but we do not have like we do not see it like how can we visualize what's happening there well that's because we have simply done the first step of indexing loading the data splitting generating embeddings and storing the data the next part is the retrieving and generating let's go ahead and see how we can retrieve documents from our database that are similar to a question to do that let's go ahead and say here uh retrieve the most relevant chunks so what we are going to do is we're going to say a docs equal a wait Vector store we're going to work with this Vector store we're going to do a similarity search a similarity search uh because we index the table the the data from qualifying let's do what season is this Sprint in I'm going to ask send a question relative similar to the context of a video and I'm going to do a similarity search meaning that I'm going to find the chunks that are more similar to this question so let's see what is going to be the answer uh dogs we already have it right so retrieved docs let's do it like this and we say give me five docs if I run the agent again what we're going to see is the documents where at the top is the most most similar one I was expecting to see also the actual similarity because here how do I prove you that it's working what if I something from the end [Music] what was the finish time of Norris uh and I'm going to select one and before that I'm going to console log the chunks and here I'm going to console log this one but I'm also going to have like so that we see let's go ahead and try to run it again initially the documents are in chronological order from the beginning uh the first one is personal best through the sector and so one and at the end we do a similarity search for for the question what is the Norris end time and we see that here it's the document that is most related to the the the finish time of Norris so we can use this text to try to answer that question by move putting it through an llm uh again this is the similarity search uh let me see if I can actually get query filter call backs yeah it doesn't give us the exact like uh similarity value but that's good it at least does the similarity search so what can we do here now that we can having a query a question if we can find similar part similar transcripts from the video we can use them put them through uh the llm here in the agent so that it's going to use it to create the answer for example if my my question here is going to be what was the finished time of Norris it's not going to be able to to give me a proper result uh answer because this llm the agent does not yet have access to our Vector database or not provide the information I have so let's go ahead and build a tool that can use the vector store to retrieve the right information building a tool is also greatly documented and explained in our previous tutorial build and deploy your first AI agent with langra um yeah this is the tool so what we need to do is import this tool at the top let's import the tool and we are going to create it maybe here retrieval tool const retrieve tool is equal to Tool and we create it like this we're going to have an async and it should return something a tool has two two parameters the first one is the actual function that is going to run the second one is going to be some metadata about the to Tool let's call give it a name retrieve and we need to also give it a description description is very important because that's how the llm will know what is this tool supposed to do and when should it be used uh here retrieve most relevant uh relevant chunks of text from the transcript of a YouTube video something like that it's also important to provide here a schema a schema we are going to Define it with Zod so let's go at the top and import Z from Zod and Zod is a tool that can create help us create schemas of how object should look like and a tool needs a schema so that the llm knows what inputs what data to send there let's say that the schema is going to be an object and there will be a query and the query is going to be a string this query now that we added it here is going to be accessible through the tool execution function so we can have query and here we can say hey console console oh come on console.log retrieve dogs for the query console log query I'm not going to do a similarity search yet let's just return an empty string noris was first finishing in uh 33 seconds which is impossible but it's a way for us to test if this tool was invoked or not now if we take this tool and we give it to our agent inside the tools here the agent will know that hey I have a tool that has this description it can retrieve the most relevant chunks of text from the video transcript it will say that it's a question that might benefit from this information it's going to look at the schema and it's going to create a query and it's going to call this tool then is going to get back result and we'll analyze and see what to do next let's go ahead and see what actually is happening now I'm going to maybe comment out the logs that we did before and I'm going to invoke our agent that was bad so what do we see based on the transcript information I found noris finished in 33 seconds and was first place that's exactly what we kind of said like it's not the right information but where is it our question to our agent was what was the finish time of Norris you see this is what we are asking then LM analyze this question and is invoking the retrieve tool and in the retrieve tool we are doing here console log query the query is already different because the llm was smart enough to change it in a way to get the data that it needs so it simply changed it to noris finished time that's what an agent that's how an agent improves a rag system because the question is can you build an rag system without an agent invance is totally yes you can build a normal um uh flow AI flow for an Rec system without this agent inside it's simply doing it step by step in a sequence first get data when generate embeddings then get similarities then create the prompt and then send it to the llm a lot of things can be done manually and in sequence but having an llm here we see the first benefit is that the question that we ask is going to actually be transformed to something that is going to make a lot more sense for the AI to get the data and we see that we faked some data here so in the retrieval tool we just said no resource first and finish in 33 seconds and then having this information llm generated the final answer that we see here in their response perfect but let's go ahead and having this query let's do this retrieval of docs because we have a query we have a vector store we can use the query inside a similarity search we can search how many chunks are do you think would be Rel let's do three chunks maybe it's going to to be in three different places at the same time the llm can call this over and over again for to get all the response so F3 or maybe F5 probably is going to be enough so now that we retrieve the docks um let's put the them in a Ser alized dogs meaning let's merge them together and what I'm going to do is I'm going to do retrieve dock so for every doc let's return I don't know content doc. page content do Doc Page content and at the end I'm going to put up dashn to say that it's the end or maybe I'll simply do let's let's simplify it so I'm going to map for the documents I'm going to leave an array of Simply the content and I'm going to do a DOT join with a dashn basically what I'm doing here is I'm taking five or three docs that we get and put them in one single text and I can take the serialized docs and return it here uh to back to the llm now if I'm going to go ahead and execute the same query again it's supposed to base its answer from the transcript that we actually fetched so this is the query that our tool received and we see based on the information retrieve from the video transcript L is finish in six position in what appears to be a Sprint qualifying session the transcript mentions Hamilton versus upb cler Russell Norris in six we listening the order of drivers so you see it generated an answer based on the transcript so that's in a way our whole rag AI agent complete uh if we look at this we started with indexing first and now we have this retrieval and generation having a question from a user we provide a tool that can retrieve relevant information from transcripts from our Vector database and then using an llm like entropic we are generating the answer here perfect now let me go ahead um and initialize a git so you're going to have access because this is the base but we are just getting started guys let's do get add git commit uh basic AI agent with rag um what's happening let me check the the live chat if you have any questions feel free to to ask them I'm going to stop from time to time to answer them I'm already building a project like this amazing I had not started to do the video file pipeline yet so this is perfect this is a video file uh we are not working with video files we're working with transcripts of the videos Sprint but you said spring not sure when oh it uses transcript that's how my project currently works yeah perfect what is rag rag as I was explaining earlier is so we have an llm an llm is great at generating text that's how it answers questions you give it some text which can be a question and it tries to predict what should be the next part of a text meaning an answer it's very good at understanding language and at predicting what comes next and it's very good at general information but it's not very good at very specific information that either my not be public or it can be information that is super up to date like what is today's we in AI llm will not have that information so what we are doing is we are giving AI access to a data source that we can uh index on the similarity based on a search term for example you have a documentation website and you want to build a chatbot that users can write how to initialize a new project the chatbot will first look through all the the documentation pages and will find the documentation pages that are more relevant to the question how to initialize a project it might find two to three very relevant documentations it's going to use the information from V it's going to put it through the llm back saying hey this is what user is asking this is what documentations we have provide an answer to that question so this part of injecting this data retrieving the data is the what makes it a rag system and allows it to be powerful in order to know like more data more relevant data that you that you might need for specific use cases so llm we access to additional data have you figure out how to prompt cash how to prompt cash with transcripts in this setup what do you mean by that prompt prompt C cash let me know okay so we have our agent that where is it at current is doing a lot of stuff it's loading data from from our dam data there it's splitting it it's uh adding it to a vector database by embedding so a lot of things are happening here behind the scene behind this line documents it's not simply inserting it to the database but it's first generating these embeddings using the open AI model uh because having them inside a vector store we can later retrieve them based on a similarity search basically hey having this text what is the most similar document for for for that text and similar in in terms of context so we build a tool and we build an agent we give that agent V tool that can retrieve documents perfect in The Next Step we're going to clean it up a bit and start thinking about like how to move it closer to a production R application and system that that can run on autopilot with multiple um with multiple videos with a proper database because right now we are using the memory Vector store in memory Vector store storing this data in memory and as soon as I stop the the server it's lost so for AI there is prom caching where the llm will cache your input so it can be can be reused so like with Claude your cached input is like if the input is $1 the cached input will be 115 but then you send the same thing again into cash so the input is like 20 cents yeah not sure not sure how this is going to work here I would have to look into that okayy dokie okay uh one second guys let me think about something um next let me show you a small problem and fix it together with you for example we are asking the first question let's do it like this uh console log q1 is going to be this one and what if we go ahead and ask the question two which is going to be what is the finish time of very stop and I don't know finish time or position or no let's do it in another way let's do what about ver stopen and here what was the uh finish position and time what I'm trying to do here and let's do results two and here results two is I'm trying to simulate asking a follow-up question a followup question might not have all the context I mean a good chat AI agent will REM will understand that a question like this what about stopen is not is is connected with a previous question so it should be something like finish position over stoen in order for that to happen our agent should have short-term memory knowing uh or actually long-term memory uh having context about like previous messages in the Fred because if I do that right now if I'm not mistaken uh let me do CD ser server let's do node and invoke it it should answer correctly the first the question one what is the finished position it failed to actually invoke the tool there and in the cute question two about your stomping why did it ask about Norris wait a second that's a bit weird because when I asked about ver St and it started doing about noris uh oh oh oh oh oh oh oh because I'm stupid let's do what about we're stopping here I left literally the same question based on video transcript let's try again so for this question it invokes the tool it asks for noris finish time it doesn't like the response it invokes it again nor is final time position oh no no no it understand that it this question finish position and time it split automatically in two requests one is noris finish time and another one noris final time position result amazing and then by invoking by by retrieving two sets of data it was able to say that yeah there is no specific time there in numerical format and here what about verstappen and what it says I'd be happy to help you find information about m versten however I need to search for YouTube video transfer for could you please clarify what specific aspect about ma Sten you're interested in so here we understand that when we asked second time a follow-up question what about resten it did not connect it with a first question and he did not understand that we mean like finish position in time it's not clear here it's for us it's clear that the AI doesn't connect the two questions together that it's the same interaction for that to happen we need to provide here to the agent a long-term memory a checkpoint so again in the previous tutorial I have here adding memory to our agent and we can do that by importing memory from linkchain L graph at the top and somewhere here where we create the agent we can say a memory saver and we're going to give it here as if I'm not mistaken is check pointer memory saver check pointer memory saver or if you want to save on some characters you can call it here checkpoint and remove a duplicated because it's the same name now because it has a checkpoint we are not going to be able to invoke it like this and if we do if I'm not mistaken we're going to have an error saying that now you have a checkpoint we need to provide them um a configuration with a Fred ID so using a Fred ID we're going to know like what other previous messages to connect it with and that is going to happen when we call agent. invoke uh after the whole invocation we are going to have here a conf configurable options with configurable and here we're going to have Fred ID let's say like I don't know Fred number one I'm going to take this options and I'm going to add it to the second invocation as well that way connecting them together and pay attention where I am adding them this is actually after the object that has a messages it's not besides it so it's two different objects now if I'm going to send the same request here what I expect is that the second question will understand that it's a follow up for the first one so it will understand that I'm asking about finish time and position for where stoping and we see that indeed it understood so it's doing a search query in our tool forward stop and finish time and position results uh finished second place right behind Lou Hamilton amazing so that's uh not amazing that he finished second uh not a big fan but amazing that it's working so just by simply adding this checkpoint that's what we managed to do adding like more configuration here um another thing that we can do here uh when we invoke in the configurable we can send more metadata things like let's say the video ID that we are querying for video uncore ID is going to be equal to let's go into the data and say that we are working with with this video ID the first one Sprint qualifying we can take this video ID and in the configure we say that in this thread hey we are talking about this video again it depends on how you want to uh architect the the experience but if you want one thread to be specific to one video that would be a good configuration later we can think about like how maybe we can send a channel ID here or we can let the AI agent understand magically how what video we are talking about but this is a good way to send data so I'm going to send it through configurable here I will remove a second one because we we had it just for testing thing and I'm going to take this video ID and what where we going to receive it I need to receive it somehow here in the retrieve tool to receive it in the retrieve tool this is the input of the tool but here we get the options of the invocation and we can go ahead and get access to the Fred ID where in this case I need the video uncore ID so if I do here uh query console log video ID let's see if in our tool we get access to the video ID from our invocation if I call this one here we see that ID here it's still going to work the same because we just simply do this but what we can do here is we can use the video ID for the similarity search I'm going to show you the documentation where you can find it just Google L graph uh Vector store and the JavaScript for example if I'm not mistaken here and you're going to see that L graph Vector l l chain Vector store GS so in the documentation you're going to see some options that you can use I need options yeah I'm pretty sure like you can you you'll find here like maybe I'm going to leave a link in the guide here so you can have access to it but what I mean there is that when we do Vector store. similarity search the first one is query the second one is how many items we want to receive but the next one is the filtering in the filter can be uh a filter on the metadata so so we can say that I want only the dog dogs or maybe I need filter here let me double check that no it shouldn't be filter it should be simply video ID so this is the filter that is being applied and is being applied on the metadata of our documents and if we look in the metadata of our documents we store the video ID here later when we add the database we're going to be able to see visually what I mean there and now let's go ahead and see maybe um console log retrieve docs to see what document docs did it receive for that query I'm going to go ahead and ask the invoke the this one with a question what is the finished position of Nores it knows that is this video ID because we specified it it's going to ask norish finish time and it will say the apolog but it seems there is a technical issue with the retrieval function in order to provide more with accurate information basically it says that there is no items with this ID and why is that happening something wrong with here with a video ID video ID did I call it video uncore ID here metadata video ID and let me look in the database video uncore ID Vore ID filter this is Vector store similarity search I'm wondering if this uh is not going to work for the inmemory vector databases but only for the for the postgress databases uh because as I see the retrieve docks right retrieve docks for query it doesn't even get here so it must fail completely it doesn't get retrieve docks so let's try to do a try catch just to to see why it's not working it's it's hopefully it's going to to show me but yeah as I'm saying maybe uh this kind of filtering doesn't work on the inmemory filter is not a function okay so for the in memory maybe filter should be a function let's try let's try saying that hey Doc is a function and we're going to return true if doc do metadata. video ID is equal to video uh video video ID that you're looking for again uh this is going to be a bit different later but now for in memory database I think it expects a function for filtering and let's uh let's try to maybe remove a TR catch and invoke it again okay we see that and we see retrieve documents V documents cool if for example I'm going to make a mistake and say give me we are working with video ID one 2 three this video ID is not in our database and it's supposed to filter out like other documents in the database we see retrieve docs as an empty um array saying that meaning that our filtering is working correctly now what we can do is we can load the other video as well let me go ahead and maybe split up a little bit the logic of of generating this embeddings because I would like to already clean up a little bit here this file is getting a little bit out of hand and it um is responsible for different pipelines different layers uh it's both for indexing and adding to the database and it's also about the agent I want agent to be only specific to agent [Music] um so let's go ahead and create here in the server a new file called embeddings edings hopefully I wrote it correctly maybe not is it with double d embeddings maybe and from the agent move stuff related to embeddings where what stuff do I mean well first of all I want to move the gener uh creating the open Ai embeddings and the vector store I will copy them from here I will cut them actually and move them here I want to import what we need here and we have here what export Vector store maybe I'm going to do export const Vector store so that other files can import this storage I'll also do export const add documents to Vector store function uh or not documents but let's do add YouTube video to Vector store let's say we're going to get video data and we need to do something with it what do we need to do in order to add it to to the vector store well we already have it in the logic in the agent AI if we look here well first we have to Define the split or actually with docs so I'm going to copy creating with documents creating with splitter generating the chunks and finally doing Vector store at documents I'm going to copy all of this into embeddings because this is part of adding a YouTube video data to Vector store so for the document we need to import uh document from linkchain core documents page content is going to be video data. transcript metadata is going to be video data video ID or we can do it easily here destructuring and video ID is going to be like this because it has the same name and title we need to import the recursive character text splitter from L chain text splitter here we're going to leave the same configuration we're going to remove this console log and we are adding it to the vector store that we created at the top Vector store add documents chunks perfect so now this file is responsible for setting up the vector store and adding for example YouTube videos to Vector store let's go ahead back and clean up a little bit here uh we'll leave a retrieve tool here I don't know I don't need the video one or maybe I need do I need it I think I don't yeah I need it because it's still going to be here that I want to add this video to our database so for that we need to import Vector store and add YouTube video to Vector store from embeddings and I want to call here a wait add YouTube video to Vector store so I still want to add it here later we're going to think where to do it for now I just want to I move a code in another file and call it from here I'm still going to have a retrieve tool that needs access to the vector store so that's why we exported and we import it here the same access to the same database and everything else is related to this one I can clean up a little bit here the Imports of what we do not need anymore leaving only things that we need like this and what else cleaning up a little bit the console logs here as well checkpoint or video ID okay this one is also going to go away in a second but it's testing the agent perfect so let's double check if it still works I'm going to invoke the agent. GS uh question was the position of Norris come on uh based on I can provide with more details Hamilton vers yeah like it we we understand that it's working it's using the transcript data uh what I want you to do now is let's try to add two videos to the store and see that in that case it can f filter out with transcripts related to one specific video for example I'm going to do a same await video add YouTube video to Vector store and I'm going to say that we want to add the data at position one here I can do data position zero and data position one if I'm going to go ahead and um ask the question about this video ID about Norris I think it's going to be fine because it's going to look only at the transcripts for that user at the same time it took a little bit of time to to add the embeddings but it's very fast like it's super fast let's see what's happening now uh I don't see a specific time for Norris mentioned that Norris racing that is going quickly through the middle part of a lap by 800 milliseconds however if I'm going to go into the data and take the idea of my second video let's find it with Vore ID and the second one is this one if I'm going to say it hey now this same question what is the finish time of Norris is going to be on a different video what I expect to see is I expect the model not to know how to answer because it doesn't have that information we gave it information from a different video let's see um based on the transcript I don't see any information about nor is the transcript appear to be discussing programming Concepts so that's exactly true because we are filtering out only data from our Vector store for this video ID if I will go ahead and transform change the question to what uh will people learn from this video Let's see what that answer is going to to look like because remember this video with this ID is a tutorial from my channel uh about Apple invite application so if we look at the response it doesn't understand that it needs to call the tool so let's see what will people learn from uh the video based on it's it's transcript it's still sometimes doesn't know that but it has this capabilities so maybe I need to inform it like hey at any moment you have information about video you just need to call the Tool uh but with a better question I think it's going to work better now as we can see it's thinking and we see based on the the video tutorial about building a mobile application how to create custom auto scrolling component Marquee building and boarding screens with animation implementing UI react development Concepts and so on so perfect now our AA agent can work with multiple videos it can store his data in a database but when asked it's going to look at only specific information for a specific video Perfect let me go ahead and do a git add git CIT agent with rag I'm going to bring some water and the next step for us is going to be to change from a memory Vector store to an actual database so that this data is not going to be lost and we're not going to have to generate the embeddings always we're going to store and cash them so that next time when we ask the same question about the same video we don't have to get the data again and again so that's our going to be our next step give me one second hello uh perfect so as I was saying the next step is going to be to transform to a proper database for our Vector store and that's one thing that I like about Lang chain is how everything um is abstract in different layers and you're going to see how easy is going to be to swap from a memory to we postgress database we just have to create it and change here how we connect it and everything else is going to remain the same without us having to do much changes for the database uh we need a postgress database with pogress SQL We There is a PG Vector extension that enables us to do similarity searches and index database based on vectors perfect for our in Bings so we need a pogress database you can run it locally you can use pogress with a Docker to run it locally that's totally fine but I think it's a little bit more technical uh and maybe not everyone has the environment set up to run postgress locally what you can do is you can use for example ne. Tech uh and with neon tack it's it's actually super fast and easy to to get a post database up and running uh and I think they also have a good free tier for up to 10 projects let's go ahead sign up and in your profile go ahead and do a new project I'm going to call it you AI YouTube chat and let's do create here uh we need to enable postgress uh database so what we have to do is we are going to enable it by running a query in the SQL editor the query I don't remember how it was but let's do enable PG Vector neon and that is going to be a query called create extension Vector so if I go into the SQL editor of my database on new one and write this command create extensions vector and do run it didn't like why it didn't like second time statement executed successfully so maybe it was not ready yet yet now it executed successfully so I enable this Vector uh extension on our database so our tables here will be able to have like vector um columns columns and index and search based on their similarity the next step is to Simply connect to this project from our uh application I'm going to go here and I'm going to copy the connection string let's go ahead and put it into that EnV file and let's call um DB URL and let's space the the connection string that we got from here make sure connection pooling is enabled and the next step is to go and double check with with where with uh with length chain under P your vector store I'm going to select PG Vector what I need to do is do npm install at L chain Community let's do that first and then we can create this Vector SC store like this so from our Bings files at the top we import PG vector and we create it instead of using memory Vector we create it using PG Vector store. initialize we give the same embeddings model there but we need to provide here some configuration configuration uh such as postgress connection options and the connection options you can either use a connection string the easiest way or you can have like Port host database name and so on but the easiest one is just to provide connection string as process. EnV DB URL that we added here in our environment variables and then we are not done yet with the configuration we need to give a table name the table name what is going to be the table name for this tour let's do transcript transcripts let's do transcripts um columns we can have ID column name come on columns the ID column name let's do it ID let's do the embedding column name you can specify what should be the name of the embedding you can do embedding or vector for example what I don't have text column name content column name this is the content of that embedding and there is also metadata column name name metadata I think you can leave them out as well but because it's going to be default but know that you can adjust them is it embeddings or vector oh it's Vector column name sorry Vector column name vector and besides columns you can also have a distance strategy and this is a little bit more technical basically meaning what uh function to use to calculate uh the similarity there is cosine uh there is uh whatever yeah there are other methods as well like inner product or Ean as well but cosine is default so you can leave it like this or you can even leave it out as well anyway now if I restart my application the vector store should automatically connect with this uh database with this configuration I don't need to change anything else the vector store will have the same ad documents and stuff like that and it should automatically handle the database creation for me if I go into new one under tables we don't have any tables yet but if I'm going to go ahead and restart or run our agent uh if everything is successful it's going to connect and store information in postgress we see that we cannot find the PG uh package because for that we need to do npm install PG this is for postgress so it's a pure dependency uh let's try to run it again we see Vector store from embeddings dogs does not provide an export member I forgot to do export Vector store if I do it again how many tabs open in that browser I don't know a lot and that's not even enough uh what will people learn from the video like now at this point if I go to the tables we see a new table called transcripts if you go into the options here and enable table RW count we see that we have around 167 chunks of data so this is not 167 videos but because my video one of them is 4 hours long it divided in in that many chunks so we see that the first ones is about L stroll and so one fastest ahead Louis Hamilton definitely uh transcript from uh Formula 1 videos but if you scroll down a bit we see that what information about the Bol text and react native and so on so this is the second video in the metadata there is the metadata about video ID so this is how the filtering is supposed to work and let's double check if filtering is working in a second and there is this Vector which as you can see is a bunch of numbers if I will I don't know I can copy it maybe I don't but you're going to see that it's simply a bunch of numbers so this is a better way because now it is stored in the database so we can we don't have to embed and generate them every time we can build a huge cache of this data to later interact with this is the information and again let me double check in the agent in that tool for retrieval we have here the function but as we can see now that our Vector store is a database it would be better to provide here a filter object and that filter object if I'm not mistaken is going to be added on the database layer so it's going to completely ignore those items when it does we SQL query so this is the filter to retrieve documents based on the video IDE perfect now I will [Music] do like this and at this moment we are still adding like that those items in the database so most probably we're going to have duplicated items we had 150 now we have 334 uh but it works here like this time it didn't call the tool but anyway or maybe it's a problem maybe it call the tool I'm going to comment out this wait add YouTube videos to the vector store because we're already there and I'm going to run it again to see if the filtering is working correctly because it's I not calling tool where the tool is not doing yeah I see information so that means that it's working correctly Perfecto amazing so this is our G ad database uh pogress for the vector database I think in the next step we are kind of ready to integrate the the chat interface and before we do that I want our server to be an restful API so that we later can interact with it by sending HTTP requests at the moment our agent we interact with it by literally calling agent. invoke and invoking that um executing this file but what I want want to do is I want to create an API that I can send this question as a post request and I can invoke this agent and get back the answer for that let's go ahead in the server and create the index do GS file and our server is going to be an HTTP server we're going to create using Express so let's install Express maybe course and types SL Express and let's start by creating a simple uh import Express from Express import course from course we create the express application we add course which is you don't have if you don't know like it's not a big deal here just add it because it's going to later help us send requests from different from our front end to our back end when we will be deployed and what I can do is I can say simply add a get request to the slash that will return hello world and start listening at P 3,000 for example or maybe we can do here const Port equal process. env. port or 3,000 if it's not provided I'll take Port here and the call back is going to be executed when we the server started listening this is a very basic barebone uh HTTP server what I can do with it is I can do node maybe with EnV file and I'm going to execute not agent but index.js if I do that we see Server is listening on Port 3,000 because this is a get request I can simply go to uh in the browser and do Local Host 3,000 and we see the hello world the hello world that was sent from here usually we are going to send this requests maybe we're going to be Coral request uh post request so we can also use the coral command in the in the terminal to send these requests okay good um what what I'm going to add now is not a get request but a post request to the endpoint maybe generator query or yeah let's do generate my generate is going to be like question and answer I send a question and I expect back an answer the query itself I expect it from the body and let's do console log query and return send like this now because this is a post requ actually I did some changes so I need to stop the server and run it again or I can do I can add come on to my node I can add here at d-w watch so that is going to watch any changes if I'm going to change something here it's going to restart so I don't have to think about restarting it always perfect now that our server has restarted we can send a post request to/ generate to do that in a new terminal I'm going to do coral Dash um that is a header let me try uh send a post request using curl to slash generate with a query data uh let's see what the AI will tell me yeah it's the dash X that I was looking for it should be here so I'm trying to send a post request to Local H Local Host 3000 SL generate with the data this query what will people learn from this video and this video ID maybe I will take video ID as well if I send this query we see something we don't know what exactly but we see some errors and an error here as well canot distract your property query from requestbody that's because we didn't um add quite important part which is the here as a middleware we can add a express. Json that will automatically transform our request body to Json because without that the request body is not a Json format if I simply add that one I can use it as adjacent and D structure the inputs like this now if making sure that the server is running if I send the same request again we see hello world because that's what we send but in the server we see that the query is this one and the video ID is this one meaning that I can go ahead and import the agent here from our agent. JS let's make sure that in our agent. GS we do export const a agent we no longer interact with it directly so I can remove this part all together or maybe I'm not going to remove it let me actually copy paste it in our index inside the generate I'm going to put it here I'm going to come to it in a second but I need to change how we import the agent we need to destructure it when importing because we are expor in it as a constant so we have agent here from agent. JS and when there is a request to SL generate we get the query we get the video ID uh and we have the interaction with agent as we had before I'm going to do some changes we no longer need this video ID because it's going to come from the request body I'm not going to have his console log I'm going to have agent. invoke and roll user and the content is going to be query not this hardcoded one but the query that we receive for configuration we have Fred ID so maybe we're also going to send the Fred ID here so let's do Fred ID and video ID then we take the result and we return it back as results maybe I can do it like this let's see return that Json to send it as a Json and I'm going to send the last message maybe it's going to be too much information but let's see what's going to happen now our server has restarted and we can send the same request but we need to change it slightly to add in this um- D I'm going to add a comma here I'm going to do a is it an enter come on it's a bit hard to to edit them but I can I'll do it like this I'm going to add it here I'm going to comment it out PR ID one I'm going to uncomment it copy it and comment it back and I'm going to leave it here for you to also be able to test this endpoint easily I'm going to go into the terminal and I'm going to send this request it's going to already work with this query and with this video ID and we see a lot of things but we also see the content and I'm thinking should I just return the content is anything else important here for the front end where is cash and so on in response metadata ID model let me simplify it and just say rest. send Das content so I'm simply going to send the content there and if I send it again it's going just to give me the content you can adjust it like depending on what information you want to send to the to the front end perfect it works and I think that is it for our first step into creating a restful and a server for our AI agent so that in the next step our front end is going to be able to interact with this server when the user write something in an input box for now let's do go ahead and do G status git add get commit um add rest API for our backend and for the agent perfect now it is time to already instead of instead of doing it for C request it is time to integrate the the frontend the client side application from which we're going to be able to interact with our our AI agent I don't want to spend a lot of time building it uh and for that reason I'm going to show you I'm going to leave in the in the guide let me think yeah if we look into the tutorial build AI agent with lra for the front end what I did is I simply created this prompt and I use entropic to build the front end for me so I told it build a simple UI interface for an AI chat up with this structure with this styling with this and that and that and in then we got like this AI chat interface and I think it's pretty good for us uh and because I don't want to focus on building the uh the front end we can reuse the same code here where we can try to reuse the same uh um uh llm generation as well I'm not sure what is going to be the result so it's better to use it together with me so first let's go ahead and run npm create V at latest to generate a new react project but this time make sure that you are not inside the server so if you are in server you can do PFD to look where you are make sure to go one layer up to be if you do us to see the server here and now let's go ahead and do npm create V latest let's give a project name let's do chat with YouTube or let's do here client let's call let's use uh a framework and the framework is going to be react I'm going to use um should I use typescript let's use typescript rpt and that's it now we have a client side project if I'm going to go into CD client and do npm start or npm install to install the dependencies in van npm run Dev we're going to see a local host here and if I open open it up we're going to see the starting point for a react application perfect let's go ahead and as as I was saying either uh use this llm to generate uh this prompt in an llm like entropic or in the CLA or um chbt and generate the Cod is like that or come here I'm going to leave it in the comments so you have access to it uh and press the source code here we're going to have the same client here in the source I'm going to look at the up. TSX I'm going to copy everything here and I'm going to come into the client source application based everything here and this same thing for uh is it index. CSS I think so let's copy everything from index. CSX and add it here by replacing everything like this uh the only thing is that if you look into up. TSX it tries to connect to Local Host 3000 so let's change it to 3 3,001 let's change it to 3,000 because now our back end is running on 3,000 and let's try to what to restart it by running npm run Dev again this is the API if I open it up here boom here we have a chat interface if I'm going to say what's going to happen what's going to happen in the client if I if I'll say hello there was an error because probably we're going to have to change a little bit how we do that uh if we look into app. TSX and are looking here around line 50 we have API generate and the data here is a little bit different it does prompt it does Fred ID and it does video ID let's try to do video ID like this in the server in the index what do we have it should be the same SL generate slash generate instead of prompt I'm using query it was easier if I use the same so let's just change query here Friday is good video ID hardcoded video ID hardcoded and now if I go here and say hello if I reload say hello what's going on here if I look in the console into the network Tab and say again hello send we see that it failed why it's because of a what uh response request what's going on maybe our API is not running server yes fail to run index I'm going to go ahead and restart start my API my server and it still fails to run no now it says server running on this port if I come back here and say hello okay now it gets to the API hello I'm here to help you find information from YouTube video transcripts is there a specific YouTube video or topic you would like me to search for information about I can retrieve relevant parts of a video transcript based on a query perfect what we're going to do is let's go ahead and double check like we hardcoded vi video ID that video ID I'm just going to double check in the data if we have such a video ID yeah we do have and this one is is this apple style video let's check what um will the viewer learn by following this tutorial this is a question about a specific video use the tool to get to get to get to get to get how is it called to get uh relevant transcript okay it's very insistent okay what is the topic of the video you see like the the one benefit of an AI agent is that it can decide like how often and how to interact with the tool in this case a retrieval tool for the rag system the downside is that you lose a little bit of control and as you can see here some questions the tool didn't realize that it has to inter integrate with that um it has to call that tool so sometimes an old school chain of calls might be better but with write prompt engineering with WR descriptions of a tool uh I think you can get like where actual results and keep the benefits of having this AI agent that decides like um what to to call how often to call and so on so we see that based on the transcript this video appears to be aor about creating a mobile application perfect amazing so we have our front end as well we have our client side as well let me go ahead and do the following um I'm going to do a git add G commit minus M front and chat interface another issue is the agent will call a tool when you don't want it to yeah that that's also true like having like an agent as we have here we don't say like the word or how to do the things we just give it a bunch of tools and we let it decide like when to call it how to call it and so on so yeah sometimes it's going to do things that you might not do but that's it's That's The Power of an autonomous agent mine likes to use the generate image tool anytime it writes an image generation prompt I highly doubt you're comfortable speaking like that when you are not behind the safety of the screen what do you mean oh you you have some beef chill guys it's okay okay so what do we want to do next guys um what do I want to do next I know what I want to do next um the next step is being able to start conversation about new videos because right now in our neon database we prefilled it with some transcripts from two different videos and we can talk about those videos by hardcoding some data what I want to do next is to be able to embed an index any kind of video that the user wants to talk about for that we need to allow that to happen and one step before reaching that because we're going to do that with Bri data uh before we do that I want to host our both client side and server side so that we later we're going to see see like how we can connect bright data back to our system to get this data about the video transcripts so what we're going to do is we now are going to host our server with jio go ahead jio.com where you can follow the link in the description by the way uh this part of the video is sponsored by jio so thank you very much jio for making this possible and you can go uh on janio you're going to go into products deployment platform and you can uh go ahead in the documentation create an account and you can see different Frameworks and tutorials how to um deploy them in the genesio CLI let's go ahead and install genesio first by doing npm install genesio DG in the terminal I'm going to do that here I already have it installed but it that is not bad to update it as well uh and then we have to run genesio login let me double check that yeah need this one but make sure to create a genesio account and then you're going to need the deployment the the API key from there and you're going to run genesio is it login I forgot like how to to connect it with our yes jio login to the platform so if you run jio login you're going to connect it with your account after that we can start deploying our application but before deploying I'm going to create um genesio do yaml file that will specify how do we want to deploy our po server and the client um VL uh I'll will also provide it in the guide so you don't have to write it but I will write it quickly so uh I will comment like what everything means so first we have let me do it like this so I have a reference so the name is going to be the name of our project let's call it YouTube chat application you can specify the region where you want to deploy it for example Us East one and let's do yaml version two next we we have two things one of them is the back end and another one later is going to be the front end but first let's focus on the back end the back end you specify the puff to it so the puff is This Server so let's say server then language uh we're going to say name is uh GS and you can also specify the package package manager in my case I will specify npm now back in this line with language we're going to also have a environment that I don't know we'll have for example the API URL which is going to be the actual URL of uh our API let's say ABC for a second after that in our back end we're going to have some functions the function that we're going to have let's say that it's going to be name API simply API the puff to that function is going to be because relative to the back and puff server our function is going to be this puff so it's going to be dot slash the Handler or the entry actually the entry is going to be index file so index dogs and the type is going to be HTTP server so Jano is going to run a function that is going to serve our express application now in this environment API URL I want the whole backend to have access to the URL of where is our backend deployed so we can access it dynamically like this by saying that I will look into the backend so backend dot functions functions. name API do URL and this is going to be uh provided as a environment variable API URL everywhere in our backend we're going to see why we need it later now that we have our back end done let's go ahead and focus on the front end in case of a front end um the path is going to be client we are going to say what do we want to publish and we're going to publish with this folder with this folder is something that is going to be generated uh if we run a script when we want to deploy npm run build so if we run npm run build in the client is going to generate um this dist folder and that this folder is what we want to send and publish uh finally we need some environment here as well as we have on the back end something similar to here where is it I need some spaces but in this case it's a little bit differently uh it should be prefix with vcore API URL if you do V it's going to be accessible in the client side code there that's it now let's go ahead open the terminal and try to uh you can also do genio local to run it locally or you can do jio deploy to deploy it to jio hosting it says that we detect that entropic and open Ai and DB URL are not set remotely do you want us to set them for you let's do yes and I think it's going to look for this configuration and set them remotely uh everything on the back end work correctly the front end this does not exist uh I was expecting it to run automatically npm run build oh I think the problem is here it should be scripts not script because I can run it myself but it should run automatically when the engine are deployed so let's try again by changing it to scripts and what do we see we see that the function is deployed we see that is building the back the front end we see that because we didn't provide any subdomain it automatically addited it for us in Vis jio yaml like this automatically generated we see the link to the application dashboard and the link to the front end if I open front end what's going to happen we see that our AI chat has been hosted and we can say hello and if it can connect with our backend as well that means that everything is perfect perly configured and as we can see it actually is and we can ask things about the video what is the video about and it's going to interact with our neon database it didn't know it didn't call the tool but later it it will everything works or maybe not let me actually try um what is the video topic based on the retrieved transcript being more specific like what it should do like you know like I don't have any retrieve transcript yet to search no you actually have um you actually have just try it trust me you have transcript will it believe me I think it does because it's yeah based on the retrieve transcript the video appears to be about up development uh blah blah blah and so on and so on perfect amazing so this URL now is publicly accessible because we use jio to to host it very easily I will give it to you but I don't know if I should give it to you but you saw it so it depends uh if we open here janio in the dashboard we see that we have a function and we have a front end if you want to debug the functions you're going to go into the monitoring or into the logs and you're going to see different logs from your function calls you actually here just try it this is very um input so yeah this is how easy it is to deploy uh full stack applications both front end and back end with genesio perfect now in The Next Step let me actually go ahead and do get add deploy to genesio in the next step we are going to um add functionalities to interact with bright data and to scrape the transcripts of the videos that the user needs seems like convex would be a better option for the database how did you settle on new one uh I just wanted something simple like postgress and that's why like when I need just a simple barebone pogress I go to to new one but but um I haven't worked with convex yet actually and I'm pretty sure like if it's build like exactly for for for that one it would be better but it's super simple to change the only thing that you would have to change is in the server in our embedding here in the vector store you're going to initialize a different Vector store and L chain integrates with convex HS it's possible like that as well give me one second I'm going to take a very very short break and I come back and we continue with our implementation for hello so let me just double check something um I'm thinking how to design the user experience of of starting of of indexing a video that's that's what I wanted to say my initial idea was before we start and actually I had it before we start an AI chat we have to we have an input we have a um an input where we put the video ID not the video ID the video URL and then we take take the URL we scrape it we index it and only then we open up the chat and we can talk with that video now that now that I'm thinking wouldn't it be better if we just have a chat interface and we paste a YouTube video here and we start talking about it then we paste another video here and we talk about it and so on what do you think um how should we index videos more free flow in a chat way where our AI agent is going to have a tool that knows how to index videos or a more structured way where we have like an input give me the video ID I'm going to index it and then we open a chart with that video let me know in the comments like in the in the chat what what do you think would be better what you would like to see for example come on because there let me close some of the stuff down this is we need it I don't need this ones because in any way we're going to use Bri data to uh to fetch or to scrape the video data from YouTube we already saw how to do that uh uh and what we did is we want to Bright data we created an account then under web scrapers we go to web scrapers Library we are searching for YouTube and we see that there are eight different scrapers for YouTube while we are interested in this collect videos by URL so I'm going to click on it scrape our API let's do next and here in the API request Builder in the API request Builder we add the API token we add some inputs and we see a c command in this part we can also see how we can do that from node using fetch if I do that I can and also if I'm going to do a couple of things I need to include the errors that's good and I don't need to delete deliver results to S free storage I'm going to unselect that one but I want to send it to a web hook sending the response to a web hook uh the way it's going to work is oh I didn't show the the parts let me do it again so the thing is that uh we are still going to use bright data so going on bright data um dashboard we're going to go under web scrapers come on why it's not changing here so bright data dashboard web scrapers web scrapers library and we are searching for YouTube we're looking at the YouTube videos post and we select scraper API here we see that we already saw in the API request Builder but we just send the URL of a video and as a result we're going to get the scrape data including the transcript we're going to configure it a little bit for example I'm going to delete and leave only one input it's going to be easier for me to see there eror I'm going to deselect deliver results to external storage and I'm going to send send to web hook that means that when we send this request to to Bri dat data set trigger we are sending a request to start the scraping job but because scraping jobs can be it's a long time task it can be a couple of seconds but if there is lots of data it can be minutes um depending on the collection this one we see that on average is 7 Seconds anyway instead of waiting for the result we just trigger the request and then we can either re send another request to check the status where we can give Bri data a URL that bright data is going to call when it finishes the scraping job that's what we're going to do we're going to do here let's do HTTP example.com and later we're going to fetch it change it let's do example com/ webhook this means that hey bright data when you finish scraping this job send this data here and the file format I'm going to leave it to Json and in the example request instead of Linux bash I'm going to do node fetch here is a good example of how we can send this request let me copy it let's go in our server and I'm going to call create a new uh new file let's call it bright dat. GS and let's export const uh start or Trigger YouTube video scrape we have the URL of a video and what we have to do is we're going to paste the code that bright data gave us so we're going to change it a little bit for example we do not need to import fetch from anywhere I'm going to remove it because it's going to be there in the data this is the input so this is the URL that is going to be um s here so what I'm going to do is maybe I'm going to call this trigger scrape input with this URL not with this URL with this URL and here I'm going to Simply take the URL from the parameters and send it to Bright data like this maybe we can adjust it to send multiple uh videos as well but for now it's good like this then what we do here is we send a fetch to this long URL but let's break it down for example I'm going to break it down into maybe like this everything until slash trigger let's do here const bright data trigger URL is going to be equal to this one let's take it and let's transform this URL into a template string with your back ticks come on back tick here so that we can replace this URL with simply saying bright data trigger URL then we have data set ID data set ID identifies this YouTube video post data set it can also be dynamic if you want I leave it like this endp point is where do we want to send the results to where do we want to send the results to well we want to send it back to our API back to our server so in our index here let's go ahead and create a post post request called Web hook request response and let's simply go conso log request. body to see what data we're going to receive here now we have to say hey Bri data simply call back the server here at SL web hook but the URL we don't know we can hardcode it from uh from genisio platform but remember in jio yaml we said that we're going to give a environment variable called API URL that's what we why we need it we need it to dynamically say hey the const call back or web hook URL is going to be this one but actually it's going to be I'm going to change here to process. env. API URL SL webhook b/ web Hook is important because it's our endpoint implemented here okay so let's change the endpoint here pay attention of how we're going to do it this HTTP example.com webhook Until the End we're going to delete and replace it with the web hook URL then we have format Json is good uncompressed web hook true and include errors true everything is good here now the method is post authorization uh headers this is the bright data uh your API key so it's better to take it from here and add it to the environment variables as bright data API key and back here we're going to replace it again with a with process.env do bright come on should be bright data API key then content type Json and for the body we give this data I don't like the dot van so what I'm going to do I'm going to before fetch I'm going to say const response equal a weight then I'm going to put here I'm going to stop and what we have then we have data so const data equal a weit response Json and that's it and maybe you can also do a try catch maybe we can do result and we can do console log result and this is our function that is going to trigger a scraping job for a video URL we can do that by again we simply call it here maybe we can we should call it at the end right not at the top so we can give here a YouTube url like this one and we can do let's do CD server clear and I'm going to do node EnV file and let's run the BR data GS this function so we see that as a result we get the snapshot ID if we look into the Bri data logs we should have a new job here and if we look at this snapshot ID ending with 9 Q this is the last one here it took 5 Seconds to complete we can download or we can check what happened there with the endpoint um we haven't deployed it yet so give me a second but if we look here back in our API request Builder and you put here the URL of our genesio let's see uh let's first stop this one and let's deploy our update our update has this SL web hook endpoint yeah because we need to go one above to be in the root we detected a new bright data let's set it remotely automatically for us um so we see that the function API is this URL so I can copy it and basically use this one in the notify URL or no in the send web hook so send to web hook web hook URL this URL of my function you can also open it in the dashboard and here you're going to see a function URL and we need to also do slash web hook you can also press test web hook and this is going to test send a test result and we see test sent successfully if we go into the jio into the logs we're going to see a test a request body this was the test that was sent for us and we received it in our backend uh in our backend invest SL web hook that means that now if I am going to invoke the same function again for example Trigger YouTube video with this URL by this is a little bit hacky right now but in a second we're going to connect it with our API and it's going to make a lot more sense but I want to trigger a new scraping job and I want it to automatically call our web hook so if I go into the server and do node bright data GS that is calling this function we see this snapshot and this snapshot if I look into the logs it's ready and it's supposed to call our backend and if I reload we see yes we did um actually no it didn't you know why I know why because I'm running it locally and locally the web hook URL is not setting is not correct so that's why we need to do it remotely uh but yeah the next question is uh should I when should I call this Trigger YouTube video scrape should I create a tool out of it and give it to my uh let's try to create it as a tool let's try to create it as a tool I haven't tried it creating it as a tool um make sure to to remove it from here as a tool in our agent uh When I Was preparing I did it like with uh a input here so you input the YouTube video URL and then you talk with it but I think it would make more sense to see at least how we can do it with a tool in our agent so let's go ahead in our agent and create here a tool const um Trigger YouTube scrape scrape tool now it has a function that does something and some configuration for example name it can be Trigger YouTube scrape tool and description description trigger the scraping of a YouTube video using it using the URL the tool will not will uh start a scraping job that usually I will give it more context to know how to use it maybe I can do it even in in new lines like this The Tool uh that usually takes around 7 seconds maybe later we can give it a tool to also ask for um the status of jobs the tool will return the job ID that can be used to check the status of a scraping job this is a bit the tool will return the job ID should I just from Bright data here because it returns an object with snapshot ID should I just return snapshot ID I think so let's just do return results dot snapshot ID the tool will return the snap shot slash job ID that can be use okay use the tool only if a video is not in the vector store already in the schema we need the URL and we are going to get it here as URL what we need to do with it is we need to say hey snapshot ID return Trigger YouTube video from Bright data let's do console.log triggering YouTube video scrape and this one that's cool that because now if I'm going to make sure to run the server and run the front end locally and if I'm going to go to local call host uh what's the the API for the Local Host it's this one if I will say uh I will go ahead and take a YouTube url but wait a second I forgot one thing I forgot to take the trigger YouTube video scrape tool and give it to my agent now if I'm going to go ahead and take a video for let me see what exactly I want here I don't know what to [Music] say I'm going to do also F1 so if I take this URL and send it here can we talk about this and if I send this is a very interesting this is a very specific prompt saying that hey I want to scrape this video let's see what's going to do what's going to happen if I look in the logs for our server we see the triggering YouTube scrape job for this video ID for this video ID and it's not finished yet YouTube video scrip scrape triggered so it has a snap snapshot ID and what it does based on the information covered from the video transcript I can provide you with a summary of a YouTube YouTube video summary building a custom scrolling component in react native no that's not really true that's not really true and we are going to have to adjust it a little bit that's because now that we are working with URLs and video IDs like this it's not longer going to be part like in the retrieve tool it's no longer going to be the video ID here so I'm going to remove this configurable video ID or maybe let me do it like this and I'm going to take it from here from the parameters that our tool is going to receive and it's going to be the llm that is going to decide what the video ID is so again giving more control to the llm in here we're going to say in the schema that we have the video ID but we can also describe the ID of a video to retrieve yeah for a specific YouTube video now if I'm going to go ahead and say the same thing can we talk about this it's going to do that trigger and then is going to try to use the data from newon the thing is that it's not ready yet like our trigger even though we are triggering it the data is not stored in the in the database yet we didn't complete the loop yet so that's why we say I apology but it looks like the video content is still being processed and is available for me to retrieve information yet this typically takes around 7 seconds but sometimes it can take a bit longer that means that even though scraping job was correctly triggered as we can see here it's correctly triggered by our agent uh we need to deploy it and make sure that our SL web hook receives the requestbody but not only do we need to receive a request. body we need to index them how do we do that well request. body is basically similar to this data. GS it's an array with videos it can be one video it can be multiple video at the same time we have embeddings which has a function add video to Vector store which expects a video data so in our server index in the web hook what we need to do is we need to in a simple way we need to do a weight making it a sync first add video to vector store requestbody sl0 because the body is going to be an array and I can show you that by looking into the logs of genesio logs we see bodies and array but if you want to store all of them what we have to do is we have to say request. body. map for every single video data there we want to addit to um to the vector store and because this is an array of promises we're going to put it into a weit promise. all and say that hey a wait storing all the data and only then finish it return okay so now if we deploy uh I will probably do that um there is one more small thing that we need to take care of and instead of showing you the problem first let me explain it usually the express are going to limit how big the body of the post request can be however in our case if we are fetching the if we are scraping a podcast of 4 hours that's going to have a lot of data so it can be a couple of kilobytes couple of hundred kilobytes so in V express. Json we can give a option here to increase the limit of that data I can even do 200 megabytes I'm just just to make sure that it's going to work now that I have this one here let me go ahead and deploy everything to production using um jio deploy and we're no longer going to test it locally we're going to test it the deployed one so we see front and URL you can copy it we can go here and we can start by copying a URL let's go back to our application and let's talk about and let's do the video URL now if we look really quickly here on uh bright data I think it's supposed to to trigger a new job here yes it's running and this bright data job should call back back our API at/ web hook we're going to see that in the logs here I don't think we logged anything but we see that the function call at 51 just now which means that in newon if everything work correctly in neon database we should already have information about a video from a new from a new video I that is this four L at the end so if I look here in the new on [Music] database this is still that one and if I scroll there are a lot of them so let's do like this this is the last page if I look at the end it didn't work right I don't think it did uh um I need to double check if it actually was scraped correctly so video this one can I do a filter here where metadata but metadata is it oh no yeah here it is Louis congrats you see for it's a small video so it's four chunks at the end uh if I search here you see that these four chunks are about this video so what I can say here now is uh is it ready yet and it's supposed to already look into the neon database instead of triggering a new one did it trigger a new one uh this is now is 53 so I don't see a new job being triggered which is very good and the answer is great news the video content is now available based on what uh I've retrieved this appear to be a video about Formula 1 racing specifically featuring Louis Hamilton here is what I can tell you from the content uh how did Louis what was Louis last uh words last words not not that bad like last words in the interview let's see if it will if it can understand this kind of stuff based on we'll stay positive we'll keep our hands high and keep pushing forward perfect now I can go ahead and take a new video for example from our Channel and say hey come on live let's take this Lucas video and we can continue here as well can we talk about this video and provide a video it's supposed to trigger a new scraping jump let's see yes it's running so this is all done by the AI agent it's crazy and after some time it's going to add new stuff in our transcripts table we're going to already have 639 but this video is huge so that's why it took a little bit of time is it ready [Music] So based on a Content retrieve at around 42 minutes Mark I'm not sure like why it's say that at this point of a video Lucas appears to be wrapping up a tutorial live stream he's just finished implementing some functionalities related to making items pressible he just finished like that that that uh what is the tutorial about so basically I can talk with this tutorial with this YouTube video let me try to find something that lookas maybe do so sad what kind of list let's do what kind of list is that tutorial teaching shall we do that that's going to be the next question so this beginner friendly tutorial where Lucas is teaching the viewers how to build Apple news cloning R native like that like that like that what kind of list is Lucas teaching so how it's going to work it's going to look at it's going to find from all of the transcripts here from around 300 transcripts transcripts that are more similar to that maybe this one around here and based on that it's going to analyze and answer the question so let's see maybe something even more specific [Music] H how specific do we want to get but yeah let's see what's the answer and now because we are using um the AI model we can even combine multiple videos error processing request that's interesting I'm wondering why I don't know maybe time limit I don't know but what I wanted to try to do is go back to a previous video for example the Louis um what what was Louis excited about and I think it should link it to the previous video without scraping new data because it already has it in the database mhm the video where is earlier was about Formula One Would you like me yeah the question was about the previous video with ID maybe this one now I can properly answer your question uh what kind of was discussing okay key points about qualifying session perfect so I think this is better because it's very flexible it can start scraping like different jobs and even if we try to do that again I hope it's not going to add new items in the database because if it's smart enough it should first check if it has information about that so even if I remove and restart the chat from scratch and say can we talk about and the video about Lucas I I hope it's not going to start a scraping job but it's not up to us it's up to the agent and it actually indeed tried to to do that uh maybe we can instruct it better through the description of our agents use the tool only if a video is not in the vector store already so we need to tell it like check the vector store first because it added more items here also you can add a table with video IDs where you're going to save a status so so that it easier understand if it has videos or not um before calling this tool make sure that that it is not already in the vector store so maybe like this maybe with an additional tool to check the status of a video it can also improve like how our AI is going to is going to work but well let's change what I want to do here is that now from the client we are no longer having to send the video ID manually because that is the agent is going to understand from the context of what we are talking about um it's going to understand like the the video uh let's see and in the backend in the server here in the index we don't need in the generate the video ID again this is something that the chat is going to understand through the messages that it worked with perfect so now I can deploy it again and I think with this we have a pretty cool rag system that we can use to talk with YouTube videos Lucas filling in for Vadim who will return next week he's a developer video content and so one um all right what will you guys guys build with this one let me know in the comments below because I believe this system opens up so many opportunities and possibilities I'm thinking you can um you can build like a Chrome extension where you go in a video and you can already pop up here and chat with that video like give me the summary what did he say at the beginning what did he say at the end like uh it can be a great Learning Resource on top of you YouTube or other sources uh from the internet that can change the way we are consuming uh content um another idea that I have that uh this might serve as a core for implementing uh can be something for example we as notes da have a lot of content on uh um on our Channel when but sometimes it's hard to remember where for a new students to know like where did we use what so for example if you're interested in animation I would go into a tool into a chat box and say in what video uh did they talk about or uh give me the video ID or better URL for videos about F1 you have you know about I think without even changing anything it might work because it will look at the context it will check F1 and we'll find like these videos and let's see I don't have pre-existing list of videos I would need to specific on tools however tools I have designed R information from videos already know already know about by providing a video ID where to scrape new videos by providing video URLs mhm okay so yeah it doesn't have a tool to look at video yeah yeah yeah or to scrape new videos provide videos what if it just uses the same tool it should work it should work we generate in with the retrieve it needs a query and a video ID yeah this video ID yeah look I'm uh I was not sharing it but I wanted to for it to give me a list of videos about Formula 1 uh I think what but for that to work we just need to create a new tool let me try I'm really curious to see I'll create a new tool called retrieve similar videos and it's not going to get a video ID but it's going to get the query it's not going to get configuration and it's going to find like yeah top three videos about that and it's going not going to have any filter looking at all the data in the database it's not going to serialize the content of a page but it's going to uh map over doc. metadata do video ID so IDs and then we're going to return IDs retrieve similar videos description retrieve the IDs of the more similar videos to the query and I don't have this video this video ID so it's another tool that I can give to my agent and I think with that tool if I deploy we should be able to to talk with all the videos there and by adding this kind of tools like maybe you you are the tool to index a channel in all of his videos and then uh get um a tutor based on a Creator so you index the whole thing that he said and then you create a chatbot based on that Creator that's actually a very good idea let me see what's happening it deployed let's see uh the same the same question again let's see if it now can give me a list of uh video URLs I found a Formula One related video in the database here is the details video ID and this is the video link perfect is the highlights but there is one more you can access the F1 video direct [Music] through um I know what I know what happened there because even though um there are more items there about F1 the similarity search here of similar videos only received free top chunks and the fre top chunks might be for the same video so that's why uh it only gave me one video instead of more so maybe you can increase here from three chunks to 30 most similar chunks to that query H I don't know or you can have another table where you have videos and what are they about with a little bit shorter description with a shorter Vector based on the description so that you can also search like this for the videos as well perfect love it and I hope you enjoy this one as well uh all the links all the documentation and the are going to be available through the guide link in the description below so just simply go in the description and you'll find a link to the step-by-step guide um I'm going to put there also the source code so you can look at it and maybe Implement something of your own play with it like I'm so excited with with the possibilities of this one and everything related to AI nowadays um it looks like magic like we put stuff together we put the tools together and then it can do anything we just have to ask it the right question so I hope you enjoy this one I hope you learn something new uh learn new about a agents about rag system thank you very much for our sponsors bright data that allowed us to get access to any data on the internet which is so important nowadays in the AI age to have access to data and also uh janio for helping us host deploy our application in a very scalable environment in a in a in a server that can scale with our uh application thank you everyone who joined uh if you have more ideas if you'd like to learn more about AI or mobile development or anything else let me know in the comments below I'm going to to read them and note it down to to build something for you in the next week if you enjoy this one make sure to subscribe and I'll see you guys next week bye-bye","formatted_transcript":[{"start_time":199,"end_time":5319,"duration":5120,"text":"what's up Noz developers welcome back to another live tutorial today we're going"},{"start_time":5319,"end_time":12639,"duration":7320,"text":"to have another AI agent tutorial and our AI tutorial that is going to help"},{"start_time":12639,"end_time":19320,"duration":6681,"text":"and teach you how to build an AI agent from scratch using langra as with an"},{"start_time":19320,"end_time":28800,"duration":9480,"text":"aspect of rag today we're going to learn more about all of these terms what we mean and I'm so excited about everything"},{"start_time":28800,"end_time":34000,"duration":5200,"text":"that is happening right now in the AI world like what's possible to build what"},{"start_time":34000,"end_time":41280,"duration":7280,"text":"powerful tools we have available at our fingertips and how easy it is to actually Implement them after we"},{"start_time":41280,"end_time":46399,"duration":5119,"text":"understand how they work and the goal of these tutorials is to help you make"},{"start_time":46399,"end_time":53640,"duration":7241,"text":"sense of everything that is going on out there and to give this ideas of what is possible so make sure to follow along"},{"start_time":53640,"end_time":60840,"duration":7200,"text":"this tutorial by the end and I promise you that you're going to know more about AI agents and how to build them know"},{"start_time":60840,"end_time":66119,"duration":5279,"text":"more about rag system and how to build them and by then you're actually going"},{"start_time":66119,"end_time":72439,"duration":6320,"text":"to have an system an AI agent with an interface with backend deployed and"},{"start_time":72439,"end_time":78320,"duration":5881,"text":"accessible by anyone that can uh answer questions"},{"start_time":78320,"end_time":83600,"duration":5280,"text":"about YouTube videos so the project that we're going to build today is the AI"},{"start_time":83600,"end_time":90960,"duration":7360,"text":"chat with YouTube videos and what do I mean by that let me give you a little context that one of the most powerful"},{"start_time":90960,"end_time":99920,"duration":8960,"text":"applications of llm nowadays is to build this sophisticated um question answering Bots"},{"start_time":99920,"end_time":107399,"duration":7479,"text":"that have knowledge about a very particular area because we most probably"},{"start_time":107399,"end_time":113600,"duration":6201,"text":"all have already experienced uh general purpose llms uh such as the chbt let's"},{"start_time":113600,"end_time":120399,"duration":6799,"text":"say from open AI that is exceptionally good at understanding human language"},{"start_time":120399,"end_time":126600,"duration":6201,"text":"and generating text answering questions or continuing uh text"},{"start_time":126600,"end_time":132760,"duration":6160,"text":"generation however the general purpose AI models they do not know very specific"},{"start_time":132760,"end_time":138120,"duration":5360,"text":"information so while it's a very good generalist when it comes to specializing"},{"start_time":138120,"end_time":145680,"duration":7560,"text":"in a very specific topic it's not very good it doesn't have most up-to-date information out of a box um so for"},{"start_time":145680,"end_time":150920,"duration":5240,"text":"example if we ask a question about a documentation or about like a document a"},{"start_time":150920,"end_time":157280,"duration":6360,"text":"law or something like that it can get a little bit lost however if we as"},{"start_time":157280,"end_time":162400,"duration":5120,"text":"developers give the right information to the llm the llm can use that information"},{"start_time":162400,"end_time":168360,"duration":5960,"text":"to generate an accurate and upto-date anware which makes this system so"},{"start_time":168360,"end_time":175280,"duration":6920,"text":"powerful this system of injecting uh context into llm is called Rag and"},{"start_time":175280,"end_time":181840,"duration":6560,"text":"that's what we are going to use today and in our project our"},{"start_time":181840,"end_time":186879,"duration":5039,"text":"system is going to get information is going to get a YouTube video we're going"},{"start_time":186879,"end_time":193799,"duration":6920,"text":"to do some magic there to scrape that transcript of that YouTube video so we know what's being talked in that YouTube"},{"start_time":193799,"end_time":199560,"duration":5761,"text":"video and then our AI chat is going to be able to answer questions very"},{"start_time":199560,"end_time":206920,"duration":7360,"text":"specific to that YouTube video such as what is the main topic of a podcast how much money did for example he invest in"},{"start_time":206920,"end_time":211959,"duration":5039,"text":"Beast games like very specific of what being discussed there and what's going"},{"start_time":211959,"end_time":217879,"duration":5920,"text":"to happen is our AI system is going to go ahead and get the part that is most"},{"start_time":217879,"end_time":222959,"duration":5080,"text":"relevant to this question and based on that part of the interview is going to"},{"start_time":222959,"end_time":228400,"duration":5441,"text":"generate an answer or for example it can take an eight hour tutorial from our"},{"start_time":228400,"end_time":235079,"duration":6679,"text":"Channel and you can ask questions like what tools didim use there he's going to look for the video uh transcript is"},{"start_time":235079,"end_time":240319,"duration":5240,"text":"going to find the information there and is going to give you an answer or uh"},{"start_time":240319,"end_time":247959,"duration":7640,"text":"maybe you can use it like I get an error did I miss anything and again it's going to use the brain power of an nlm with"},{"start_time":247959,"end_time":253760,"duration":5801,"text":"the context of a video to give you the right"},{"start_time":254079,"end_time":261639,"duration":7560,"text":"answer and this is actually how I came up to this idea I was thinking about building an agent that can answer"},{"start_time":261639,"end_time":266880,"duration":5241,"text":"questions based on our videos for example you might be searching for um a"},{"start_time":266880,"end_time":272160,"duration":5280,"text":"tool and you want to know in which video we implemented you can use this agent to"},{"start_time":272160,"end_time":278919,"duration":6759,"text":"ask and it's going to go and knowing all the information about our videos is going to answer where that is happening"},{"start_time":278919,"end_time":285919,"duration":7000,"text":"there are a lot of applications of this kind of powerful Bots uh from uh analyzing public data like on YouTube"},{"start_time":285919,"end_time":293039,"duration":7120,"text":"chatting with long TXS with long loss uh with blog posts with"},{"start_time":293039,"end_time":300039,"duration":7000,"text":"podcasts and much much much more so if we talked about rag let me"},{"start_time":300039,"end_time":306080,"duration":6041,"text":"quickly discuss more about that so what is rag rag is stands for retrieval"},{"start_time":306080,"end_time":312479,"duration":6399,"text":"augmented generation and in simple terms generation means the part of an llm that"},{"start_time":312479,"end_time":317680,"duration":5201,"text":"generates text you give it some text usually let's say a question and how it"},{"start_time":317680,"end_time":323360,"duration":5680,"text":"works it generates what is the most probable next part of a text that comes"},{"start_time":323360,"end_time":329680,"duration":6320,"text":"after that usually an answer for example retrieval augmented means that it first"},{"start_time":329680,"end_time":336400,"duration":6720,"text":"Reves context that it needs and it augments it improves the generation part"},{"start_time":336400,"end_time":341639,"duration":5239,"text":"using the information retrieved so in our case with YouTube it"},{"start_time":341639,"end_time":349280,"duration":7641,"text":"first will retrieve information about the video about the transcript and then using that information is going to uh"},{"start_time":349280,"end_time":355639,"duration":6359,"text":"generate the answer rag has usually two parts in it"},{"start_time":355639,"end_time":363880,"duration":8241,"text":"and the first part is in the pipeline is a indexing pipeline this usually happens offline um not when"},{"start_time":363880,"end_time":368919,"duration":5039,"text":"the user requests something but beforehand and that usually happens in"},{"start_time":368919,"end_time":374720,"duration":5801,"text":"following steps first we have to load the data this can be documents this can"},{"start_time":374720,"end_time":382919,"duration":8199,"text":"be HTML Json URLs PDFs we need to get the data that we uh want to work with"},{"start_time":382919,"end_time":388800,"duration":5881,"text":"after we get the data we have to split it into manageable chunks because uh if"},{"start_time":388800,"end_time":394560,"duration":5760,"text":"we have like thousands of uh characters into a document it's going to be harder"},{"start_time":394560,"end_time":400240,"duration":5680,"text":"to um there is a limit to how much context we can give it an llm and it"},{"start_time":400240,"end_time":407400,"duration":7160,"text":"would be better to split it and then when we have a question only get the chunks the pieces of data that are"},{"start_time":407400,"end_time":412639,"duration":5239,"text":"relevant to that question after we split the documents into small chunks what we"},{"start_time":412639,"end_time":419360,"duration":6721,"text":"do is we embed embeddings um in simple words means we"},{"start_time":419360,"end_time":425160,"duration":5800,"text":"take take a bunch of text we put it through a system and in the end we get"},{"start_time":425160,"end_time":433400,"duration":8240,"text":"an vector and a vector is basically an array of numbers array of numbers that represents"},{"start_time":433400,"end_time":439240,"duration":5840,"text":"a vector uh in a very multi multi-dimensional space to think about a"},{"start_time":439240,"end_time":447479,"duration":8239,"text":"vector very simple one would be a two-dimensional Vector that is an arrow pointing into One Direction and having"},{"start_time":447479,"end_time":455120,"duration":7641,"text":"this vector later we can compare it with other vectors to know how similar they are"},{"start_time":455120,"end_time":460960,"duration":5840,"text":"that's basically how similarity search in this system works we take a text we"},{"start_time":460960,"end_time":467479,"duration":6519,"text":"generate a vector which is a numerical representation of that text after that"},{"start_time":467479,"end_time":474800,"duration":7321,"text":"we take a in The Next Step we're going to see how we find the similarity so after we generate this"},{"start_time":474800,"end_time":480879,"duration":6079,"text":"embeddings and again it's important to understand the concept of it it's not very important to understand how this is"},{"start_time":480879,"end_time":487120,"duration":6241,"text":"happening because it's a matter of calling an AI model that is built for"},{"start_time":487120,"end_time":494000,"duration":6880,"text":"generating this embeddings so think about it as a function we give it text it gives us back an array of numbers"},{"start_time":494000,"end_time":499280,"duration":5280,"text":"which represents a vector having this Vector we need to"},{"start_time":499280,"end_time":504919,"duration":5639,"text":"store it somewhere and we need to store it in a database that can support"},{"start_time":504919,"end_time":510039,"duration":5120,"text":"querying based on Vector similarity basically saying give me documents that"},{"start_time":510039,"end_time":517760,"duration":7721,"text":"are very similar to this document based on these numbers after we have a store data there"},{"start_time":517760,"end_time":524279,"duration":6519,"text":"we are ready for the next step the next step is retrieve and generate this usually happens when the user interacts"},{"start_time":524279,"end_time":530279,"duration":6000,"text":"with our system when it asks a question so the user asks a normal question in a"},{"start_time":530279,"end_time":535800,"duration":5521,"text":"very human readable language it can have mistakes and so on but llm is smart"},{"start_time":535800,"end_time":542800,"duration":7000,"text":"enough to embed it and based on the embedding of a question which is the"},{"start_time":542800,"end_time":549440,"duration":6640,"text":"same process as here we are finding the documents that are related to that"},{"start_time":549440,"end_time":556839,"duration":7399,"text":"question that are very similar to that question then we see which of these"},{"start_time":556839,"end_time":563640,"duration":6801,"text":"documents are the most relevant document to this question most relevant pieces of"},{"start_time":563640,"end_time":568959,"duration":5319,"text":"do parts of our text relevant to the question we retrieve it from the"},{"start_time":568959,"end_time":575560,"duration":6601,"text":"database and we put it as context in the prompt then this prompt we send it to a"},{"start_time":575560,"end_time":580640,"duration":5080,"text":"normal llm such as open AI um models and"},{"start_time":580640,"end_time":585959,"duration":5319,"text":"then we get an answer back but the answer has the context so it's very"},{"start_time":585959,"end_time":593360,"duration":7401,"text":"specific to the data that we gave let me know if that is um that is"},{"start_time":593360,"end_time":602000,"duration":8640,"text":"clear um but we're going to understand it and I'm going to explain it again and again as we Implement all of these steps"},{"start_time":602000,"end_time":607040,"duration":5040,"text":"let's talk a little bit about the architecture of application that we're going to build today so first we're"},{"start_time":607040,"end_time":613320,"duration":6280,"text":"going to have a chat interface we're going to build that with react the chat"},{"start_time":613320,"end_time":621160,"duration":7840,"text":"interface uh is going to interact with our AI agent which is"},{"start_time":621160,"end_time":627680,"duration":6520,"text":"going to be um in in our backend we're going to build our back end with no GS"},{"start_time":627680,"end_time":634720,"duration":7040,"text":"I'm a JavaScript developer so I must rather I I feel more comfortable building with JavaScript but if you're"},{"start_time":634720,"end_time":642519,"duration":7799,"text":"python developer langra is also available for Python and I know a lot of people prefer python in this in this"},{"start_time":642519,"end_time":649440,"duration":6921,"text":"situations over JavaScript but I think it's perfectly fine with GS as well so the backend is in our case is"},{"start_time":649440,"end_time":655760,"duration":6320,"text":"going to be an API that is going to contain multiple Parts one of them is going to be our AI agent and the AI"},{"start_time":655760,"end_time":663320,"duration":7560,"text":"agent in this case like is a simple abstraction on top of an llm the large"},{"start_time":663320,"end_time":668519,"duration":5199,"text":"language model provided by either anthropic or open"},{"start_time":668519,"end_time":674040,"duration":5521,"text":"Ai and these uh providers like entropic and open AI they are very uh"},{"start_time":674040,"end_time":680880,"duration":6840,"text":"interchangeable so use the one that you uh feel best um in this situation we're going to"},{"start_time":680880,"end_time":685920,"duration":5040,"text":"have a simple chat chatting application such as CH that we can ask a question it"},{"start_time":685920,"end_time":691240,"duration":5320,"text":"can answer us back nothing more than that it not doesn't yet have context"},{"start_time":691240,"end_time":696360,"duration":5120,"text":"about YouTube videos but we need our chat interface to know and to talk about"},{"start_time":696360,"end_time":702160,"duration":5800,"text":"the YouTube videos that we want to talk about for that we're going to have to"},{"start_time":702160,"end_time":710079,"duration":7919,"text":"index our YouTube videos to build this rag system so if we look at the uh flow"},{"start_time":710079,"end_time":715360,"duration":5281,"text":"we have to load the data first how we're going to load the data"},{"start_time":715360,"end_time":722800,"duration":7440,"text":"well the data we're going to get it from YouTube uh and we're going to do that using the web scraper provided by bright"},{"start_time":722800,"end_time":729399,"duration":6599,"text":"data if you don't know about bright data this is the best uh tool to scrape and"},{"start_time":729399,"end_time":735720,"duration":6321,"text":"get access to public data uh on the internet uh they run on a very powerful"},{"start_time":735720,"end_time":741600,"duration":5880,"text":"proxy Network and are implementing a lot of features of unblocking the web for"},{"start_time":741600,"end_time":747839,"duration":6239,"text":"you like solving capturas or rotating IPS and basically you can think about"},{"start_time":747839,"end_time":754279,"duration":6440,"text":"like okay I need data I don't know and I don't want to care about how to get it just going to go on bright data and"},{"start_time":754279,"end_time":760000,"duration":5721,"text":"there you're most probably will find an API pre-build for scraping this data for"},{"start_time":760000,"end_time":765440,"duration":5440,"text":"you if not you can use the scraping browser and implement this yourself and"},{"start_time":765440,"end_time":770839,"duration":5399,"text":"in the world of AI with bright data you can give basically access to any data on"},{"start_time":770839,"end_time":777680,"duration":6841,"text":"the web to your AI because the power of our AI models is depends on the power of"},{"start_time":777680,"end_time":784880,"duration":7200,"text":"the data that we provide or give it access to so with combining bright data with AI models I think this is a very"},{"start_time":784880,"end_time":790360,"duration":5480,"text":"good combination and Powerful one to that unlocks you so much"},{"start_time":790360,"end_time":796399,"duration":6039,"text":"possibilities so we're going to use Bri data to scrape YouTube videos"},{"start_time":796399,"end_time":802199,"duration":5800,"text":"specifically the transcriptions the captions and then we're going to need to"},{"start_time":802199,"end_time":807360,"duration":5161,"text":"uh if we looking back into this one we need to split and embed it for that"},{"start_time":807360,"end_time":814800,"duration":7440,"text":"we're going to use an l M such as open AI that is uh and specifically an"},{"start_time":814800,"end_time":820800,"duration":6000,"text":"embedding model not a generation model embedding means we give you text you"},{"start_time":820800,"end_time":826480,"duration":5680,"text":"give me back a vector after we have a vector we need to store it somewhere we"},{"start_time":826480,"end_time":831560,"duration":5080,"text":"will store it in a vector database so it should be a database that can do these"},{"start_time":831560,"end_time":839639,"duration":8079,"text":"queries on vectors like similarity queries and pogress has a PG vector that"},{"start_time":839639,"end_time":846519,"duration":6880,"text":"is an extension uh allowing to do this kind of uh similarity search on"},{"start_time":846519,"end_time":853639,"duration":7120,"text":"postgress data so we're going to do that as well we're going to create a database we're going to store the data"},{"start_time":853639,"end_time":859839,"duration":6200,"text":"there and that is the first step done for the next step when the user ask a"},{"start_time":859839,"end_time":865079,"duration":5240,"text":"question we need to retrieve this data and generate it so that's where our AI"},{"start_time":865079,"end_time":872800,"duration":7721,"text":"agent we're going to have to give it access to our vector database to retrieve the information that it needs"},{"start_time":872800,"end_time":880800,"duration":8000,"text":"to generate the answer so finally we're going to deploy"},{"start_time":880800,"end_time":886959,"duration":6159,"text":"everything to jio both the front end and our back end for the AI agent and the"},{"start_time":886959,"end_time":892440,"duration":5481,"text":"API and if you don't know about genesio this is the best way to deploy web"},{"start_time":892440,"end_time":897639,"duration":5199,"text":"applications they support a lot of Frameworks both front end and backend"},{"start_time":897639,"end_time":903959,"duration":6320,"text":"and that's what I like about it because I can use jio to deploy both the front end and the back end of our application"},{"start_time":903959,"end_time":911079,"duration":7120,"text":"and we're going to have it everything up and running very very fast and I would like to say thank you to janio and to"},{"start_time":911079,"end_time":917040,"duration":5961,"text":"Bri data for making this video possible very excited uh if you are also excited"},{"start_time":917040,"end_time":921160,"duration":4120,"text":"I think we can get started let's roll the"},{"start_time":923740,"end_time":931360,"duration":7620,"text":"[Music] intro all all right"},{"start_time":931360,"end_time":936959,"duration":5599,"text":"so I want to mention that the step-by-step guide as usually is in the"},{"start_time":936959,"end_time":942800,"duration":5841,"text":"link in the description below so if you go ahead on the under the video where is"},{"start_time":942800,"end_time":950839,"duration":8039,"text":"it uh and open it here you're going to see the guide so go ahead open it up uh"},{"start_time":950839,"end_time":959399,"duration":8560,"text":"go to site leave your name email and you're going to receive access to the"},{"start_time":959399,"end_time":964920,"duration":5521,"text":"uh to the guide to the notion guide so let me copy the URL as well to open it"},{"start_time":964920,"end_time":970959,"duration":6039,"text":"up here with you and here you're going to have like more step by step and I left here a"},{"start_time":970959,"end_time":981120,"duration":10161,"text":"little bit more resources where you can learn more um so we're going to use a lot the"},{"start_time":981120,"end_time":987240,"duration":6120,"text":"blog from linkchain because we're going to use l chain to build our AI agent and"},{"start_time":987240,"end_time":992399,"duration":5159,"text":"we have here a two-part block log however not everything from here is"},{"start_time":992399,"end_time":999199,"duration":6800,"text":"super applicable to our case so I would recommend you read here to know more or"},{"start_time":999199,"end_time":1005120,"duration":5921,"text":"follow what we are going to do and we're going to do everything step by step for"},{"start_time":1005120,"end_time":1010920,"duration":5800,"text":"that let's go ahead and open a terminal and get started I cannot wait to to get"},{"start_time":1010920,"end_time":1016839,"duration":5919,"text":"started I'm going to zoom in here let's navigate to our"},{"start_time":1016839,"end_time":1020839,"duration":4000,"text":"project YouTube"},{"start_time":1021920,"end_time":1031839,"duration":9919,"text":"0320 like this and let's create a directory let's call it chat with"},{"start_time":1031839,"end_time":1038000,"duration":6161,"text":"YouTube uh let's call it AI chat with"},{"start_time":1039160,"end_time":1044959,"duration":5799,"text":"YouTube let's go ahead and open this folder in our editor of choice I'm going"},{"start_time":1044959,"end_time":1052960,"duration":8001,"text":"to open it with cursor you can open it with Visual Studio code uh or any other editor of your choice in"},{"start_time":1052960,"end_time":1058440,"duration":5480,"text":"my case using cursor is going to speed up a little bit the the development"},{"start_time":1058440,"end_time":1065000,"duration":6560,"text":"process because nowadays I feel more and more often using um AI Co code"},{"start_time":1065000,"end_time":1070919,"duration":5919,"text":"generation to to speed up my my process today I'm going to use it only in"},{"start_time":1070919,"end_time":1076200,"duration":5281,"text":"specific cases where it's going to save us time but when it comes to learning"},{"start_time":1076200,"end_time":1084799,"duration":8599,"text":"the AI agent we're going to try to write everything ourself um so being in this folder in"},{"start_time":1084799,"end_time":1091120,"duration":6321,"text":"this project we're going to create uh first one folder called"},{"start_time":1091120,"end_time":1097600,"duration":6480,"text":"server and this folder I open up terminal and did mkd server where you"},{"start_time":1097600,"end_time":1103120,"duration":5520,"text":"can simply do new folder here and let's go ahead and do CD server in our"},{"start_time":1103120,"end_time":1111360,"duration":8240,"text":"terminal and initialize our noj project I'm going to do that with npm in need- Y"},{"start_time":1111360,"end_time":1117159,"duration":5799,"text":"and in our server we have package.json while we are here maybe we can even do"},{"start_time":1117159,"end_time":1122880,"duration":5721,"text":"here type module um"},{"start_time":1122880,"end_time":1129080,"duration":6200,"text":"to be able to use like normal import statements and for now that's it in a"},{"start_time":1129080,"end_time":1137080,"duration":8000,"text":"second we're going to install dependencies here but for now let's go ahead and simply create the agent. GS"},{"start_time":1137080,"end_time":1142480,"duration":5400,"text":"here because the first step in our case is is going to build our"},{"start_time":1142799,"end_time":1152720,"duration":9921,"text":"agent here let's just do console log hello world in our package.json"},{"start_time":1152720,"end_time":1160440,"duration":7720,"text":"H maybe I don't need it I will just go ahead in the terminal inside being inside the server"},{"start_time":1160440,"end_time":1166280,"duration":5840,"text":"I'm going to do node agent. GS and if I do that we're"},{"start_time":1166280,"end_time":1172320,"duration":6040,"text":"going to see Hello World so that's how we're going going to start initially testing it we're going to Simply execute"},{"start_time":1172320,"end_time":1179760,"duration":7440,"text":"this agent file later we're going to put it inside um behind an API uh so we can"},{"start_time":1179760,"end_time":1188600,"duration":8840,"text":"fetch and integrate it from the client side from the front end perfect let's go ahead and um there"},{"start_time":1188600,"end_time":1194799,"duration":6199,"text":"is also a blog post which I did two weeks ago around building AI agents with"},{"start_time":1194799,"end_time":1201240,"duration":6441,"text":"lra that one is really a step by step uh implementation of how to build this kind"},{"start_time":1201240,"end_time":1207440,"duration":6200,"text":"of agents and I will open it up because there I showed you how to get started"},{"start_time":1207440,"end_time":1214880,"duration":7440,"text":"with that what I want to do is I want to First install these dependencies I will install Leng chain L graph length chain"},{"start_time":1214880,"end_time":1221080,"duration":6200,"text":"Das core and L chain entropic because I'm going to use entropic for the llm"},{"start_time":1221080,"end_time":1227200,"duration":6120,"text":"for the completion model and then also Zod we're going to see why we need Zod"},{"start_time":1227200,"end_time":1232360,"duration":5160,"text":"in a moment so let's copy this command from here I'm by the way also going to"},{"start_time":1232360,"end_time":1238840,"duration":6480,"text":"add it uh here in the steps actually it's you can go in the steps and take it"},{"start_time":1238840,"end_time":1244120,"duration":5280,"text":"from there and being inside the server here"},{"start_time":1244120,"end_time":1249360,"duration":5240,"text":"let's go ahead and install L chain langra where is it"},{"start_time":1249360,"end_time":1256039,"duration":6679,"text":"langra and Zod now we need to create thatv file"},{"start_time":1256039,"end_time":1262120,"duration":6081,"text":"where we're going to write the um how is it"},{"start_time":1262960,"end_time":1269360,"duration":6400,"text":"called we need the environment variable with entropic"},{"start_time":1269360,"end_time":1274720,"duration":5360,"text":"key to get the entropic key go ahead on"},{"start_time":1275000,"end_time":1278919,"duration":3919,"text":"entopic anthropic"},{"start_time":1282880,"end_time":1288159,"duration":5279,"text":"doc go ahead and uh do build with CLA do"},{"start_time":1288159,"end_time":1295600,"duration":7441,"text":"learn more start building and in your uh after signing in in your account you're"},{"start_time":1295600,"end_time":1304360,"duration":8760,"text":"going to be able to generate an API Key by the way entropic is not the only way to do that you can easily integrate with"},{"start_time":1304360,"end_time":1313039,"duration":8679,"text":"open AI as well however I tried with open Ai and I didn't really like the performance like how it behaved there so"},{"start_time":1313039,"end_time":1319240,"duration":6201,"text":"I don't know maybe I didn't try the right model from open AI but we're still going to use open AI in the next step"},{"start_time":1319240,"end_time":1330200,"duration":10960,"text":"for something else so in the embedding what we need to do in the EnV we need to provide here"},{"start_time":1330200,"end_time":1336720,"duration":6520,"text":"the API key actually let me go ahead and uh"},{"start_time":1337159,"end_time":1344400,"duration":7241,"text":"entropic console. entropic to generate a new key that we"},{"start_time":1344400,"end_time":1349000,"duration":4600,"text":"can easily remove later"},{"start_time":1350960,"end_time":1358120,"duration":7160,"text":"uh I need the de how is it called console"},{"start_time":1361559,"end_time":1367360,"duration":5801,"text":"entropic do don't remember the the account that I"},{"start_time":1370840,"end_time":1377159,"duration":6319,"text":"used okay here it is so what I'm going to do is I'm going to go into the API"},{"start_time":1377159,"end_time":1383760,"duration":6601,"text":"keys I'm going to click read key and I'm going to see say here chat with"},{"start_time":1383760,"end_time":1389120,"duration":5360,"text":"YouTube Key let's do add I'm going to copy it I'm going to also delete it"},{"start_time":1389120,"end_time":1395799,"duration":6679,"text":"later don't worry and here let's put it into an an"},{"start_time":1396039,"end_time":1407200,"duration":11161,"text":"Tropic come on un Tropic API key and let's put the API"},{"start_time":1407200,"end_time":1414440,"duration":7240,"text":"key here let's also go ahead and add a new file"},{"start_time":1414440,"end_time":1421320,"duration":6880,"text":"here dogit ignore with without dasg"},{"start_time":1421320,"end_time":1428000,"duration":6680,"text":"ignore and add the. EnV file V because we don't want to commit the uh private"},{"start_time":1428000,"end_time":1433679,"duration":5679,"text":"key of our models to our git while we're ve we can also put the node"},{"start_time":1433679,"end_time":1441159,"duration":7480,"text":"modules perfect now that we have entropic key here uh we are going going to have access to it through"},{"start_time":1441159,"end_time":1450960,"duration":9801,"text":"process.env but what we're going to do is we are going to use it to create"},{"start_time":1451120,"end_time":1458360,"duration":7240,"text":"the the entropic chat client so in our agent what we need is"},{"start_time":1458360,"end_time":1462640,"duration":4280,"text":"first we need to do to"},{"start_time":1463440,"end_time":1468960,"duration":5520,"text":"import chat entropic from L chain entropic"},{"start_time":1468960,"end_time":1476520,"duration":7560,"text":"then we need to say hey our llm is going to be a new chat"},{"start_time":1477320,"end_time":1483760,"duration":6440,"text":"entropic where you can also specify here the model that you want to use for"},{"start_time":1483760,"end_time":1491120,"duration":7360,"text":"example 3.5 like this or maybe you can even do latest or now we can do 3.7 if"},{"start_time":1491120,"end_time":1498919,"duration":7799,"text":"we want you can also provide here the API key but if you don't provide B"},{"start_time":1498919,"end_time":1505440,"duration":6521,"text":"injected as entropic aior key with this name it's going to automatically take it"},{"start_time":1505440,"end_time":1515720,"duration":10280,"text":"from there so we're going to see like if it it if it has it next we will create a react"},{"start_time":1515720,"end_time":1521799,"duration":6079,"text":"agent react not from react GS that we use on to build uh"},{"start_time":1521799,"end_time":1529039,"duration":7240,"text":"interfaces uh it's from uh it stands for uh reason and act"},{"start_time":1529039,"end_time":1535279,"duration":6240,"text":"so it's going to be an agent that can reason and use tools for us uh we just"},{"start_time":1535279,"end_time":1543080,"duration":7801,"text":"give it like what's possible and it's going to decide how to to uh execute everything to provide the the answer"},{"start_time":1543080,"end_time":1549158,"duration":6078,"text":"we're going to see in a second like what I mean by that to create one we're going to"},{"start_time":1549200,"end_time":1555520,"duration":6320,"text":"import uh create agent"},{"start_time":1555520,"end_time":1561640,"duration":6120,"text":"from L chair uh L chain core let me see where"},{"start_time":1561640,"end_time":1569080,"duration":7440,"text":"from length chain slash length graph slash prebuild if I'm"},{"start_time":1569080,"end_time":1575760,"duration":6680,"text":"not mistaken now we can say that hey our agent is going to be this"},{"start_time":1575760,"end_time":1582520,"duration":6760,"text":"agent and an agent needs first of all the llm the llm which is going to be how"},{"start_time":1582520,"end_time":1590640,"duration":8120,"text":"is going to complete stuff but it also needs let's set of tools in our casee we"},{"start_time":1590640,"end_time":1595720,"duration":5080,"text":"do not have tools yet so we're going to give an empty array in this case this"},{"start_time":1595720,"end_time":1600919,"duration":5199,"text":"agent is really dump it's a simple llm but later we can add tools so it can do"},{"start_time":1600919,"end_time":1609080,"duration":8161,"text":"more stuff let's go ahead and uh test it out by saying Hey I want to do an"},{"start_time":1609080,"end_time":1614360,"duration":5280,"text":"invocation of this agent with was the capital of the Moon that's very"},{"start_time":1614360,"end_time":1623000,"duration":8640,"text":"interesting question let's see the result and to test it out I'm going to to Simply uh execute this agent. GS if I"},{"start_time":1623000,"end_time":1628360,"duration":5360,"text":"do node agent. GS we're going to see an error seeing"},{"start_time":1628360,"end_time":1637080,"duration":8720,"text":"that uh What uh the create agent right at Lang chain d l"},{"start_time":1637080,"end_time":1645000,"duration":7920,"text":"graph D prebuild isn't it from there"},{"start_time":1649399,"end_time":1656880,"duration":7481,"text":"oh create react agent I forgot that so yeah create react agent so in this case"},{"start_time":1656880,"end_time":1662960,"duration":6080,"text":"it's not input but it's what uh I think it should be messages"},{"start_time":1662960,"end_time":1670480,"duration":7520,"text":"right messages let's see how to invoke it"},{"start_time":1670480,"end_time":1673480,"duration":3000,"text":"properly"},{"start_time":1687240,"end_time":1692279,"duration":5039,"text":"what is the capital of a moon I don't know it says uh it has a red warning"},{"start_time":1692279,"end_time":1701600,"duration":9321,"text":"here but I think it's going to work maybe we'll see we'll see ah no I don't think it"},{"start_time":1707120,"end_time":1716440,"duration":9320,"text":"will so it's actually should be we need to give it an array of"},{"start_time":1716440,"end_time":1725000,"duration":8560,"text":"messages and one message will be will have role user and content what is the capital of a moon very similar to how um"},{"start_time":1725000,"end_time":1732200,"duration":7200,"text":"a chat interface will look like you have an array of messages the last one is from the user and the result is going to"},{"start_time":1732200,"end_time":1737799,"duration":5599,"text":"contain the list of messages and what we are interested in is actually the the"},{"start_time":1737799,"end_time":1743960,"duration":6161,"text":"last message but let's see if it will work like this if I do node agent what"},{"start_time":1743960,"end_time":1752840,"duration":8880,"text":"we see is the API key entropic API key not found that's because even though we set it up here in the EnV when we"},{"start_time":1752840,"end_time":1760080,"duration":7240,"text":"executed node agent. GS uh we should also provide the"},{"start_time":1760080,"end_time":1765399,"duration":5319,"text":"EnV file equal EnV so we need to load"},{"start_time":1765399,"end_time":1771880,"duration":6481,"text":"the environments from that file before executing the file the agent and just"},{"start_time":1771880,"end_time":1778039,"duration":6159,"text":"like that we have the answer we have messages we have a human message and we"},{"start_time":1778039,"end_time":1783440,"duration":5401,"text":"have an AI message this is ID content the moon"},{"start_time":1783440,"end_time":1789600,"duration":6160,"text":"doesn't have a capital city because it doesn't have permanent and so on so cool"},{"start_time":1789600,"end_time":1795039,"duration":5439,"text":"that's basically uh our list of messages so to"},{"start_time":1795039,"end_time":1803320,"duration":8281,"text":"get the last one usually what we do is we say results at minus one to take the"},{"start_time":1803320,"end_time":1810440,"duration":7120,"text":"last message from that array and then we look at the message do content and if I"},{"start_time":1810440,"end_time":1816600,"duration":6160,"text":"execute it again we should see just the answer"},{"start_time":1817840,"end_time":1822600,"duration":4760,"text":"no oh it's results."},{"start_time":1823760,"end_time":1830000,"duration":6240,"text":"messages dot content so results. messages there's the"},{"start_time":1830000,"end_time":1836679,"duration":6679,"text":"array we take the last one and we display the content if I run the"},{"start_time":1840399,"end_time":1845760,"duration":5361,"text":"file we see a simple answer like"},{"start_time":1846000,"end_time":1854120,"duration":8120,"text":"this perfect let me know what do you think we should do next do we connect"},{"start_time":1854120,"end_time":1859159,"duration":5039,"text":"this simple llm because at the moment this is a simple llm like like we called"},{"start_time":1859159,"end_time":1866039,"duration":6880,"text":"it agent and we used like an agent but this doesn't make it a true agent why"},{"start_time":1866039,"end_time":1874960,"duration":8921,"text":"because an agent needs a set of tools and the agent is going to receive"},{"start_time":1874960,"end_time":1880720,"duration":5760,"text":"an input for example a prompt and it's going to first create a plan for"},{"start_time":1880720,"end_time":1886480,"duration":5760,"text":"itself by calling different tools by govering different data it's going to"},{"start_time":1886480,"end_time":1892559,"duration":6079,"text":"create a plan and it will do that over and over again until the llm is happy"},{"start_time":1892559,"end_time":1898880,"duration":6321,"text":"and said said like okay this is answer this is a good answer and it's going to answer it"},{"start_time":1898880,"end_time":1904639,"duration":5759,"text":"so for that to happen it needs list access to tools we're going to do that"},{"start_time":1904639,"end_time":1909760,"duration":5121,"text":"later and one of the tools is going to be to retrieve information about like"},{"start_time":1909760,"end_time":1916399,"duration":6639,"text":"videos but for now our agent is a simple llm we can give it a question it will"},{"start_time":1916399,"end_time":1924880,"duration":8481,"text":"give us an answer using the cloud 3.7 from anthropic nothing too fancy now"},{"start_time":1924880,"end_time":1933760,"duration":8880,"text":"the question is do you want us to build first the rug system here in a server"},{"start_time":1933760,"end_time":1939120,"duration":5360,"text":"environment and test it with calling this function or do you want us to build"},{"start_time":1939120,"end_time":1945679,"duration":6559,"text":"the interface first and connect it with our server so we can interact from the"},{"start_time":1945679,"end_time":1949840,"duration":4161,"text":"from the client side from the interface"},{"start_time":1953080,"end_time":1959000,"duration":5920,"text":"what first maybe maybe maybe I know but let's see what do you"},{"start_time":1960840,"end_time":1963840,"duration":3000,"text":"think"},{"start_time":1970639,"end_time":1977638,"duration":6999,"text":"uh and by the way hello everyone who is joining us live how are you doing guys"},{"start_time":1981000,"end_time":1986080,"duration":5080,"text":"I'm using L chain in production want to try yam index I haven't tried yam index"},{"start_time":1986080,"end_time":1991159,"duration":5079,"text":"yet uh what's the benefit of uh of it over L chain or what's the"},{"start_time":1991159,"end_time":1997480,"duration":6321,"text":"difference I'm also learning a lot like about this AI lately and I'm so excited"},{"start_time":1997480,"end_time":2004279,"duration":6799,"text":"what what the possibilities are hello um Joshy hello roio hello"},{"start_time":2004279,"end_time":2010760,"duration":6481,"text":"blender music how are you guys uh Hey man you're doing a great job just"},{"start_time":2010760,"end_time":2017279,"duration":6519,"text":"finished your react na8 hour videos what a Content thank you so much thank you I appreciate"},{"start_time":2017279,"end_time":2024279,"duration":7000,"text":"it is it possible to persist data between each agent tool calls yes it's"},{"start_time":2024279,"end_time":2033000,"duration":8721,"text":"possible and uh between uh agent tool calls yes"},{"start_time":2034919,"end_time":2042480,"duration":7561,"text":"yes and we are going to do it we're going to persist the the history"},{"start_time":2042480,"end_time":2050560,"duration":8080,"text":"of the of the chat so that you you can ask ask followup"},{"start_time":2052359,"end_time":2060358,"duration":7999,"text":"questions okay let me see um so I think we go rag first I also"},{"start_time":2060359,"end_time":2065720,"duration":5361,"text":"believe so because rag is the topic the the Hye part of this video and I want to"},{"start_time":2065720,"end_time":2072919,"duration":7199,"text":"explain it well because client side um is just the interface so first we're"},{"start_time":2072919,"end_time":2080118,"duration":7199,"text":"going to interact it with this like this later we're going to put it into an API and connect it to the client side so"},{"start_time":2080119,"end_time":2086000,"duration":5881,"text":"we're going to do both of them but first let's go ahead and build the the"},{"start_time":2086000,"end_time":2088398,"duration":2398,"text":"rag"},{"start_time":2094520,"end_time":2102760,"duration":8240,"text":"system oky dokie so again"},{"start_time":2103839,"end_time":2109040,"duration":5201,"text":"um uh if you go into the where is"},{"start_time":2109040,"end_time":2115720,"duration":6680,"text":"it well first of all uh in our presentation if we look at the steps the"},{"start_time":2115720,"end_time":2122040,"duration":6320,"text":"first one is going to be loading again our plan for loading the data was to use"},{"start_time":2122040,"end_time":2127839,"duration":5799,"text":"bright data to scrape the transcript of YouTube videos from YouTube let's go"},{"start_time":2127839,"end_time":2134160,"duration":6321,"text":"ahead and manually do that together with PR data and uh get some very specific"},{"start_time":2134160,"end_time":2141839,"duration":7679,"text":"data of how this is going to look in the next step for that uh and by the way this part of the video of scraping is"},{"start_time":2141839,"end_time":2148119,"duration":6280,"text":"sponsoring by Bri data so thank you very much our partners from Bri data for um"},{"start_time":2148119,"end_time":2153200,"duration":5081,"text":"enabling us to build such amazing applications and to unlock any data on"},{"start_time":2153200,"end_time":2158960,"duration":5760,"text":"the web so go to follow the link in the description below or go to bata.com com"},{"start_time":2158960,"end_time":2166800,"duration":7840,"text":"uh and if you go to your dashboard we're going to use their web"},{"start_time":2166800,"end_time":2172960,"duration":6160,"text":"data U where is it the web"},{"start_time":2172960,"end_time":2178720,"duration":5760,"text":"scrapers so go ahead open web scrapers and if we go into the web scraper"},{"start_time":2178720,"end_time":2185599,"duration":6879,"text":"Library these are pre-built webs scrapers that give you access to data in"},{"start_time":2185599,"end_time":2192359,"duration":6760,"text":"a similar way as you would fetch an API but actually that data is uh scraped in"},{"start_time":2192359,"end_time":2197880,"duration":5521,"text":"real time from the websites in a very secure and scalable way so you can you"},{"start_time":2197880,"end_time":2205400,"duration":7520,"text":"can scale your project without any limitations there are a lot of sources data sources like"},{"start_time":2205400,"end_time":2213400,"duration":8000,"text":"LinkedIn Instagram Facebook uh and so on uh even like Ecommerce like from Amazon"},{"start_time":2213400,"end_time":2218960,"duration":5560,"text":"and so on what I'm interested in is YouTube data so so if I search Here"},{"start_time":2218960,"end_time":2224040,"duration":5080,"text":"YouTube we're going to see that there are actually eight scrapers for YouTube"},{"start_time":2224040,"end_time":2232000,"duration":7960,"text":"and the one that I need is uh video posts by URL so let's go ahead and click"},{"start_time":2232000,"end_time":2239800,"duration":7800,"text":"on video posts by URL there is also a link in our guide scraper API let's do"},{"start_time":2239800,"end_time":2246880,"duration":7080,"text":"next in the documentation of this API we say that we just give a YouTube url we can give also a country where to look"},{"start_time":2246880,"end_time":2252839,"duration":5959,"text":"from and in as a response we are going to get"},{"start_time":2252839,"end_time":2260520,"duration":7681,"text":"the data about that YouTube such as the title the video URL likes views date posted description"},{"start_time":2260520,"end_time":2268280,"duration":7760,"text":"and so on but what's cool is that we're also going to um scrape the transcript"},{"start_time":2268280,"end_time":2274119,"duration":5839,"text":"the transcript both in raw format like the whole transcript like this and also"},{"start_time":2274119,"end_time":2280119,"duration":6000,"text":"if you scroll down below the transcript formatted with a"},{"start_time":2280119,"end_time":2286040,"duration":5921,"text":"duration similar to how it appears on the video so we're going to use this"},{"start_time":2286040,"end_time":2292880,"duration":6840,"text":"transcript from Bri data in our system to provide information to our rag system"},{"start_time":2292880,"end_time":2298520,"duration":5640,"text":"to be able to answer questions about that video giving information to the llm"},{"start_time":2298520,"end_time":2303640,"duration":5120,"text":"like what's happening in that video let's go ahead in the API request"},{"start_time":2303640,"end_time":2309599,"duration":5959,"text":"Builder and see how we would interact with Bri data to give us this data for"},{"start_time":2309599,"end_time":2314640,"duration":5041,"text":"example we're going to give inputs and we can do batch request so we can do"},{"start_time":2314640,"end_time":2320359,"duration":5719,"text":"multiple inputs per request and here it's a simple URL of a"},{"start_time":2320359,"end_time":2325880,"duration":5521,"text":"YouTube video for example uh let me do"},{"start_time":2325880,"end_time":2334800,"duration":8920,"text":"two YouTube videos that I'm interested in I'm going to do one short one and one"},{"start_time":2334800,"end_time":2342640,"duration":7840,"text":"a bit bigger let's do where is"},{"start_time":2343359,"end_time":2349400,"duration":6041,"text":"it I'm going to do a short video to be able to to see like what's happening and"},{"start_time":2349400,"end_time":2356400,"duration":7000,"text":"later I'm going to also do a bigger one give me one second or maybe we should actually do my"},{"start_time":2356400,"end_time":2361800,"duration":5400,"text":"video like some some some of my videos yeah let's do"},{"start_time":2361800,"end_time":2368079,"duration":6279,"text":"that for example h"},{"start_time":2368079,"end_time":2372079,"duration":4000,"text":"which one I'm going to do a live"},{"start_time":2381000,"end_time":2386440,"duration":5440,"text":"stream that one is going to be like"},{"start_time":2386720,"end_time":2393040,"duration":6320,"text":"huge but maybe yeah we're we're going to test it with a huge video as well let me"},{"start_time":2393040,"end_time":2398480,"duration":5440,"text":"just grab for example"},{"start_time":2405640,"end_time":2412440,"duration":6800,"text":"this one so I'm going to give a 7 Minutes video from Formula 1 about"},{"start_time":2412440,"end_time":2418160,"duration":5720,"text":"today's Sprint col ification I haven't watched it yet because I'm preparing but I'm very"},{"start_time":2418160,"end_time":2424000,"duration":5840,"text":"interested I'm going to go into the Bri data API where it is here and the first"},{"start_time":2424000,"end_time":2430720,"duration":6720,"text":"input is going to be this one and the second one is going to be a longer video like a 4our videos from our Channel"},{"start_time":2430720,"end_time":2437040,"duration":6320,"text":"about building with react native and reanimated let's copy this URL as well send it as the second"},{"start_time":2437040,"end_time":2443079,"duration":6039,"text":"one and what do we see here are some configurations to include errors if they"},{"start_time":2443079,"end_time":2449119,"duration":6040,"text":"happen we can provide a URL where to send notifications and I'm going to exclude"},{"start_time":2449119,"end_time":2456240,"duration":7121,"text":"this delivery to external storages if I do that and copy this Cur"},{"start_time":2456240,"end_time":2466400,"duration":10160,"text":"command and go into a terminal and open it up like this and"},{"start_time":2466400,"end_time":2473720,"duration":7320,"text":"paste the command here also make sure to add the API token here from your account like go ahead and"},{"start_time":2473720,"end_time":2480760,"duration":7040,"text":"first create an API token and added here and it's going to automatically be added to the command what we're going to see"},{"start_time":2480760,"end_time":2486160,"duration":5400,"text":"back is a snapshot ID a snapshot ID basically means that a job for scraping"},{"start_time":2486160,"end_time":2492640,"duration":6480,"text":"the data started usually scraping data takes some time it's not instant because it has to"},{"start_time":2492640,"end_time":2498160,"duration":5520,"text":"actually simulate opening a browser and navigating to that page and interacting"},{"start_time":2498160,"end_time":2504800,"duration":6640,"text":"like a user would do so if we look in the logs here we see that a new job with"},{"start_time":2504800,"end_time":2510960,"duration":6160,"text":"this snapshot that we just copy from the console log we see it here what we can"},{"start_time":2510960,"end_time":2518119,"duration":7159,"text":"do is we can click download to Json and we're going to have a Json file"},{"start_time":2518119,"end_time":2525640,"duration":7521,"text":"let me take the Json file and bring it in our"},{"start_time":2525640,"end_time":2531318,"duration":5678,"text":"server as come"},{"start_time":2533000,"end_time":2538160,"duration":5160,"text":"on I'm going to bring it here and I'm going to call"},{"start_time":2538160,"end_time":2545640,"duration":7480,"text":"it data let's call itgs to easier import it"},{"start_time":2545640,"end_time":2552720,"duration":7080,"text":"I'm going to click save to format it and I'm going to add at the top export"},{"start_time":2552720,"end_time":2558480,"duration":5760,"text":"default so what we see inde the is an array with two objects the first one and"},{"start_time":2558480,"end_time":2565480,"duration":7000,"text":"then the second one we see that this is the title of the video Sprint"},{"start_time":2565480,"end_time":2574000,"duration":8520,"text":"qualifying we see this is the transcript and then we see if we scroll"},{"start_time":2574000,"end_time":2580200,"duration":6200,"text":"down through this transcript formatted we're going going to see the second video as"},{"start_time":2580200,"end_time":2587480,"duration":7280,"text":"well oh come on the second video is this"},{"start_time":2587480,"end_time":2594800,"duration":7320,"text":"one and the transcript is what'sapp not just developers so now that we have this data"},{"start_time":2594800,"end_time":2600160,"duration":5360,"text":"later we're going to automate how we uh start and how we get this data for now"},{"start_time":2600160,"end_time":2606160,"duration":6000,"text":"let's just import it from data.js let's import it in our agent GS and say hey"},{"start_time":2606160,"end_time":2612319,"duration":6159,"text":"import data from data GS and let's"},{"start_time":2612319,"end_time":2620920,"duration":8601,"text":"say video one equal to data at position zero or video yeah let's do video"},{"start_time":2620920,"end_time":2626240,"duration":5320,"text":"one because this is an array we're going to look at the first"},{"start_time":2626240,"end_time":2631559,"duration":5319,"text":"video Perfect here is the data The Next Step that we have to"},{"start_time":2631559,"end_time":2638720,"duration":7161,"text":"do is we loaded the data now we have to split it"},{"start_time":2640640,"end_time":2644359,"duration":3719,"text":"let me"},{"start_time":2650520,"end_time":2655640,"duration":5120,"text":"uh splitting we can do that in a"},{"start_time":2655640,"end_time":2661359,"duration":5719,"text":"very ourself by simply looking at the"},{"start_time":2661359,"end_time":2667400,"duration":6041,"text":"transcript of that video and splitting it into chunks of 1,000 characters"},{"start_time":2667400,"end_time":2672720,"duration":5320,"text":"however L chain provides some pre-build Splitters that are a little bit more"},{"start_time":2672720,"end_time":2679280,"duration":6560,"text":"sophisticated that is improving how this splitting Works to not lose some context"},{"start_time":2679280,"end_time":2686920,"duration":7640,"text":"one of these Splitters is called re recursive character text Splitter from"},{"start_time":2686920,"end_time":2694960,"duration":8040,"text":"length chain text is it at L chain"},{"start_time":2698599,"end_time":2701359,"duration":2760,"text":"isn't it like"},{"start_time":2707800,"end_time":2714800,"duration":7000,"text":"this uh like this and probably I need to install it right"},{"start_time":2714800,"end_time":2722640,"duration":7840,"text":"npm install yes let's install length chain SL text splitters"},{"start_time":2727200,"end_time":2733640,"duration":6440,"text":"so here we're going to do split the video into chunks for that"},{"start_time":2733640,"end_time":2741280,"duration":7640,"text":"we're going to have to define a splitter using new recursive character splitter and"},{"start_time":2741280,"end_time":2746559,"duration":5279,"text":"provide here some options as we can see the default ones that are recommended"},{"start_time":2746559,"end_time":2751960,"duration":5401,"text":"here for me is chunk size and chunk overlap so what does it mean chunk size"},{"start_time":2751960,"end_time":2757920,"duration":5960,"text":"means how large should the chunks of data be here we say it should be 1,000"},{"start_time":2757920,"end_time":2765200,"duration":7280,"text":"characters and chck overlap is going to Simply uh repeat the last 200 characters"},{"start_time":2765200,"end_time":2771599,"duration":6399,"text":"from this Chunk in the next one as well in this way if there is important"},{"start_time":2771599,"end_time":2778720,"duration":7121,"text":"context between these splits we're not going to lose it so even vaa is going to lead to a little bit more data because"},{"start_time":2778720,"end_time":2783760,"duration":5040,"text":"it repeats 200 characters at the beginning at end it's going to allow to"},{"start_time":2783760,"end_time":2788720,"duration":4960,"text":"give enough context and not lose it"},{"start_time":2791960,"end_time":2798720,"duration":6760,"text":"now um splitter like this at yeah uh is going to"},{"start_time":2798720,"end_time":2803800,"duration":5080,"text":"work oh wait splitter by calling split"},{"start_time":2803800,"end_time":2813240,"duration":9440,"text":"uh not text we can do split text as well yeah I think we can do split"},{"start_time":2813960,"end_time":2820880,"duration":6920,"text":"text but we should actually work a better way would be to work with"},{"start_time":2820880,"end_time":2828280,"duration":7400,"text":"documents um so we're going to call split documents for that we need to have a"},{"start_time":2828280,"end_time":2834040,"duration":5760,"text":"list of documents let's call them docs I'm going to Define them a little"},{"start_time":2834040,"end_time":2839800,"duration":5760,"text":"bit here to the top saying that the docs is going to be an"},{"start_time":2839800,"end_time":2846960,"duration":7160,"text":"array an array where we create one of these documents with our video one"},{"start_time":2846960,"end_time":2852720,"duration":5760,"text":"let's say that the document needs page content and the page content is what is"},{"start_time":2852720,"end_time":2858920,"duration":6200,"text":"inside that document inside that document we're going to use the video one. transcript which if we look into"},{"start_time":2858920,"end_time":2865920,"duration":7000,"text":"the data video one is this object and the transcript is this long"},{"start_time":2865920,"end_time":2870480,"duration":4560,"text":"text so this is going to be the page"},{"start_time":2874720,"end_time":2880079,"duration":5359,"text":"content the new document that document should be"},{"start_time":2880079,"end_time":2886280,"duration":6201,"text":"imported from L chain core documents now if we take the documents"},{"start_time":2886280,"end_time":2892359,"duration":6079,"text":"and split the documents here we have chunks let's see what are these chunks"},{"start_time":2892359,"end_time":2899318,"duration":6959,"text":"console.log chunks if I open it up and run"},{"start_time":2900319,"end_time":2905800,"duration":5481,"text":"the do node agent we're going to see what entropic key not found yeah because"},{"start_time":2905800,"end_time":2911720,"duration":5920,"text":"we need to do withv file so what we see here is"},{"start_time":2911720,"end_time":2919440,"duration":7720,"text":"that this chunks is an array with bunch of texts the first 1,000 characters then"},{"start_time":2919440,"end_time":2925200,"duration":5760,"text":"the next one and these all are documents documents documents documents if we look"},{"start_time":2925200,"end_time":2933240,"duration":8040,"text":"at the last part I'm going to even copy it and search for it we're going to see that it's both here and both here"},{"start_time":2933240,"end_time":2939839,"duration":6599,"text":"because the text overlaps and that works with v end as well if I'm going to copy"},{"start_time":2939839,"end_time":2946359,"duration":6520,"text":"it it's going to be both here and both here because the last part might be"},{"start_time":2946359,"end_time":2951760,"duration":5401,"text":"important information for this chunk but it also can be important information for for this"},{"start_time":2951760,"end_time":2957680,"duration":5920,"text":"chunk now we see that these uh documents also have this metadata this is a great"},{"start_time":2957680,"end_time":2963480,"duration":5800,"text":"place to write additional data about those documents so if I look into where"},{"start_time":2963480,"end_time":2969920,"duration":6440,"text":"we Define this document here we can def find the metadata here as well and one"},{"start_time":2969920,"end_time":2977559,"duration":7639,"text":"of the important metadata Parts here is what video is this content transcripts"},{"start_time":2977559,"end_time":2984319,"duration":6760,"text":"about because later we're going to have a lot of videos so we need to know like what where is it coming from we can call"},{"start_time":2984319,"end_time":2990799,"duration":6480,"text":"it video ID and say that the video ID is coming from video one. uh video ID"},{"start_time":2990799,"end_time":2998040,"duration":7241,"text":"because if we look into the data there is a video ID property here"},{"start_time":2998040,"end_time":3007040,"duration":9000,"text":"now if I will execute this one again we're going to see that in metadata we have video ID later we can also filter"},{"start_time":3007040,"end_time":3014240,"duration":7200,"text":"only the documents that are related to this video"},{"start_time":3017559,"end_time":3023079,"duration":5520,"text":"perfect so the splitting Parts is done the next step is"},{"start_time":3023079,"end_time":3030960,"duration":7881,"text":"embedding and embedding if we look into the length chain"},{"start_time":3030960,"end_time":3040119,"duration":9159,"text":"here um this is what L graph I'm going to"},{"start_time":3040119,"end_time":3043440,"duration":3321,"text":"find this"},{"start_time":3048599,"end_time":3054880,"duration":6281,"text":"one uh as you can see for the chat model basically the model that will generate"},{"start_time":3054880,"end_time":3062480,"duration":7600,"text":"text we can use these kind of available models uh grop open Ai entropic and so"},{"start_time":3062480,"end_time":3070440,"duration":7960,"text":"on and actually more but for the embedding we need to use a model that is"},{"start_time":3070440,"end_time":3077000,"duration":6560,"text":"specific for embeddings uh as I see entropic doesn't have an embedding model so that's why"},{"start_time":3077000,"end_time":3084480,"duration":7480,"text":"it's not here for that we can use open AI you can see that open AI"},{"start_time":3084799,"end_time":3092079,"duration":7280,"text":"embeddings you're going to see that that maybe on their site or the documentation is that they have this"},{"start_time":3092079,"end_time":3099400,"duration":7321,"text":"kind of models where you give as we input some text and it get back the"},{"start_time":3099400,"end_time":3105400,"duration":6000,"text":"embedding as an array of numbers the vector of that"},{"start_time":3105400,"end_time":3114000,"duration":8600,"text":"text so let's go ahead and say that we are going to use um open AI as our embedding model so"},{"start_time":3114000,"end_time":3122960,"duration":8960,"text":"let's go ahead and first install length chain - open AI in our application let's do make sure"},{"start_time":3122960,"end_time":3131119,"duration":8159,"text":"you are inside the server and install the open Ai and what we're going to need to do is"},{"start_time":3131119,"end_time":3138640,"duration":7521,"text":"we're going to import the first we need the open AI key inside"},{"start_time":3138640,"end_time":3144119,"duration":5479,"text":"ourv go ahead sign up for open AI get to a key"},{"start_time":3144119,"end_time":3151079,"duration":6960,"text":"and I'm going to get it here here let me do it like"},{"start_time":3151079,"end_time":3159720,"duration":8641,"text":"this and I added it to the EnV now we are ready to use open AI what"},{"start_time":3159720,"end_time":3168920,"duration":9200,"text":"we need is to import open AI embeddings in our agent open AI"},{"start_time":3168920,"end_time":3174760,"duration":5840,"text":"embeddings from L chain open AI after"},{"start_time":3174760,"end_time":3181119,"duration":6359,"text":"splitting what we are going to do let's do here embed"},{"start_time":3181640,"end_time":3189760,"duration":8120,"text":"chunks to embed chunks we need the embeddings using the new create"},{"start_time":3189760,"end_time":3194000,"duration":4240,"text":"or how is it open Ai"},{"start_time":3200799,"end_time":3208520,"duration":7721,"text":"embeddings and you can also specify the model here I'm pretty sure is like uh default"},{"start_time":3208520,"end_time":3215520,"duration":7000,"text":"one if you don't specify but know that you can specify what exact model we're going to use the embedding free large"},{"start_time":3215520,"end_time":3225160,"duration":9640,"text":"that is going to produce a specific like the model uh produces a specific amount of"},{"start_time":3225160,"end_time":3231960,"duration":6800,"text":"um the size of a vector so a large model not mistaken should be around I don't"},{"start_time":3231960,"end_time":3238078,"duration":6118,"text":"know 2,000 or something like that um"},{"start_time":3239760,"end_time":3245359,"duration":5599,"text":"dimensions of that Vector so the more Dimensions the more nuances it can"},{"start_time":3245359,"end_time":3253280,"duration":7921,"text":"detect in the text but at the same time it's more data"},{"start_time":3253280,"end_time":3259520,"duration":6240,"text":"to store larger it's more consuming okay so the thing is that now"},{"start_time":3259520,"end_time":3265680,"duration":6160,"text":"that we have this model that can generate embeddings we need a store"},{"start_time":3265680,"end_time":3272799,"duration":7119,"text":"somewhere to store that embedding that data with"},{"start_time":3272799,"end_time":3280839,"duration":8040,"text":"embeddings what we can do if we look in the documentation we need to pick a vector store we need a storage solution"},{"start_time":3280839,"end_time":3287200,"duration":6361,"text":"that can store these vectors not only they can store it but they can optimally"},{"start_time":3287200,"end_time":3292920,"duration":5720,"text":"query based on similarity I'm going to start with memory because this is going to be the"},{"start_time":3292920,"end_time":3300640,"duration":7720,"text":"easiest one it simply stores them in memory and to get started that's totally fine for us let's go ahead and import"},{"start_time":3300640,"end_time":3306640,"duration":6000,"text":"memory Vector store from Vector store memory at the"},{"start_time":3306640,"end_time":3311720,"duration":5080,"text":"top um and let's create the vector"},{"start_time":3311720,"end_time":3318960,"duration":7240,"text":"store where we have our embeddings so this is the vector store new memory"},{"start_time":3318960,"end_time":3322960,"duration":4000,"text":"Vector store and we send this embedding"},{"start_time":3324799,"end_time":3332400,"duration":7601,"text":"model finally finally what we need to do give me one"},{"start_time":3332400,"end_time":3335520,"duration":3120,"text":"second is"},{"start_time":3342200,"end_time":3350839,"duration":8639,"text":"to um Let me let me think like how to to introduce this one slowly"},{"start_time":3367599,"end_time":3373559,"duration":5960,"text":"okay so what we need to do is say hey await Vector store add documents and"},{"start_time":3373559,"end_time":3383000,"duration":9441,"text":"we're going to add the chunks that we generated here as simple as that"},{"start_time":3387119,"end_time":3394000,"duration":6881,"text":"um how to visualize it that's another question because yeah let's try right"},{"start_time":3394000,"end_time":3399039,"duration":5039,"text":"now like vector"},{"start_time":3401680,"end_time":3410440,"duration":8760,"text":"store let's try to Simply run our project with no DMV file we see a"},{"start_time":3410960,"end_time":3417880,"duration":6920,"text":"problem package Json reader cannot find L chain input"},{"start_time":3417880,"end_time":3424319,"duration":6439,"text":"imported I think uh we also need to install length chain like this without"},{"start_time":3424319,"end_time":3429200,"duration":4881,"text":"ad npmi length"},{"start_time":3432760,"end_time":3440079,"duration":7319,"text":"chain okay perfect let's now try to invoke the agent"},{"start_time":3440079,"end_time":3446200,"duration":6121,"text":"again and we don't see any errors that means that everything went fine uh which"},{"start_time":3446200,"end_time":3452480,"duration":6280,"text":"chunks should be should have been embedded and wrote to the database"},{"start_time":3452480,"end_time":3457640,"duration":5160,"text":"but we do not have like we do not see it like how can we visualize what's"},{"start_time":3457640,"end_time":3463440,"duration":5800,"text":"happening there well that's because we have simply done"},{"start_time":3463440,"end_time":3472480,"duration":9040,"text":"the first step of indexing loading the data splitting generating embeddings and storing the data the next part is the"},{"start_time":3472480,"end_time":3480640,"duration":8160,"text":"retrieving and generating let's go ahead and see how we can retrieve documents from our database"},{"start_time":3480640,"end_time":3486839,"duration":6199,"text":"that are similar to a question to do that let's go ahead and say"},{"start_time":3486839,"end_time":3494960,"duration":8121,"text":"here uh retrieve the most relevant"},{"start_time":3502039,"end_time":3509119,"duration":7080,"text":"chunks so what we are going to do is we're going to say a docs equal a wait"},{"start_time":3509119,"end_time":3515400,"duration":6281,"text":"Vector store we're going to work with this Vector store we're going to do a similarity"},{"start_time":3515400,"end_time":3521799,"duration":6399,"text":"search a similarity search uh because we index the table"},{"start_time":3521799,"end_time":3529960,"duration":8161,"text":"the the data from qualifying let's"},{"start_time":3533240,"end_time":3539760,"duration":6520,"text":"do what season is this Sprint"},{"start_time":3539760,"end_time":3547480,"duration":7720,"text":"in I'm going to ask send a question"},{"start_time":3547480,"end_time":3553160,"duration":5680,"text":"relative similar to the context of a video and I'm going to do a similarity"},{"start_time":3553160,"end_time":3559440,"duration":6280,"text":"search meaning that I'm going to find the chunks that are more similar to this"},{"start_time":3559440,"end_time":3567000,"duration":7560,"text":"question so let's see what is going to be the answer uh dogs we already have it right"},{"start_time":3567000,"end_time":3572920,"duration":5920,"text":"so retrieved docs let's do it like this and we say"},{"start_time":3572920,"end_time":3579920,"duration":7000,"text":"give me five docs if I run the agent"},{"start_time":3579920,"end_time":3586160,"duration":6240,"text":"again what we're going to see"},{"start_time":3586160,"end_time":3593039,"duration":6879,"text":"is the"},{"start_time":3593599,"end_time":3598680,"duration":5081,"text":"documents where at the top is the most most similar one I was expecting to see"},{"start_time":3598680,"end_time":3607160,"duration":8480,"text":"also the actual similarity because here how do I prove you that it's"},{"start_time":3607160,"end_time":3611000,"duration":3840,"text":"working what if"},{"start_time":3619480,"end_time":3624599,"duration":5119,"text":"I something from the end"},{"start_time":3628270,"end_time":3631400,"duration":3130,"text":"[Music]"},{"start_time":3637359,"end_time":3645240,"duration":7881,"text":"what was the finish time of"},{"start_time":3645839,"end_time":3653480,"duration":7641,"text":"Norris uh and I'm going to select one and before that I'm going to console"},{"start_time":3653480,"end_time":3662038,"duration":8558,"text":"log the chunks and here I'm going to console log this one but I'm also going to have"},{"start_time":3663520,"end_time":3669039,"duration":5519,"text":"like so that we see let's go ahead and try to run it"},{"start_time":3669039,"end_time":3675480,"duration":6441,"text":"again initially the documents are in chronological order from the"},{"start_time":3675480,"end_time":3681039,"duration":5559,"text":"beginning uh the first one is personal best through the sector and so"},{"start_time":3681039,"end_time":3687720,"duration":6681,"text":"one and at the end we do a similarity search for for the question what is the"},{"start_time":3687720,"end_time":3693240,"duration":5520,"text":"Norris end time and we see that here it's the document that is most related"},{"start_time":3693240,"end_time":3699960,"duration":6720,"text":"to the the the finish time of Norris so we can use this text to try to answer"},{"start_time":3699960,"end_time":3704920,"duration":4960,"text":"that question by move putting it through an"},{"start_time":3705400,"end_time":3710559,"duration":5159,"text":"llm uh again this is the similarity search uh let me see if I can actually"},{"start_time":3710559,"end_time":3716599,"duration":6040,"text":"get query filter call backs"},{"start_time":3726279,"end_time":3735079,"duration":8800,"text":"yeah it doesn't give us the exact like uh similarity value but that's good it at least does"},{"start_time":3735079,"end_time":3738839,"duration":3760,"text":"the similarity search"},{"start_time":3747599,"end_time":3753920,"duration":6321,"text":"so what can we do here now that we"},{"start_time":3753920,"end_time":3762520,"duration":8600,"text":"can having a query a question if we can find similar part similar"},{"start_time":3762520,"end_time":3769960,"duration":7440,"text":"transcripts from the video we can use them put them through uh the llm here in"},{"start_time":3769960,"end_time":3775880,"duration":5920,"text":"the agent so that it's going to use it to create the answer for example if my"},{"start_time":3775880,"end_time":3780920,"duration":5040,"text":"my question here is going to be what was the finished time of"},{"start_time":3780920,"end_time":3787079,"duration":6159,"text":"Norris it's not going to be able to to give me a proper result uh"},{"start_time":3787079,"end_time":3795799,"duration":8720,"text":"answer because this llm the agent does not yet have access to our Vector"},{"start_time":3796039,"end_time":3801640,"duration":5601,"text":"database or not provide the information I have"},{"start_time":3807359,"end_time":3812480,"duration":5121,"text":"so let's go ahead and build a tool that"},{"start_time":3812480,"end_time":3819680,"duration":7200,"text":"can use the vector store to retrieve the right information building a tool is also"},{"start_time":3819680,"end_time":3824720,"duration":5040,"text":"greatly documented and explained in our previous tutorial build and deploy your"},{"start_time":3824720,"end_time":3830440,"duration":5720,"text":"first AI agent with langra"},{"start_time":3830760,"end_time":3837240,"duration":6480,"text":"um yeah this is the tool so what we need to do is import this"},{"start_time":3837240,"end_time":3844599,"duration":7359,"text":"tool at the top let's import the tool and we are going to create"},{"start_time":3844839,"end_time":3851039,"duration":6200,"text":"it maybe here"},{"start_time":3851039,"end_time":3858440,"duration":7401,"text":"retrieval tool const retrieve tool is equal to"},{"start_time":3858440,"end_time":3864440,"duration":6000,"text":"Tool and we create it like this we're going to have an"},{"start_time":3864440,"end_time":3872279,"duration":7839,"text":"async and it should return something a tool has two two parameters the first"},{"start_time":3872279,"end_time":3877720,"duration":5441,"text":"one is the actual function that is going to run the second one is going to be"},{"start_time":3877720,"end_time":3883839,"duration":6119,"text":"some metadata about the to Tool let's call give it a name retrieve and we need"},{"start_time":3883839,"end_time":3890760,"duration":6921,"text":"to also give it a description description is very important because that's how the llm will know what is"},{"start_time":3890760,"end_time":3898000,"duration":7240,"text":"this tool supposed to do and when should it be used uh here retrieve most relevant uh"},{"start_time":3898000,"end_time":3903119,"duration":5119,"text":"relevant chunks of text from the"},{"start_time":3903119,"end_time":3909279,"duration":6160,"text":"transcript of a YouTube video something like"},{"start_time":3909279,"end_time":3915079,"duration":5800,"text":"that it's also important to provide here a schema a"},{"start_time":3915079,"end_time":3921319,"duration":6240,"text":"schema we are going to Define it with Zod so let's go at the top and import Z"},{"start_time":3921319,"end_time":3929480,"duration":8161,"text":"from Zod and Zod is a tool that can create help us create schemas of how object"},{"start_time":3929480,"end_time":3935240,"duration":5760,"text":"should look like and a tool needs a schema so that the llm knows what inputs"},{"start_time":3935240,"end_time":3941079,"duration":5839,"text":"what data to send there let's say that the schema is going to be an"},{"start_time":3941160,"end_time":3948920,"duration":7760,"text":"object and there will be a query and the query is going to be a"},{"start_time":3948920,"end_time":3956200,"duration":7280,"text":"string this query now that we added it here is going to be accessible through the tool execution function so we can"},{"start_time":3956200,"end_time":3962119,"duration":5919,"text":"have query and here we can say hey console"},{"start_time":3962119,"end_time":3968880,"duration":6761,"text":"console oh come on console.log retrieve dogs for the query"},{"start_time":3968880,"end_time":3976520,"duration":7640,"text":"console log query I'm not going to do a similarity search yet let's just return"},{"start_time":3976520,"end_time":3982000,"duration":5480,"text":"an empty string noris was"},{"start_time":3982000,"end_time":3990079,"duration":8079,"text":"first finishing in uh 33 seconds which is impossible but"},{"start_time":3990079,"end_time":3997440,"duration":7361,"text":"it's a way for us to test if this tool was invoked or not now if we take this tool and we give"},{"start_time":3997440,"end_time":4004680,"duration":7240,"text":"it to our agent inside the tools here the agent will know that hey I have"},{"start_time":4004680,"end_time":4011359,"duration":6679,"text":"a tool that has this description it can retrieve the most relevant chunks of text from the video transcript it will"},{"start_time":4011359,"end_time":4017640,"duration":6281,"text":"say that it's a question that might benefit from this information it's going"},{"start_time":4017640,"end_time":4024039,"duration":6399,"text":"to look at the schema and it's going to create a query and it's going to call this tool then is going to get back"},{"start_time":4024039,"end_time":4033440,"duration":9401,"text":"result and we'll analyze and see what to do next let's go ahead and see what actually is happening now I'm going to"},{"start_time":4033440,"end_time":4038680,"duration":5240,"text":"maybe comment out the logs that we did"},{"start_time":4038799,"end_time":4045359,"duration":6560,"text":"before and I'm going to invoke our agent"},{"start_time":4048160,"end_time":4050558,"duration":2398,"text":"that was"},{"start_time":4054319,"end_time":4062160,"duration":7841,"text":"bad so what do we see based on the transcript information I found noris finished in 33 seconds and was first"},{"start_time":4062160,"end_time":4069599,"duration":7439,"text":"place that's exactly what we kind of said like it's not the right information"},{"start_time":4069599,"end_time":4075799,"duration":6200,"text":"but where is it our question to our agent was what"},{"start_time":4075799,"end_time":4082160,"duration":6361,"text":"was the finish time of Norris you see this is what we are"},{"start_time":4082160,"end_time":4089279,"duration":7119,"text":"asking then LM analyze this question and is invoking the retrieve tool and in the"},{"start_time":4089279,"end_time":4096520,"duration":7241,"text":"retrieve tool we are doing here console log query the query is already different because the llm was smart enough to"},{"start_time":4096520,"end_time":4102600,"duration":6080,"text":"change it in a way to get the data that it needs so it simply changed it to noris finished"},{"start_time":4102600,"end_time":4109719,"duration":7119,"text":"time that's what an agent that's how an agent improves a rag"},{"start_time":4109719,"end_time":4114758,"duration":5039,"text":"system because the question is can you build an rag system without an agent"},{"start_time":4114759,"end_time":4119880,"duration":5121,"text":"invance is totally yes you can build a normal"},{"start_time":4119880,"end_time":4128000,"duration":8120,"text":"um uh flow AI flow for an Rec system without this agent inside it's simply"},{"start_time":4128000,"end_time":4134960,"duration":6960,"text":"doing it step by step in a sequence first get data when generate embeddings then get similarities then create the"},{"start_time":4134960,"end_time":4143120,"duration":8160,"text":"prompt and then send it to the llm a lot of things can be done manually and in sequence but having an llm here we see"},{"start_time":4143120,"end_time":4148758,"duration":5638,"text":"the first benefit is that the question that we ask is going to"},{"start_time":4148759,"end_time":4154400,"duration":5641,"text":"actually be transformed to something that is going to make a lot more sense for the AI to get the"},{"start_time":4154400,"end_time":4160278,"duration":5878,"text":"data and we see that we faked some data here so in the retrieval tool we just"},{"start_time":4160279,"end_time":4167758,"duration":7479,"text":"said no resource first and finish in 33 seconds and then having this information llm generated the final answer that we"},{"start_time":4167759,"end_time":4173560,"duration":5801,"text":"see here in their response perfect but let's go ahead and"},{"start_time":4173560,"end_time":4180920,"duration":7360,"text":"having this query let's do this retrieval of docs because we have a query we have a"},{"start_time":4180920,"end_time":4191278,"duration":10358,"text":"vector store we can use the query inside a similarity search"},{"start_time":4191279,"end_time":4200000,"duration":8721,"text":"we can search how many chunks are do you think would be Rel let's do three chunks maybe it's going"},{"start_time":4200000,"end_time":4205480,"duration":5480,"text":"to to be in three different places at the same time the llm can call this over"},{"start_time":4205480,"end_time":4211760,"duration":6280,"text":"and over again for to get all the response so F3 or maybe F5 probably is"},{"start_time":4211760,"end_time":4217719,"duration":5959,"text":"going to be enough so now that we retrieve the docks"},{"start_time":4227840,"end_time":4234920,"duration":7080,"text":"um let's put the them in a Ser alized"},{"start_time":4234920,"end_time":4242400,"duration":7480,"text":"dogs meaning let's merge them together and what I'm going to do is I'm going to"},{"start_time":4242400,"end_time":4249120,"duration":6720,"text":"do retrieve dock so for every doc"},{"start_time":4249120,"end_time":4253120,"duration":4000,"text":"let's return"},{"start_time":4258840,"end_time":4267520,"duration":8680,"text":"I don't know content doc. page"},{"start_time":4270040,"end_time":4276560,"duration":6520,"text":"content do Doc Page content and at the end I'm going to put up dashn to say"},{"start_time":4276560,"end_time":4281239,"duration":4679,"text":"that it's the end"},{"start_time":4290600,"end_time":4297920,"duration":7320,"text":"or maybe I'll simply do let's let's simplify it so I'm going to map for the documents"},{"start_time":4297920,"end_time":4304159,"duration":6239,"text":"I'm going to leave an array of Simply the content and I'm going to do a DOT"},{"start_time":4304159,"end_time":4309760,"duration":5601,"text":"join with a dashn basically what I'm doing here is"},{"start_time":4309760,"end_time":4315760,"duration":6000,"text":"I'm taking five or three docs that we get and put them in one single text"},{"start_time":4315760,"end_time":4323480,"duration":7720,"text":"and I can take the serialized docs and return it here uh to back to the llm now if I'm"},{"start_time":4323480,"end_time":4328800,"duration":5320,"text":"going to go ahead and execute the same query again it's supposed to base its"},{"start_time":4328800,"end_time":4336760,"duration":7960,"text":"answer from the transcript that we actually fetched so this is the query that our"},{"start_time":4336760,"end_time":4344120,"duration":7360,"text":"tool received and we see based on the information retrieve from the video transcript L is finish in six position"},{"start_time":4344120,"end_time":4350800,"duration":6680,"text":"in what appears to be a Sprint qualifying session the transcript mentions Hamilton versus upb cler"},{"start_time":4350800,"end_time":4356600,"duration":5800,"text":"Russell Norris in six we listening the order of drivers so you see it generated"},{"start_time":4356600,"end_time":4365800,"duration":9200,"text":"an answer based on the transcript so that's in a way our whole rag AI agent"},{"start_time":4365800,"end_time":4372280,"duration":6480,"text":"complete uh if we look at this we started with indexing first and now we"},{"start_time":4372280,"end_time":4377520,"duration":5240,"text":"have this retrieval and generation having a question from a"},{"start_time":4377520,"end_time":4383080,"duration":5560,"text":"user we provide a tool that can retrieve relevant information from"},{"start_time":4383080,"end_time":4389400,"duration":6320,"text":"transcripts from our Vector database and then using an llm like entropic we are"},{"start_time":4389400,"end_time":4397080,"duration":7680,"text":"generating the answer here perfect"},{"start_time":4401000,"end_time":4407719,"duration":6719,"text":"now let me go ahead um and initialize a"},{"start_time":4407719,"end_time":4416480,"duration":8761,"text":"git so you're going to have access because this is the base but we are just getting started guys let's do get add"},{"start_time":4416480,"end_time":4425360,"duration":8880,"text":"git commit uh basic AI agent with"},{"start_time":4433239,"end_time":4440360,"duration":7121,"text":"rag um what's"},{"start_time":4443679,"end_time":4450320,"duration":6641,"text":"happening let me check the the live chat if you have any questions feel free to to ask them I'm going to stop from time"},{"start_time":4450320,"end_time":4454440,"duration":4120,"text":"to time to answer"},{"start_time":4456880,"end_time":4462560,"duration":5680,"text":"them I'm already building a project like this amazing I had not started to do the"},{"start_time":4462560,"end_time":4467679,"duration":5119,"text":"video file pipeline yet so this is perfect this is a video file uh we are"},{"start_time":4467679,"end_time":4473600,"duration":5921,"text":"not working with video files we're working with transcripts of the"},{"start_time":4476000,"end_time":4483560,"duration":7560,"text":"videos Sprint but you said spring not sure"},{"start_time":4483560,"end_time":4489480,"duration":5920,"text":"when oh it uses transcript that's how my project currently works yeah perfect"},{"start_time":4489480,"end_time":4495920,"duration":6440,"text":"what is rag rag as I was explaining earlier is"},{"start_time":4495920,"end_time":4503360,"duration":7440,"text":"so we have an llm an llm is great at generating text that's how it answers"},{"start_time":4503360,"end_time":4510840,"duration":7480,"text":"questions you give it some text which can be a question and it tries to predict what should be the next part of"},{"start_time":4510840,"end_time":4516719,"duration":5879,"text":"a text meaning an answer it's very good at understanding language and at"},{"start_time":4516719,"end_time":4523840,"duration":7121,"text":"predicting what comes next and it's very good at general information but it's not very good at very specific information"},{"start_time":4523840,"end_time":4529880,"duration":6040,"text":"that either my not be public or it can be information that is super up to date"},{"start_time":4529880,"end_time":4535800,"duration":5920,"text":"like what is today's we in AI llm will not have that"},{"start_time":4535800,"end_time":4545679,"duration":9879,"text":"information so what we are doing is we are giving AI access to a data source"},{"start_time":4545679,"end_time":4552600,"duration":6921,"text":"that we can uh index on the similarity based on"},{"start_time":4552600,"end_time":4559120,"duration":6520,"text":"a search term for example you have a documentation"},{"start_time":4559120,"end_time":4567960,"duration":8840,"text":"website and you want to build a chatbot that users can write how to initialize a new project the chatbot will first look"},{"start_time":4567960,"end_time":4574280,"duration":6320,"text":"through all the the documentation pages and will find the documentation pages"},{"start_time":4574280,"end_time":4581000,"duration":6720,"text":"that are more relevant to the question how to initialize a project it might find two to three very relevant"},{"start_time":4581000,"end_time":4587800,"duration":6800,"text":"documentations it's going to use the information from V it's going to put it through the llm back saying hey this is"},{"start_time":4587800,"end_time":4593560,"duration":5760,"text":"what user is asking this is what documentations we have provide an answer"},{"start_time":4593560,"end_time":4599520,"duration":5960,"text":"to that question so this part of injecting this data retrieving the data"},{"start_time":4599520,"end_time":4607600,"duration":8080,"text":"is the what makes it a rag system and allows it to be powerful in"},{"start_time":4607600,"end_time":4612920,"duration":5320,"text":"order to know like more data more relevant data that you that you might"},{"start_time":4612920,"end_time":4616840,"duration":3920,"text":"need for specific use cases"},{"start_time":4619600,"end_time":4625480,"duration":5880,"text":"so llm we access to additional data"},{"start_time":4649159,"end_time":4657120,"duration":7961,"text":"have you figure out how to prompt cash how to prompt cash with transcripts"},{"start_time":4657120,"end_time":4662880,"duration":5760,"text":"in this setup what do you mean by that prompt prompt C"},{"start_time":4663320,"end_time":4671560,"duration":8240,"text":"cash let me know okay so we have our agent that"},{"start_time":4671560,"end_time":4681120,"duration":9560,"text":"where is it at current is doing a lot of stuff it's loading data from from our"},{"start_time":4681120,"end_time":4686960,"duration":5840,"text":"dam data there it's splitting it it's uh"},{"start_time":4686960,"end_time":4693440,"duration":6480,"text":"adding it to a vector database by embedding so a lot of things are happening here behind the scene behind"},{"start_time":4693440,"end_time":4701520,"duration":8080,"text":"this line documents it's not simply inserting it to the database but it's first generating these embeddings using"},{"start_time":4701520,"end_time":4708760,"duration":7240,"text":"the open AI model uh because having them inside a vector"},{"start_time":4708760,"end_time":4715600,"duration":6840,"text":"store we can later retrieve them based on a similarity search basically hey"},{"start_time":4715600,"end_time":4724198,"duration":8598,"text":"having this text what is the most similar document for for for that text and similar in in terms of"},{"start_time":4724560,"end_time":4732080,"duration":7520,"text":"context so we build a tool and we build an agent we give that agent V tool that"},{"start_time":4732080,"end_time":4737520,"duration":5440,"text":"can retrieve documents perfect in The Next Step we're going to clean it"},{"start_time":4737520,"end_time":4745320,"duration":7800,"text":"up a bit and start thinking about like how to move it closer to a production R application and system that that can run"},{"start_time":4745320,"end_time":4750480,"duration":5160,"text":"on autopilot with multiple um with multiple videos with a"},{"start_time":4750480,"end_time":4756040,"duration":5560,"text":"proper database because right now we are using the memory Vector store in memory"},{"start_time":4756040,"end_time":4762960,"duration":6920,"text":"Vector store storing this data in memory and as soon as I stop the the server"},{"start_time":4762960,"end_time":4769800,"duration":6840,"text":"it's lost so for AI there is prom caching where"},{"start_time":4769800,"end_time":4775080,"duration":5280,"text":"the llm will cache your input so it can be can be reused so like with Claude"},{"start_time":4775080,"end_time":4781000,"duration":5920,"text":"your cached input is like if the input is $1 the cached input will"},{"start_time":4781000,"end_time":4790480,"duration":9480,"text":"be 115 but then you send the same thing again into cash so the input is like 20"},{"start_time":4792920,"end_time":4801719,"duration":8799,"text":"cents yeah not sure not sure how this is going to work here I would have to look into"},{"start_time":4810760,"end_time":4816360,"duration":5600,"text":"that okayy dokie okay"},{"start_time":4838360,"end_time":4844120,"duration":5760,"text":"uh one second guys let me think about something"},{"start_time":4872159,"end_time":4877320,"duration":5161,"text":"um next let me show you a small problem and fix it together with you for example"},{"start_time":4877320,"end_time":4882560,"duration":5240,"text":"we are asking the first question let's do it like this uh"},{"start_time":4882560,"end_time":4890440,"duration":7880,"text":"console log q1 is going to be this one and what if"},{"start_time":4890440,"end_time":4896840,"duration":6400,"text":"we go ahead and ask the question two which is going to"},{"start_time":4896840,"end_time":4902760,"duration":5920,"text":"be what is the finish time of very stop and I don't know finish"},{"start_time":4902760,"end_time":4912120,"duration":9360,"text":"time or position or no let's do it in another way let's do what about ver"},{"start_time":4912120,"end_time":4920560,"duration":8440,"text":"stopen and here what was the uh finish"},{"start_time":4920760,"end_time":4926480,"duration":5720,"text":"position and time what I'm trying to do here and let's do results two and here"},{"start_time":4926480,"end_time":4932800,"duration":6320,"text":"results two is I'm trying to simulate asking a follow-up question a followup"},{"start_time":4932800,"end_time":4941880,"duration":9080,"text":"question might not have all the context I mean a good chat AI agent will REM"},{"start_time":4941880,"end_time":4948000,"duration":6120,"text":"will understand that a question like this what about stopen is not"},{"start_time":4948000,"end_time":4955920,"duration":7920,"text":"is is connected with a previous question so it should be something like finish position over stoen in order for that to"},{"start_time":4955920,"end_time":4961159,"duration":5239,"text":"happen our agent should have short-term memory knowing uh or actually long-term"},{"start_time":4961159,"end_time":4967920,"duration":6761,"text":"memory uh having context about like previous messages in the Fred because if"},{"start_time":4967920,"end_time":4976440,"duration":8520,"text":"I do that right now if I'm not mistaken uh let me do CD ser"},{"start_time":4978639,"end_time":4984360,"duration":5721,"text":"server let's do node and invoke it it should answer"},{"start_time":4984360,"end_time":4990400,"duration":6040,"text":"correctly the first the question one what is the finished"},{"start_time":4997320,"end_time":5003639,"duration":6319,"text":"position it failed to actually invoke the tool there"},{"start_time":5009440,"end_time":5014800,"duration":5360,"text":"and in the cute question two about your stomping why did it ask about Norris"},{"start_time":5014800,"end_time":5017119,"duration":2319,"text":"wait a"},{"start_time":5028800,"end_time":5036320,"duration":7520,"text":"second that's a bit weird because when I asked about ver St and it started doing about noris"},{"start_time":5036320,"end_time":5043000,"duration":6680,"text":"uh oh oh oh oh oh oh oh because I'm stupid let's do what about we're"},{"start_time":5043000,"end_time":5048880,"duration":5880,"text":"stopping here I left literally the same"},{"start_time":5050679,"end_time":5056440,"duration":5761,"text":"question based on video"},{"start_time":5058800,"end_time":5063360,"duration":4560,"text":"transcript let's try again"},{"start_time":5068560,"end_time":5075920,"duration":7360,"text":"so for this question it invokes the tool it asks for noris finish"},{"start_time":5078119,"end_time":5083960,"duration":5841,"text":"time it doesn't like the response it invokes it again nor is final time"},{"start_time":5083960,"end_time":5089280,"duration":5320,"text":"position oh no no no it understand that it this question finish position and"},{"start_time":5089280,"end_time":5094440,"duration":5160,"text":"time it split automatically in two requests one is noris finish time and"},{"start_time":5094440,"end_time":5099639,"duration":5199,"text":"another one noris final time position result amazing and"},{"start_time":5099639,"end_time":5108719,"duration":9080,"text":"then by invoking by by retrieving two sets of data it was able to say"},{"start_time":5108719,"end_time":5114520,"duration":5801,"text":"that yeah there is no specific time there in numerical"},{"start_time":5118440,"end_time":5125040,"duration":6600,"text":"format and here what about verstappen and what it says I'd be happy to help you find information about m versten"},{"start_time":5125040,"end_time":5130800,"duration":5760,"text":"however I need to search for YouTube video transfer for could you please clarify what specific aspect about ma"},{"start_time":5130800,"end_time":5135840,"duration":5040,"text":"Sten you're interested in so here we understand that when we asked second"},{"start_time":5135840,"end_time":5142080,"duration":6240,"text":"time a follow-up question what about resten it did not connect it with a first question and he did not understand"},{"start_time":5142080,"end_time":5147400,"duration":5320,"text":"that we mean like finish position in time it's not clear here it's for us"},{"start_time":5147400,"end_time":5154679,"duration":7279,"text":"it's clear that the AI doesn't connect the two questions together that it's the same interaction for that to happen we"},{"start_time":5154679,"end_time":5160320,"duration":5641,"text":"need to provide here to the agent a long-term memory a"},{"start_time":5160320,"end_time":5169000,"duration":8680,"text":"checkpoint so again in the previous tutorial I have here adding memory to our agent and we can do that by"},{"start_time":5169000,"end_time":5174320,"duration":5320,"text":"importing memory from linkchain L graph at the"},{"start_time":5176440,"end_time":5185520,"duration":9080,"text":"top and somewhere here where we create the agent we can say a memory saver and"},{"start_time":5185520,"end_time":5194360,"duration":8840,"text":"we're going to give it here as if I'm not mistaken is check pointer memory saver check"},{"start_time":5194679,"end_time":5203560,"duration":8881,"text":"pointer memory saver or if you want to save on some characters you can call it here"},{"start_time":5203560,"end_time":5209639,"duration":6079,"text":"checkpoint and remove a duplicated because it's the same name now because"},{"start_time":5209639,"end_time":5215560,"duration":5921,"text":"it has a checkpoint we are not going to be able to invoke it like this and if we do if I'm not mistaken we're going to"},{"start_time":5215560,"end_time":5221639,"duration":6079,"text":"have an error saying that now you have a checkpoint we need to provide them um a"},{"start_time":5221639,"end_time":5228040,"duration":6401,"text":"configuration with a Fred ID so using a Fred ID we're going to know like what"},{"start_time":5228040,"end_time":5235360,"duration":7320,"text":"other previous messages to connect it with and that is going to happen when we call agent."},{"start_time":5235360,"end_time":5241840,"duration":6480,"text":"invoke uh after the whole invocation we"},{"start_time":5241840,"end_time":5250360,"duration":8520,"text":"are going to have here a conf configurable options with configurable and here we're going to have Fred ID"},{"start_time":5250360,"end_time":5256360,"duration":6000,"text":"let's say like I don't know Fred number one I'm going to take this options and"},{"start_time":5256360,"end_time":5261480,"duration":5120,"text":"I'm going to add it to the second invocation as well that way connecting"},{"start_time":5261480,"end_time":5269639,"duration":8159,"text":"them together and pay attention where I am adding them this is actually after the object that has a messages it's not"},{"start_time":5269639,"end_time":5276159,"duration":6520,"text":"besides it so it's two different objects now if I'm going to send the same"},{"start_time":5276159,"end_time":5281520,"duration":5361,"text":"request here what I expect is that the second question will understand that"},{"start_time":5281520,"end_time":5288080,"duration":6560,"text":"it's a follow up for the first one so it will understand that I'm asking about finish time and position for where"},{"start_time":5288080,"end_time":5293880,"duration":5800,"text":"stoping and we see that indeed it understood so it's doing a search query"},{"start_time":5293880,"end_time":5298760,"duration":4880,"text":"in our tool forward stop and finish time and position"},{"start_time":5299040,"end_time":5306560,"duration":7520,"text":"results uh finished second place right behind Lou Hamilton amazing so that's uh"},{"start_time":5306560,"end_time":5313719,"duration":7159,"text":"not amazing that he finished second uh not a big fan but amazing that it's working so just by simply adding this"},{"start_time":5313719,"end_time":5319800,"duration":6081,"text":"checkpoint that's what we managed to do adding like more configuration"},{"start_time":5320480,"end_time":5323480,"duration":3000,"text":"here"},{"start_time":5325520,"end_time":5332320,"duration":6800,"text":"um another thing that we can do here uh when we invoke in the"},{"start_time":5332320,"end_time":5338800,"duration":6480,"text":"configurable we can send more metadata things like let's say the video"},{"start_time":5338800,"end_time":5346639,"duration":7839,"text":"ID that we are querying for video uncore ID is going to be equal to let's go into"},{"start_time":5346639,"end_time":5354520,"duration":7881,"text":"the data and say that we are working with with this video ID the first one"},{"start_time":5354520,"end_time":5360159,"duration":5639,"text":"Sprint qualifying we can take this video ID and in the configure we say that in this"},{"start_time":5360159,"end_time":5367520,"duration":7361,"text":"thread hey we are talking about this video again it depends on how you want to uh architect the the experience but"},{"start_time":5367520,"end_time":5372679,"duration":5159,"text":"if you want one thread to be specific to one video that would be a good"},{"start_time":5372679,"end_time":5379880,"duration":7201,"text":"configuration later we can think about like how maybe we can send a channel ID here or we can let the AI agent"},{"start_time":5379880,"end_time":5385280,"duration":5400,"text":"understand magically how what video we are talking about but this is a good way"},{"start_time":5385280,"end_time":5391040,"duration":5760,"text":"to send data so I'm going to send it through configurable here I will remove a second one"},{"start_time":5391040,"end_time":5400320,"duration":9280,"text":"because we we had it just for testing thing and I'm going to take this video"},{"start_time":5400320,"end_time":5406600,"duration":6280,"text":"ID and what where we going to receive it I need to receive it somehow here in the"},{"start_time":5406600,"end_time":5415320,"duration":8720,"text":"retrieve tool to receive it in the retrieve tool this is the input of the"},{"start_time":5415320,"end_time":5420440,"duration":5120,"text":"tool but here we get the options of the"},{"start_time":5420440,"end_time":5426719,"duration":6279,"text":"invocation and we can go ahead and get access to the Fred ID where in this case"},{"start_time":5426719,"end_time":5432280,"duration":5561,"text":"I need the video uncore ID so if I do"},{"start_time":5432280,"end_time":5439000,"duration":6720,"text":"here uh query console log video ID let's see if"},{"start_time":5439000,"end_time":5445040,"duration":6040,"text":"in our tool we get access to the video ID from our"},{"start_time":5445040,"end_time":5449520,"duration":4480,"text":"invocation if I call this one"},{"start_time":5452159,"end_time":5456600,"duration":4441,"text":"here we see that ID"},{"start_time":5458119,"end_time":5463800,"duration":5681,"text":"here it's still going to work the same because we just simply do this but what"},{"start_time":5463800,"end_time":5470239,"duration":6439,"text":"we can do here is we can use the video ID for the similarity search I'm going"},{"start_time":5470239,"end_time":5480920,"duration":10681,"text":"to show you the documentation where you can find it just Google L graph uh Vector store and the"},{"start_time":5480920,"end_time":5489119,"duration":8199,"text":"JavaScript for example if I'm not mistaken here and you're going to see"},{"start_time":5494159,"end_time":5500040,"duration":5881,"text":"that L graph Vector l l chain Vector"},{"start_time":5500040,"end_time":5505119,"duration":5079,"text":"store GS so in the documentation you're going"},{"start_time":5505119,"end_time":5509119,"duration":4000,"text":"to see some options that you can"},{"start_time":5511520,"end_time":5515840,"duration":4320,"text":"use I need options"},{"start_time":5517080,"end_time":5524080,"duration":7000,"text":"yeah I'm pretty sure like you can you you'll find here like maybe I'm going to leave a link in the guide here so you"},{"start_time":5524080,"end_time":5530440,"duration":6360,"text":"can have access to it but what I mean there is that when we do Vector store. similarity search the first one is query"},{"start_time":5530440,"end_time":5536880,"duration":6440,"text":"the second one is how many items we want to receive but the next one is the"},{"start_time":5536880,"end_time":5544800,"duration":7920,"text":"filtering in the filter can be uh a filter on the metadata so so we can say"},{"start_time":5544800,"end_time":5553239,"duration":8439,"text":"that I want only the dog dogs or maybe I need filter"},{"start_time":5553239,"end_time":5557480,"duration":4241,"text":"here let me double check"},{"start_time":5565600,"end_time":5573920,"duration":8320,"text":"that no it shouldn't be filter it should be simply video ID so this is the filter that is being"},{"start_time":5573920,"end_time":5580760,"duration":6840,"text":"applied and is being applied on the metadata of our documents and if we look"},{"start_time":5580760,"end_time":5586360,"duration":5600,"text":"in the metadata of our documents we store the video ID here later when we"},{"start_time":5586360,"end_time":5592520,"duration":6160,"text":"add the database we're going to be able to see visually what I mean there and now let's go ahead and"},{"start_time":5592520,"end_time":5598080,"duration":5560,"text":"see maybe um console log retrieve docs"},{"start_time":5598080,"end_time":5606280,"duration":8200,"text":"to see what document docs did it receive for that query I'm going to go ahead and ask"},{"start_time":5606280,"end_time":5611880,"duration":5600,"text":"the invoke the this one with a question what is the finished position of Nores"},{"start_time":5611880,"end_time":5619639,"duration":7759,"text":"it knows that is this video ID because we specified it it's going to ask norish finish"},{"start_time":5619639,"end_time":5625719,"duration":6080,"text":"time and it will say the apolog but it seems there is a technical issue with the retrieval function in order to"},{"start_time":5625719,"end_time":5631159,"duration":5440,"text":"provide more with accurate information basically it says that there is no items with this"},{"start_time":5631159,"end_time":5639159,"duration":8000,"text":"ID and why is that happening something wrong with here with a video"},{"start_time":5639159,"end_time":5646960,"duration":7801,"text":"ID video ID did I call it video uncore ID here metadata video ID and let me"},{"start_time":5646960,"end_time":5655040,"duration":8080,"text":"look in the database video uncore ID Vore ID"},{"start_time":5678600,"end_time":5686159,"duration":7559,"text":"filter this is Vector store similarity search"},{"start_time":5700360,"end_time":5706520,"duration":6160,"text":"I'm wondering if this uh is not going to work for the inmemory vector databases"},{"start_time":5706520,"end_time":5714480,"duration":7960,"text":"but only for the for the postgress"},{"start_time":5720560,"end_time":5728880,"duration":8320,"text":"databases uh because as I see the retrieve docks"},{"start_time":5728880,"end_time":5735679,"duration":6799,"text":"right retrieve docks for query it doesn't even get here so it"},{"start_time":5735679,"end_time":5741520,"duration":5841,"text":"must fail completely it doesn't get retrieve"},{"start_time":5743920,"end_time":5749679,"duration":5759,"text":"docks so let's try to do a try catch just"},{"start_time":5749679,"end_time":5756080,"duration":6401,"text":"to to see why it's not"},{"start_time":5759159,"end_time":5764280,"duration":5121,"text":"working it's it's hopefully it's going"},{"start_time":5764719,"end_time":5770920,"duration":6201,"text":"to to show me but yeah as I'm saying maybe uh this"},{"start_time":5770920,"end_time":5777800,"duration":6880,"text":"kind of filtering doesn't work on the inmemory filter is not a"},{"start_time":5777800,"end_time":5784560,"duration":6760,"text":"function okay so for the in memory maybe filter should be a function let's try"},{"start_time":5784560,"end_time":5791040,"duration":6480,"text":"let's try saying that hey Doc is a function and we're going to"},{"start_time":5791040,"end_time":5796840,"duration":5800,"text":"return true if doc do"},{"start_time":5796840,"end_time":5804440,"duration":7600,"text":"metadata. video ID is equal to video uh video video ID that you're"},{"start_time":5804440,"end_time":5812520,"duration":8080,"text":"looking for again uh this is going to be a bit different later but now for in memory"},{"start_time":5812520,"end_time":5820080,"duration":7560,"text":"database I think it expects a function for filtering and let's uh let's try"},{"start_time":5820080,"end_time":5826719,"duration":6639,"text":"to maybe remove a TR catch and invoke it"},{"start_time":5829320,"end_time":5837040,"duration":7720,"text":"again okay we see that and we see retrieve documents V"},{"start_time":5837040,"end_time":5845480,"duration":8440,"text":"documents cool if for example I'm going to make a mistake and say give me"},{"start_time":5845480,"end_time":5851199,"duration":5719,"text":"we are working with video ID one 2 three this video ID is not in our database and"},{"start_time":5851199,"end_time":5857679,"duration":6480,"text":"it's supposed to filter out like other documents in the database we see retrieve docs as an"},{"start_time":5857679,"end_time":5862760,"duration":5081,"text":"empty um array saying that meaning that our"},{"start_time":5862760,"end_time":5871560,"duration":8800,"text":"filtering is working correctly now what we can do is we can"},{"start_time":5871560,"end_time":5877719,"duration":6159,"text":"load the other video as well let me go ahead and maybe split up a"},{"start_time":5877719,"end_time":5885000,"duration":7281,"text":"little bit the logic of of generating this embeddings because I would like to"},{"start_time":5885000,"end_time":5892080,"duration":7080,"text":"already clean up a little bit here this file is getting a little bit out of hand and it um is responsible for different"},{"start_time":5892080,"end_time":5897800,"duration":5720,"text":"pipelines different layers uh it's both for indexing and adding to the database"},{"start_time":5897800,"end_time":5905159,"duration":7359,"text":"and it's also about the agent I want agent to be only specific to agent"},{"start_time":5911010,"end_time":5920360,"duration":9350,"text":"[Music] um so let's go ahead and create here in"},{"start_time":5920360,"end_time":5927520,"duration":7160,"text":"the server a new file called embeddings"},{"start_time":5927520,"end_time":5935400,"duration":7880,"text":"edings hopefully I wrote it correctly maybe not is it with double d"},{"start_time":5935400,"end_time":5941360,"duration":5960,"text":"embeddings maybe and from the agent move stuff related to embeddings"},{"start_time":5941360,"end_time":5949199,"duration":7839,"text":"where what stuff do I mean well first of all I want to move"},{"start_time":5949199,"end_time":5957199,"duration":8000,"text":"the gener uh creating the open Ai embeddings and the vector store I will copy them from here I will"},{"start_time":5957199,"end_time":5964040,"duration":6841,"text":"cut them actually and move them here I want to import"},{"start_time":5964040,"end_time":5970719,"duration":6679,"text":"what we need here and we have here what export Vector"},{"start_time":5970719,"end_time":5976400,"duration":5681,"text":"store maybe I'm going to do export const Vector store so that other files can"},{"start_time":5976400,"end_time":5982280,"duration":5880,"text":"import this storage I'll also do export"},{"start_time":5982280,"end_time":5989480,"duration":7200,"text":"const add documents to Vector store function uh or not documents but let's"},{"start_time":5989480,"end_time":5995119,"duration":5639,"text":"do add YouTube video"},{"start_time":5995119,"end_time":5998400,"duration":3281,"text":"to Vector"},{"start_time":6003760,"end_time":6010560,"duration":6800,"text":"store let's say we're going to get video data and we need to do something with"},{"start_time":6010560,"end_time":6016400,"duration":5840,"text":"it what do we need to do in order to add it to to the vector store well we"},{"start_time":6016400,"end_time":6022040,"duration":5640,"text":"already have it in the logic in the agent AI if we look here well first we"},{"start_time":6022040,"end_time":6029280,"duration":7240,"text":"have to Define the split or actually with docs so I'm going to copy creating with"},{"start_time":6029280,"end_time":6034599,"duration":5319,"text":"documents creating with splitter generating the chunks and finally doing"},{"start_time":6034599,"end_time":6039639,"duration":5040,"text":"Vector store at documents I'm going to copy all of this"},{"start_time":6039639,"end_time":6048520,"duration":8881,"text":"into embeddings because this is part of adding a YouTube video data to Vector"},{"start_time":6048520,"end_time":6054000,"duration":5480,"text":"store so for the document we need to import"},{"start_time":6054000,"end_time":6062520,"duration":8520,"text":"uh document from linkchain core documents page content is going to be video data. transcript metadata is going"},{"start_time":6062520,"end_time":6067599,"duration":5079,"text":"to be video data video ID or we can do it easily"},{"start_time":6067599,"end_time":6074239,"duration":6640,"text":"here destructuring and video ID is going to"},{"start_time":6074239,"end_time":6080719,"duration":6480,"text":"be like this because it has the same name and title we need to import the recursive"},{"start_time":6080719,"end_time":6086840,"duration":6121,"text":"character text splitter from L chain text splitter here we're going to leave"},{"start_time":6086840,"end_time":6092880,"duration":6040,"text":"the same configuration we're going to remove this console log and we are"},{"start_time":6092880,"end_time":6102560,"duration":9680,"text":"adding it to the vector store that we created at the top Vector store add documents"},{"start_time":6103119,"end_time":6108920,"duration":5801,"text":"chunks perfect so now this file is responsible for setting up the vector"},{"start_time":6108920,"end_time":6115239,"duration":6319,"text":"store and adding for example YouTube videos to Vector store"},{"start_time":6116119,"end_time":6124920,"duration":8801,"text":"let's go ahead back and clean up a little bit here uh we'll leave a retrieve tool"},{"start_time":6124920,"end_time":6130679,"duration":5759,"text":"here I don't know I don't need the video one or maybe I need do I need"},{"start_time":6130679,"end_time":6137960,"duration":7281,"text":"it I think I don't yeah I need it because it's still going to be here that"},{"start_time":6137960,"end_time":6144639,"duration":6679,"text":"I want to add this video to our database so for that we need to"},{"start_time":6144639,"end_time":6149880,"duration":5241,"text":"import Vector store and add YouTube video to Vector store from embeddings"},{"start_time":6149880,"end_time":6156639,"duration":6759,"text":"and I want to call here a wait add YouTube video to Vector store so I still want to add it here later we're going to"},{"start_time":6156639,"end_time":6161960,"duration":5321,"text":"think where to do it for now I just want to I move a code in another file and"},{"start_time":6161960,"end_time":6168840,"duration":6880,"text":"call it from here I'm still going to have a retrieve tool that needs access to the vector"},{"start_time":6168840,"end_time":6174760,"duration":5920,"text":"store so that's why we exported and we import it here the same access to the same"},{"start_time":6174760,"end_time":6180800,"duration":6040,"text":"database and everything else is related to this one I can clean up a little bit"},{"start_time":6180800,"end_time":6188639,"duration":7839,"text":"here the Imports of what we do not need anymore leaving only things that we need"},{"start_time":6188639,"end_time":6194159,"duration":5520,"text":"like this and what else cleaning up a little"},{"start_time":6194159,"end_time":6197800,"duration":3641,"text":"bit the console logs here as"},{"start_time":6200080,"end_time":6205119,"duration":5039,"text":"well checkpoint or video ID"},{"start_time":6210080,"end_time":6216760,"duration":6680,"text":"okay this one is also going to go away in a second but it's"},{"start_time":6216760,"end_time":6223280,"duration":6520,"text":"testing the agent perfect so let's double check if"},{"start_time":6223280,"end_time":6229520,"duration":6240,"text":"it still works I'm going to invoke the agent. GS uh question was the position of"},{"start_time":6229520,"end_time":6232520,"duration":3000,"text":"Norris"},{"start_time":6245040,"end_time":6251199,"duration":6159,"text":"come on uh based on I can provide with more details Hamilton vers yeah like it"},{"start_time":6251199,"end_time":6258719,"duration":7520,"text":"we we understand that it's working it's using the transcript data uh what I want you to do now is let's try to add two"},{"start_time":6258719,"end_time":6263840,"duration":5121,"text":"videos to the store and see that in that case it can f filter out with"},{"start_time":6263840,"end_time":6269520,"duration":5680,"text":"transcripts related to one specific video for example I'm going to do a same"},{"start_time":6269520,"end_time":6275440,"duration":5920,"text":"await video add YouTube video to Vector store and I'm going to say that we want"},{"start_time":6275440,"end_time":6281280,"duration":5840,"text":"to add the data at position one here I can do data position zero and data"},{"start_time":6281280,"end_time":6288159,"duration":6879,"text":"position one if I'm going to go ahead and"},{"start_time":6288159,"end_time":6295960,"duration":7801,"text":"um ask the question about this video ID about Norris I think it's going to be"},{"start_time":6295960,"end_time":6301159,"duration":5199,"text":"fine because it's going to look only at the transcripts for that user at the"},{"start_time":6301159,"end_time":6309040,"duration":7881,"text":"same time it took a little bit of time to to add the embeddings but it's very fast like it's super"},{"start_time":6309040,"end_time":6314760,"duration":5720,"text":"fast let's see what's happening now uh I don't see a specific time for Norris"},{"start_time":6314760,"end_time":6323320,"duration":8560,"text":"mentioned that Norris racing that is going quickly through the middle part of a lap by 800 milliseconds however if I'm"},{"start_time":6323320,"end_time":6333320,"duration":10000,"text":"going to go into the data and take the idea of my second video let's find it with Vore ID and the"},{"start_time":6333320,"end_time":6338440,"duration":5120,"text":"second one is this one if I'm going to say it hey now this"},{"start_time":6338440,"end_time":6344480,"duration":6040,"text":"same question what is the finish time of Norris is going to be on a different"},{"start_time":6344480,"end_time":6349719,"duration":5239,"text":"video what I expect to see is I expect the model not to know how to answer"},{"start_time":6349719,"end_time":6355159,"duration":5440,"text":"because it doesn't have that information we gave it information from a different"},{"start_time":6355159,"end_time":6358400,"duration":3241,"text":"video let's"},{"start_time":6371239,"end_time":6378199,"duration":6960,"text":"see um based on the transcript I don't see any information about nor is the"},{"start_time":6378199,"end_time":6383480,"duration":5281,"text":"transcript appear to be discussing programming Concepts so that's exactly"},{"start_time":6383480,"end_time":6389960,"duration":6480,"text":"true because we are filtering out only data from our Vector store for this"},{"start_time":6389960,"end_time":6398520,"duration":8560,"text":"video ID if I will go ahead and transform change the question to what uh"},{"start_time":6398520,"end_time":6406360,"duration":7840,"text":"will people learn from this video Let's see what that answer is"},{"start_time":6406360,"end_time":6413360,"duration":7000,"text":"going to to look like because remember this video with this ID is a tutorial"},{"start_time":6413360,"end_time":6422598,"duration":9238,"text":"from my channel uh about Apple invite application so if we look at the"},{"start_time":6423440,"end_time":6429119,"duration":5679,"text":"response it doesn't understand that it needs to call the tool so let's see what"},{"start_time":6429119,"end_time":6434239,"duration":5120,"text":"will people learn from uh the video"},{"start_time":6434239,"end_time":6440880,"duration":6641,"text":"based on it's it's"},{"start_time":6441320,"end_time":6446560,"duration":5240,"text":"transcript it's still sometimes doesn't know that but it has this capabilities"},{"start_time":6446560,"end_time":6453679,"duration":7119,"text":"so maybe I need to inform it like hey at any moment you have information about video you just need to call the"},{"start_time":6453679,"end_time":6461119,"duration":7440,"text":"Tool uh but with a better question I think it's going to work better now as we can see it's thinking and we see"},{"start_time":6461119,"end_time":6466280,"duration":5161,"text":"based on the the video tutorial about building a mobile"},{"start_time":6466280,"end_time":6472840,"duration":6560,"text":"application how to create custom auto scrolling component Marquee building and boarding screens with animation"},{"start_time":6472840,"end_time":6478760,"duration":5920,"text":"implementing UI react development Concepts and so on so perfect now our AA"},{"start_time":6478760,"end_time":6486080,"duration":7320,"text":"agent can work with multiple videos it can store his data in a database but when asked it's going to look at only"},{"start_time":6486080,"end_time":6491280,"duration":5200,"text":"specific information for a specific video"},{"start_time":6491280,"end_time":6497638,"duration":6358,"text":"Perfect let me go ahead and do a git add git"},{"start_time":6498520,"end_time":6504280,"duration":5760,"text":"CIT agent with rag"},{"start_time":6504280,"end_time":6510280,"duration":6000,"text":"I'm going to bring some water and the next step for us is going to be to"},{"start_time":6510280,"end_time":6517320,"duration":7040,"text":"change from a memory Vector store to an actual database so that this data is not going"},{"start_time":6517320,"end_time":6524840,"duration":7520,"text":"to be lost and we're not going to have to generate the embeddings always we're going to store and cash them so that"},{"start_time":6524840,"end_time":6532880,"duration":8040,"text":"next time when we ask the same question about the same video we don't have to get the data again and again so that's"},{"start_time":6532880,"end_time":6538000,"duration":5120,"text":"our going to be our next step give me one second"},{"start_time":6587599,"end_time":6592080,"duration":4481,"text":"hello uh perfect"},{"start_time":6601800,"end_time":6606840,"duration":5040,"text":"so as I was saying the next step is going to be to transform to a proper"},{"start_time":6606840,"end_time":6612760,"duration":5920,"text":"database for our Vector store and that's one thing that I like about Lang chain"},{"start_time":6612760,"end_time":6619159,"duration":6399,"text":"is how everything um is abstract in different layers and you're going to see"},{"start_time":6619159,"end_time":6624760,"duration":5601,"text":"how easy is going to be to swap from a memory to we postgress database we just"},{"start_time":6624760,"end_time":6632159,"duration":7399,"text":"have to create it and change here how we connect it and everything else is going to remain the same without us having to"},{"start_time":6632159,"end_time":6637360,"duration":5201,"text":"do much changes for the database uh we need a"},{"start_time":6637360,"end_time":6645480,"duration":8120,"text":"postgress database with pogress SQL We There is a PG Vector extension that"},{"start_time":6645480,"end_time":6651639,"duration":6159,"text":"enables us to do similarity searches and index database based on vectors perfect"},{"start_time":6651639,"end_time":6657079,"duration":5440,"text":"for our in Bings so we need a pogress database you"},{"start_time":6657079,"end_time":6662400,"duration":5321,"text":"can run it locally you can use pogress with a Docker to run it locally that's"},{"start_time":6662400,"end_time":6668719,"duration":6319,"text":"totally fine but I think it's a little bit more technical uh and maybe not everyone has the environment set up to"},{"start_time":6668719,"end_time":6675079,"duration":6360,"text":"run postgress locally what you can do is you can use for example ne."},{"start_time":6675079,"end_time":6680400,"duration":5321,"text":"Tech uh and with neon tack it's it's actually"},{"start_time":6680400,"end_time":6686760,"duration":6360,"text":"super fast and easy to to get a post database up and running uh and I think they also have a"},{"start_time":6686760,"end_time":6693560,"duration":6800,"text":"good free tier for up to 10 projects let's go ahead sign up and in your"},{"start_time":6693560,"end_time":6701119,"duration":7559,"text":"profile go ahead and do a new project I'm going to call it you AI YouTube"},{"start_time":6701119,"end_time":6704920,"duration":3801,"text":"chat and let's do"},{"start_time":6707440,"end_time":6714480,"duration":7040,"text":"create here uh we need to enable postgress uh database so what we have to"},{"start_time":6714480,"end_time":6720159,"duration":5679,"text":"do is we are going to enable it by running a query in the SQL editor the"},{"start_time":6720159,"end_time":6729199,"duration":9040,"text":"query I don't remember how it was but let's do enable PG Vector"},{"start_time":6729639,"end_time":6737119,"duration":7480,"text":"neon and that is going to be a query called create extension"},{"start_time":6737119,"end_time":6743679,"duration":6560,"text":"Vector so if I go into the SQL editor of my database on new one and write this"},{"start_time":6743679,"end_time":6748360,"duration":4681,"text":"command create extensions vector and do"},{"start_time":6749920,"end_time":6753440,"duration":3520,"text":"run it didn't"},{"start_time":6764000,"end_time":6770400,"duration":6400,"text":"like why it didn't like second time statement executed"},{"start_time":6770400,"end_time":6775719,"duration":5319,"text":"successfully so maybe it was not ready yet yet now it executed successfully so"},{"start_time":6775719,"end_time":6783000,"duration":7281,"text":"I enable this Vector uh extension on our database so our tables here will be able"},{"start_time":6783000,"end_time":6788599,"duration":5599,"text":"to have like vector um columns columns and index and"},{"start_time":6788599,"end_time":6794520,"duration":5921,"text":"search based on their similarity the next step is to Simply connect to this"},{"start_time":6794520,"end_time":6800800,"duration":6280,"text":"project from our uh application I'm going to go here and I'm going to copy"},{"start_time":6800800,"end_time":6807480,"duration":6680,"text":"the connection string let's go ahead and put it into that EnV file and let's"},{"start_time":6807480,"end_time":6815079,"duration":7599,"text":"call um DB URL and let's space"},{"start_time":6815079,"end_time":6820920,"duration":5841,"text":"the the connection string that we got from here make sure connection pooling is"},{"start_time":6820920,"end_time":6828440,"duration":7520,"text":"enabled and the next step is to go and double check"},{"start_time":6828440,"end_time":6834280,"duration":5840,"text":"with with where with uh"},{"start_time":6834360,"end_time":6840199,"duration":5839,"text":"with length chain under P your vector store I'm going to select PG Vector what"},{"start_time":6840199,"end_time":6845880,"duration":5681,"text":"I need to do is do npm install at L chain"},{"start_time":6845880,"end_time":6849920,"duration":4040,"text":"Community let's do that"},{"start_time":6851760,"end_time":6857800,"duration":6040,"text":"first and then we can create this Vector SC"},{"start_time":6857800,"end_time":6864040,"duration":6240,"text":"store like this so from our Bings"},{"start_time":6864040,"end_time":6871520,"duration":7480,"text":"files at the top we import PG vector and we create it instead of using"},{"start_time":6871520,"end_time":6876560,"duration":5040,"text":"memory Vector we create it using PG Vector store. initialize we give the"},{"start_time":6876560,"end_time":6882560,"duration":6000,"text":"same embeddings model there but we need to provide here some"},{"start_time":6882560,"end_time":6890760,"duration":8200,"text":"configuration configuration uh such as postgress"},{"start_time":6890760,"end_time":6895960,"duration":5200,"text":"connection options and the connection options you can either use a connection"},{"start_time":6895960,"end_time":6903679,"duration":7719,"text":"string the easiest way or you can have like Port host database name and so on"},{"start_time":6903679,"end_time":6909520,"duration":5841,"text":"but the easiest one is just to provide connection string as process. EnV DB URL"},{"start_time":6909520,"end_time":6915560,"duration":6040,"text":"that we added here in our environment"},{"start_time":6915560,"end_time":6920880,"duration":5320,"text":"variables and then we are not done yet with the configuration we need to give a"},{"start_time":6920880,"end_time":6929280,"duration":8400,"text":"table name the table name what is going to be the table name for this tour let's do"},{"start_time":6929280,"end_time":6933800,"duration":4520,"text":"transcript transcripts let's do"},{"start_time":6934360,"end_time":6938480,"duration":4120,"text":"transcripts um"},{"start_time":6939800,"end_time":6948280,"duration":8480,"text":"columns we can have ID column name come on"},{"start_time":6948280,"end_time":6955440,"duration":7160,"text":"columns the ID column name let's do it ID let's do the embedding column name"},{"start_time":6955440,"end_time":6960560,"duration":5120,"text":"you can specify what should be the name of the embedding you can do embedding or"},{"start_time":6960560,"end_time":6967599,"duration":7039,"text":"vector for example"},{"start_time":6969480,"end_time":6977599,"duration":8119,"text":"what I don't have text column name content column name this is the content"},{"start_time":6977599,"end_time":6984079,"duration":6480,"text":"of that embedding and there is also metadata column name name metadata I"},{"start_time":6984079,"end_time":6991719,"duration":7640,"text":"think you can leave them out as well but because it's going to be default but know that you can adjust them is it"},{"start_time":6991719,"end_time":6999520,"duration":7801,"text":"embeddings or vector oh it's Vector column name sorry Vector column name"},{"start_time":6999520,"end_time":7005599,"duration":6079,"text":"vector and besides columns you can also have a distance"},{"start_time":7005599,"end_time":7010920,"duration":5321,"text":"strategy and this is a little bit more technical basically meaning what uh"},{"start_time":7010920,"end_time":7018159,"duration":7239,"text":"function to use to calculate uh the similarity there is cosine uh there is"},{"start_time":7018159,"end_time":7025280,"duration":7121,"text":"uh whatever yeah there are other methods as"},{"start_time":7025280,"end_time":7031679,"duration":6399,"text":"well like inner product or Ean as well but cosine is default so you can leave"},{"start_time":7031679,"end_time":7038719,"duration":7040,"text":"it like this or you can even leave it out as well anyway now if I restart my"},{"start_time":7038719,"end_time":7045560,"duration":6841,"text":"application the vector store should automatically connect with this uh database with this configuration I"},{"start_time":7045560,"end_time":7052599,"duration":7039,"text":"don't need to change anything else the vector store will have the same ad documents and stuff like that and it"},{"start_time":7052599,"end_time":7058560,"duration":5961,"text":"should automatically handle the database creation for me if I go into new one"},{"start_time":7058560,"end_time":7066840,"duration":8280,"text":"under tables we don't have any tables yet but if I'm going to go ahead and restart or run our"},{"start_time":7066840,"end_time":7073800,"duration":6960,"text":"agent uh if everything is successful it's going to connect and"},{"start_time":7073800,"end_time":7080159,"duration":6359,"text":"store information in postgress we see that we cannot find the PG uh package"},{"start_time":7080159,"end_time":7086320,"duration":6161,"text":"because for that we need to do npm install PG this is for postgress so it's"},{"start_time":7086320,"end_time":7091880,"duration":5560,"text":"a pure dependency uh let's try to run it again"},{"start_time":7091880,"end_time":7098880,"duration":7000,"text":"we see Vector store from embeddings dogs does not provide an export"},{"start_time":7098880,"end_time":7105119,"duration":6239,"text":"member I forgot to do export Vector"},{"start_time":7107079,"end_time":7110760,"duration":3681,"text":"store if I do it"},{"start_time":7113639,"end_time":7119079,"duration":5440,"text":"again how many tabs open in that browser I don't know a lot and that's not even"},{"start_time":7119079,"end_time":7124840,"duration":5761,"text":"enough uh what will people learn from the video like now at this point if I go"},{"start_time":7124840,"end_time":7132360,"duration":7520,"text":"to the tables we see a new table called transcripts if you go into the options here and enable table RW count we see"},{"start_time":7132360,"end_time":7139000,"duration":6640,"text":"that we have around 167 chunks of data so this is not 167"},{"start_time":7139000,"end_time":7145560,"duration":6560,"text":"videos but because my video one of them is 4 hours long it divided in in that"},{"start_time":7145560,"end_time":7152159,"duration":6599,"text":"many chunks so we see that the first ones is about L stroll and so one fastest ahead"},{"start_time":7152159,"end_time":7159000,"duration":6841,"text":"Louis Hamilton definitely uh transcript from uh Formula 1 videos but if you"},{"start_time":7159000,"end_time":7167719,"duration":8719,"text":"scroll down a bit we see that what information about the Bol text and react"},{"start_time":7167719,"end_time":7173400,"duration":5681,"text":"native and so on so this is the second video in the"},{"start_time":7173400,"end_time":7180199,"duration":6799,"text":"metadata there is the metadata about video ID so this is how the filtering is"},{"start_time":7180199,"end_time":7188159,"duration":7960,"text":"supposed to work and let's double check if filtering is working in a second and there is this Vector which as you can"},{"start_time":7188159,"end_time":7194880,"duration":6721,"text":"see is a bunch of numbers if I will I don't know I can"},{"start_time":7194880,"end_time":7201280,"duration":6400,"text":"copy it maybe I don't but you're going to see that it's simply a bunch of"},{"start_time":7201280,"end_time":7206960,"duration":5680,"text":"numbers so this is a better way because now it is stored in the database so we"},{"start_time":7206960,"end_time":7212280,"duration":5320,"text":"can we don't have to embed and generate them every time we can build a huge"},{"start_time":7212280,"end_time":7218599,"duration":6319,"text":"cache of this data to later interact with this is the"},{"start_time":7218599,"end_time":7224320,"duration":5721,"text":"information and again let me double check in the agent in that tool for"},{"start_time":7224320,"end_time":7231480,"duration":7160,"text":"retrieval we have here the function but as we can see now that our"},{"start_time":7231480,"end_time":7237199,"duration":5719,"text":"Vector store is a database it would be better to provide here a filter"},{"start_time":7237199,"end_time":7243360,"duration":6161,"text":"object and that filter object if I'm not mistaken is going to be added on the database layer so it's going to"},{"start_time":7243360,"end_time":7249639,"duration":6279,"text":"completely ignore those items when it does we SQL query so this is the filter"},{"start_time":7249639,"end_time":7255670,"duration":6031,"text":"to retrieve documents based on the video IDE perfect now I will"},{"start_time":7255670,"end_time":7261559,"duration":5889,"text":"[Music] do like"},{"start_time":7263360,"end_time":7268960,"duration":5600,"text":"this and at this moment we are still adding like that those items in the"},{"start_time":7268960,"end_time":7274599,"duration":5639,"text":"database so most probably we're going to have duplicated items we had 150 now we"},{"start_time":7274599,"end_time":7282679,"duration":8080,"text":"have 334 uh but it works here like"},{"start_time":7283480,"end_time":7290239,"duration":6759,"text":"this time it didn't call the tool but anyway or maybe it's a problem maybe it"},{"start_time":7290239,"end_time":7296480,"duration":6241,"text":"call the tool I'm going to comment out this wait add YouTube videos to the vector store"},{"start_time":7296480,"end_time":7301679,"duration":5199,"text":"because we're already there and I'm going to run it again to"},{"start_time":7301679,"end_time":7305480,"duration":3801,"text":"see if the filtering is working"},{"start_time":7309440,"end_time":7315920,"duration":6480,"text":"correctly because it's I not calling tool where the tool is not doing yeah I see information so that means that it's"},{"start_time":7315920,"end_time":7321360,"duration":5440,"text":"working correctly"},{"start_time":7323719,"end_time":7326719,"duration":3000,"text":"Perfecto"},{"start_time":7340560,"end_time":7346520,"duration":5960,"text":"amazing so this is our G"},{"start_time":7346560,"end_time":7354400,"duration":7840,"text":"ad database uh"},{"start_time":7354400,"end_time":7359719,"duration":5319,"text":"pogress for the vector"},{"start_time":7366920,"end_time":7372400,"duration":5480,"text":"database I think in the next step we are kind of ready to integrate"},{"start_time":7372400,"end_time":7378679,"duration":6279,"text":"the the chat interface and before we do that I want"},{"start_time":7378679,"end_time":7384679,"duration":6000,"text":"our server to be an restful API so that"},{"start_time":7384679,"end_time":7391000,"duration":6321,"text":"we later can interact with it by sending HTTP requests at the moment our agent we"},{"start_time":7391000,"end_time":7400239,"duration":9239,"text":"interact with it by literally calling agent. invoke and invoking that um executing this"},{"start_time":7400239,"end_time":7405880,"duration":5641,"text":"file but what I want want to do is I want to create an API that I can send"},{"start_time":7405880,"end_time":7412800,"duration":6920,"text":"this question as a post request and I can invoke this agent and get back the"},{"start_time":7412800,"end_time":7418440,"duration":5640,"text":"answer for that let's go ahead in the server and create the index"},{"start_time":7418440,"end_time":7424040,"duration":5600,"text":"do GS file and our server is going to be"},{"start_time":7424040,"end_time":7432000,"duration":7960,"text":"an HTTP server we're going to create using Express so let's install Express"},{"start_time":7432000,"end_time":7437880,"duration":5880,"text":"maybe course and types SL"},{"start_time":7438599,"end_time":7445599,"duration":7000,"text":"Express and let's start by creating a simple uh import Express from Express"},{"start_time":7445599,"end_time":7451800,"duration":6201,"text":"import course from course we create the express application"},{"start_time":7451800,"end_time":7456880,"duration":5080,"text":"we add course which is you don't have if you don't know like it's not a big deal"},{"start_time":7456880,"end_time":7464639,"duration":7759,"text":"here just add it because it's going to later help us send requests from different from our front end to our back"},{"start_time":7464639,"end_time":7471199,"duration":6560,"text":"end when we will be deployed and what I can do is I can say simply add a get"},{"start_time":7471199,"end_time":7476639,"duration":5440,"text":"request to the slash that will return hello world and start listening at P"},{"start_time":7476639,"end_time":7483320,"duration":6681,"text":"3,000 for example or maybe we can do"},{"start_time":7484159,"end_time":7489320,"duration":5161,"text":"here const Port equal process. env. port"},{"start_time":7489320,"end_time":7496119,"duration":6799,"text":"or 3,000 if it's not provided I'll take Port here and the call back is going to be"},{"start_time":7496119,"end_time":7502800,"duration":6681,"text":"executed when we the server started listening this is a very basic barebone"},{"start_time":7502800,"end_time":7509760,"duration":6960,"text":"uh HTTP server what I can do with it is I can do node maybe with EnV file and"},{"start_time":7509760,"end_time":7515440,"duration":5680,"text":"I'm going to execute not agent but index.js if I do that we see Server is"},{"start_time":7515440,"end_time":7520639,"duration":5199,"text":"listening on Port 3,000 because this is a get request I"},{"start_time":7520639,"end_time":7529719,"duration":9080,"text":"can simply go to uh in the browser and do Local Host 3,000 and we see the hello"},{"start_time":7529719,"end_time":7537880,"duration":8161,"text":"world the hello world that was sent from here usually we are going to send this"},{"start_time":7537880,"end_time":7543360,"duration":5480,"text":"requests maybe we're going to be Coral request uh post request so we can also"},{"start_time":7543360,"end_time":7551960,"duration":8600,"text":"use the coral command in the in the terminal to send these requests okay good um what what I'm"},{"start_time":7551960,"end_time":7560000,"duration":8040,"text":"going to add now is not a get request but a post request to the endpoint maybe"},{"start_time":7560000,"end_time":7566760,"duration":6760,"text":"generator query or yeah let's do generate my generate is going to be like"},{"start_time":7566760,"end_time":7572320,"duration":5560,"text":"question and answer I send a question and I expect back an"},{"start_time":7572719,"end_time":7582880,"duration":10161,"text":"answer the query itself I expect it from the body and let's do console log"},{"start_time":7582880,"end_time":7590599,"duration":7719,"text":"query and return send like this now because this is a post requ actually I"},{"start_time":7590599,"end_time":7597440,"duration":6841,"text":"did some changes so I need to stop the server and run it again or I can do I"},{"start_time":7597440,"end_time":7603159,"duration":5719,"text":"can add come"},{"start_time":7603159,"end_time":7609199,"duration":6040,"text":"on to my node I can add here at d-w"},{"start_time":7609199,"end_time":7616760,"duration":7561,"text":"watch so that is going to watch any changes if I'm going to change something here it's going to restart so I don't"},{"start_time":7616760,"end_time":7623800,"duration":7040,"text":"have to think about restarting it always perfect now that our server has restarted we can send a post request to/"},{"start_time":7623800,"end_time":7630280,"duration":6480,"text":"generate to do that in a new terminal I'm going to do coral Dash"},{"start_time":7630280,"end_time":7633960,"duration":3680,"text":"um that is a"},{"start_time":7639679,"end_time":7647360,"duration":7681,"text":"header let me try uh send a post request"},{"start_time":7647360,"end_time":7656119,"duration":8759,"text":"using curl to slash generate with a query"},{"start_time":7656119,"end_time":7661880,"duration":5761,"text":"data uh let's see what the AI will tell me yeah it's the dash X that I was"},{"start_time":7661880,"end_time":7666920,"duration":5040,"text":"looking for it should be"},{"start_time":7667360,"end_time":7674800,"duration":7440,"text":"here so I'm trying to send a post request to Local H Local Host 3000 SL"},{"start_time":7674800,"end_time":7680159,"duration":5359,"text":"generate with the data this query what will people learn from this video and"},{"start_time":7680159,"end_time":7685199,"duration":5040,"text":"this video ID maybe I will take video ID as"},{"start_time":7685199,"end_time":7692040,"duration":6841,"text":"well if I send this query we see something we don't know what exactly but"},{"start_time":7692040,"end_time":7699159,"duration":7119,"text":"we see some errors and an error here as well canot distract your property query from requestbody that's because we"},{"start_time":7699159,"end_time":7705079,"duration":5920,"text":"didn't um add quite important part which"},{"start_time":7705480,"end_time":7714040,"duration":8560,"text":"is the here as a middleware we can add a"},{"start_time":7714040,"end_time":7722320,"duration":8280,"text":"express. Json that will automatically transform our request body to Json because without"},{"start_time":7722320,"end_time":7728119,"duration":5799,"text":"that the request body is not a Json format if I simply add that one I can"},{"start_time":7728119,"end_time":7735000,"duration":6881,"text":"use it as adjacent and D structure the inputs like this now if making sure that the server is"},{"start_time":7735000,"end_time":7742920,"duration":7920,"text":"running if I send the same request again we see hello world because that's what we send but in the server we see that"},{"start_time":7742920,"end_time":7748880,"duration":5960,"text":"the query is this one and the video ID is this one meaning that I can go ahead"},{"start_time":7748880,"end_time":7754679,"duration":5799,"text":"and import the agent here from our agent. JS"},{"start_time":7754679,"end_time":7763440,"duration":8761,"text":"let's make sure that in our agent. GS we do export const a agent we no longer"},{"start_time":7763440,"end_time":7768679,"duration":5239,"text":"interact with it directly so I can remove this part all together or maybe"},{"start_time":7768679,"end_time":7774719,"duration":6040,"text":"I'm not going to remove it let me actually copy paste"},{"start_time":7775040,"end_time":7780119,"duration":5079,"text":"it in our index inside the"},{"start_time":7780119,"end_time":7787800,"duration":7681,"text":"generate I'm going to put it here I'm going to come to it in a second but I need to change how we import the agent"},{"start_time":7787800,"end_time":7793480,"duration":5680,"text":"we need to destructure it when importing because we are expor in it as a constant"},{"start_time":7793480,"end_time":7799679,"duration":6199,"text":"so we have agent here from agent. JS and when there is a request to SL generate"},{"start_time":7799679,"end_time":7806239,"duration":6560,"text":"we get the query we get the video ID uh and we have the interaction with"},{"start_time":7806239,"end_time":7811719,"duration":5480,"text":"agent as we had before I'm going to do some changes we no longer need this video ID because it's going to come from"},{"start_time":7811719,"end_time":7820119,"duration":8400,"text":"the request body I'm not going to have his console log I'm going to have agent. invoke and"},{"start_time":7820119,"end_time":7826159,"duration":6040,"text":"roll user and the content is going to be query not this hardcoded one but the"},{"start_time":7826159,"end_time":7831800,"duration":5641,"text":"query that we receive for configuration we have Fred ID so"},{"start_time":7831800,"end_time":7839520,"duration":7720,"text":"maybe we're also going to send the Fred ID here so let's do Fred"},{"start_time":7839520,"end_time":7846440,"duration":6920,"text":"ID and video ID then we take the result and we return"},{"start_time":7846440,"end_time":7851480,"duration":5040,"text":"it back as results"},{"start_time":7851480,"end_time":7855840,"duration":4360,"text":"maybe I can do it like this let's"},{"start_time":7856520,"end_time":7862360,"duration":5840,"text":"see return that Json to send it as a"},{"start_time":7862360,"end_time":7869119,"duration":6759,"text":"Json and I'm going to send the last message maybe it's going to be too much information but let's see what's going"},{"start_time":7869119,"end_time":7876360,"duration":7241,"text":"to happen now our server has restarted and we can send the same"},{"start_time":7876360,"end_time":7881679,"duration":5319,"text":"request but we need to change it slightly"},{"start_time":7881679,"end_time":7888679,"duration":7000,"text":"to add in this um- D I'm going to add a comma here I'm"},{"start_time":7888679,"end_time":7896960,"duration":8281,"text":"going to do a is it an enter come on it's a bit hard"},{"start_time":7896960,"end_time":7901558,"duration":4598,"text":"to to edit them but I can I'll do it like"},{"start_time":7904480,"end_time":7914079,"duration":9599,"text":"this I'm going to add it here I'm going to comment it out PR ID one I'm going to uncomment it"},{"start_time":7914079,"end_time":7921400,"duration":7321,"text":"copy it and comment it back and I'm going to leave it here for you to also be able to test this endpoint easily I'm"},{"start_time":7921400,"end_time":7931079,"duration":9679,"text":"going to go into the terminal and I'm going to send this"},{"start_time":7932320,"end_time":7939400,"duration":7080,"text":"request it's going to already work with this query and with this video ID"},{"start_time":7944480,"end_time":7951079,"duration":6599,"text":"and we see a lot of things but we also see the content and I'm thinking should I just"},{"start_time":7951079,"end_time":7957159,"duration":6080,"text":"return the content is anything else important here"},{"start_time":7957159,"end_time":7963320,"duration":6161,"text":"for the front end where is cash and so"},{"start_time":7964960,"end_time":7971559,"duration":6599,"text":"on in response metadata ID model"},{"start_time":7980320,"end_time":7989678,"duration":9358,"text":"let me simplify it and just say rest."},{"start_time":7989840,"end_time":7996400,"duration":6560,"text":"send Das content so I'm simply going to send the content"},{"start_time":7997159,"end_time":8002960,"duration":5801,"text":"there and if I send it again it's going just to give me the content"},{"start_time":8002960,"end_time":8008880,"duration":5920,"text":"you can adjust it like depending on what information you want to send to the to the front"},{"start_time":8016880,"end_time":8021360,"duration":4480,"text":"end perfect it"},{"start_time":8024719,"end_time":8031559,"duration":6840,"text":"works and I think that is it for our first step into creating a"},{"start_time":8031559,"end_time":8038599,"duration":7040,"text":"restful and a server for our AI agent so that in the next step our front end is"},{"start_time":8038599,"end_time":8044800,"duration":6201,"text":"going to be able to interact with this server when the user write something in an input box for now let's do go ahead"},{"start_time":8044800,"end_time":8053199,"duration":8399,"text":"and do G status git add get commit um"},{"start_time":8053199,"end_time":8059719,"duration":6520,"text":"add rest API for our"},{"start_time":8059719,"end_time":8064400,"duration":4681,"text":"backend and for the"},{"start_time":8065559,"end_time":8074159,"duration":8600,"text":"agent perfect now it is time to already"},{"start_time":8074159,"end_time":8082559,"duration":8400,"text":"instead of instead of doing it for C request it"},{"start_time":8082559,"end_time":8088599,"duration":6040,"text":"is time to integrate the the frontend the client side application from which"},{"start_time":8088599,"end_time":8094800,"duration":6201,"text":"we're going to be able to interact with our our AI agent I don't want to spend a lot of"},{"start_time":8094800,"end_time":8102719,"duration":7919,"text":"time building it uh and for that reason I'm going to show you I'm going to leave in the in"},{"start_time":8102719,"end_time":8107840,"duration":5121,"text":"the guide let me"},{"start_time":8107840,"end_time":8114239,"duration":6399,"text":"think yeah if we look into the tutorial build AI agent with"},{"start_time":8114239,"end_time":8122079,"duration":7840,"text":"lra for the front end what I did is I simply"},{"start_time":8122199,"end_time":8128199,"duration":6000,"text":"created this prompt and I use entropic to build the front end for me so I told"},{"start_time":8128199,"end_time":8133320,"duration":5121,"text":"it build a simple UI interface for an AI chat up with this structure with this"},{"start_time":8133320,"end_time":8140679,"duration":7359,"text":"styling with this and that and that and in then we got like this AI chat interface and I think it's pretty good"},{"start_time":8140679,"end_time":8146320,"duration":5641,"text":"for us uh and because I don't want to focus on building the uh the front end"},{"start_time":8146320,"end_time":8151880,"duration":5560,"text":"we can reuse the same code here where we can try to reuse the same uh"},{"start_time":8151880,"end_time":8157199,"duration":5319,"text":"um uh llm generation as well I'm not sure what is going to be the result so"},{"start_time":8157199,"end_time":8162480,"duration":5281,"text":"it's better to use it together with me so first let's go ahead and run npm"},{"start_time":8162480,"end_time":8168440,"duration":5960,"text":"create V at latest to generate a new react project but this time make sure"},{"start_time":8168440,"end_time":8174800,"duration":6360,"text":"that you are not inside the server so if you are in server you can do PFD to look"},{"start_time":8174800,"end_time":8182239,"duration":7439,"text":"where you are make sure to go one layer up to be if you do us to see the server"},{"start_time":8182239,"end_time":8190199,"duration":7960,"text":"here and now let's go ahead and do npm create V latest let's give a project"},{"start_time":8190199,"end_time":8197000,"duration":6801,"text":"name let's do chat with YouTube or let's do here"},{"start_time":8197800,"end_time":8202920,"duration":5120,"text":"client let's call let's use uh a framework and the framework is going to"},{"start_time":8202920,"end_time":8208280,"duration":5360,"text":"be react I'm going to use um should I use"},{"start_time":8208281,"end_time":8215920,"duration":7639,"text":"typescript let's use typescript rpt and that's it now we have a client"},{"start_time":8215920,"end_time":8224120,"duration":8200,"text":"side project if I'm going to go into CD client and do npm start or npm"},{"start_time":8224120,"end_time":8227760,"duration":3640,"text":"install to install the"},{"start_time":8232840,"end_time":8240160,"duration":7320,"text":"dependencies in van npm run Dev we're going to see a local host here"},{"start_time":8240160,"end_time":8246319,"duration":6159,"text":"and if I open open it up we're going to see the starting point for a react"},{"start_time":8246320,"end_time":8252000,"duration":5680,"text":"application perfect let's go ahead and as as I was saying"},{"start_time":8252000,"end_time":8260040,"duration":8040,"text":"either uh use this llm to generate uh this prompt in an llm like"},{"start_time":8260040,"end_time":8265200,"duration":5160,"text":"entropic or in the CLA or um"},{"start_time":8265200,"end_time":8272880,"duration":7680,"text":"chbt and generate the Cod is like that or come here I'm going to leave it in"},{"start_time":8272880,"end_time":8281760,"duration":8880,"text":"the comments so you have access to it uh and press the source code"},{"start_time":8281760,"end_time":8287678,"duration":5918,"text":"here we're going to have the same client here in the source I'm going to look at"},{"start_time":8287679,"end_time":8294960,"duration":7281,"text":"the up. TSX I'm going to copy everything here and I'm going to come into the"},{"start_time":8294960,"end_time":8302040,"duration":7080,"text":"client source application based everything here and this same thing"},{"start_time":8302040,"end_time":8308280,"duration":6240,"text":"for uh is it index. CSS I think so let's"},{"start_time":8308281,"end_time":8316960,"duration":8679,"text":"copy everything from index. CSX and add it here by replacing everything like"},{"start_time":8321639,"end_time":8329000,"duration":7361,"text":"this uh the only thing is that if you look into up. TSX it tries to connect to"},{"start_time":8329000,"end_time":8335359,"duration":6359,"text":"Local Host 3000 so let's change it to 3 3,001 let's change it to 3,000 because"},{"start_time":8335360,"end_time":8343000,"duration":7640,"text":"now our back end is running on 3,000 and let's try to"},{"start_time":8343000,"end_time":8349880,"duration":6880,"text":"what to restart it by running npm run Dev again this is"},{"start_time":8349880,"end_time":8355200,"duration":5320,"text":"the API if I open it up here boom here"},{"start_time":8355200,"end_time":8361719,"duration":6519,"text":"we have a chat interface if I'm going to say what's going to happen what's going"},{"start_time":8361719,"end_time":8368279,"duration":6560,"text":"to happen in the client if I if I'll say"},{"start_time":8368400,"end_time":8373840,"duration":5440,"text":"hello there was an error because probably we're going to have to change a"},{"start_time":8373840,"end_time":8379359,"duration":5519,"text":"little bit how we do that uh if we look into app."},{"start_time":8379360,"end_time":8385080,"duration":5720,"text":"TSX and are looking here around line"},{"start_time":8385080,"end_time":8390760,"duration":5680,"text":"50 we have API generate and the data"},{"start_time":8390760,"end_time":8396600,"duration":5840,"text":"here is a little bit different it does prompt it does Fred ID and it does video"},{"start_time":8396600,"end_time":8405560,"duration":8960,"text":"ID let's try to do video ID like this in the server in the index what do we have"},{"start_time":8405560,"end_time":8410680,"duration":5120,"text":"it should be the same SL generate slash"},{"start_time":8410680,"end_time":8417160,"duration":6480,"text":"generate instead of prompt I'm using query it was easier if I use the same so"},{"start_time":8417160,"end_time":8424520,"duration":7360,"text":"let's just change query here Friday is good video ID hardcoded video"},{"start_time":8424520,"end_time":8433479,"duration":8959,"text":"ID hardcoded and now if I go here and say"},{"start_time":8433479,"end_time":8440680,"duration":7201,"text":"hello if I reload say hello what's going on here if I look in"},{"start_time":8440680,"end_time":8452640,"duration":11960,"text":"the console into the network Tab and say again hello send we see that it failed why"},{"start_time":8454040,"end_time":8457280,"duration":3240,"text":"it's because of"},{"start_time":8465040,"end_time":8470479,"duration":5439,"text":"a what uh response request what's going"},{"start_time":8470479,"end_time":8477479,"duration":7000,"text":"on maybe our API is not running server yes fail to run"},{"start_time":8477479,"end_time":8484600,"duration":7121,"text":"index I'm going to go ahead and restart start my API my server and it still"},{"start_time":8484600,"end_time":8492318,"duration":7718,"text":"fails to run no now it says server running on this port if I come back here and say"},{"start_time":8492560,"end_time":8499280,"duration":6720,"text":"hello okay now it gets to the API hello I'm here to help you find"},{"start_time":8499280,"end_time":8506359,"duration":7079,"text":"information from YouTube video transcripts is there a specific YouTube video or topic you would like me to search for information about I can"},{"start_time":8506359,"end_time":8513560,"duration":7201,"text":"retrieve relevant parts of a video transcript based on a query perfect what we're going to do is let's go ahead and"},{"start_time":8513560,"end_time":8519640,"duration":6080,"text":"double check like we hardcoded vi video ID that video ID I'm just going to"},{"start_time":8519640,"end_time":8525880,"duration":6240,"text":"double check in the data if we have such a video ID yeah we"},{"start_time":8525880,"end_time":8533960,"duration":8080,"text":"do have and this one is is this apple style video let's"},{"start_time":8533960,"end_time":8541160,"duration":7200,"text":"check what um will the viewer"},{"start_time":8541160,"end_time":8548000,"duration":6840,"text":"learn by following this tutorial this is a question about a"},{"start_time":8548000,"end_time":8550520,"duration":2520,"text":"specific"},{"start_time":8556760,"end_time":8562520,"duration":5760,"text":"video use the tool to"},{"start_time":8562520,"end_time":8567840,"duration":5320,"text":"get to get to get to get to get how is it called to get"},{"start_time":8567840,"end_time":8571840,"duration":4000,"text":"uh relevant"},{"start_time":8577319,"end_time":8587398,"duration":10079,"text":"transcript okay it's very insistent okay what is the topic of the"},{"start_time":8587720,"end_time":8596240,"duration":8520,"text":"video you see like the the one benefit of an AI agent is that"},{"start_time":8596240,"end_time":8601760,"duration":5520,"text":"it can decide like how often and how to interact with the tool in this case a"},{"start_time":8601760,"end_time":8607080,"duration":5320,"text":"retrieval tool for the rag system the downside is that you lose a little bit"},{"start_time":8607080,"end_time":8615880,"duration":8800,"text":"of control and as you can see here some questions the tool didn't realize that it has to inter integrate with that um"},{"start_time":8615880,"end_time":8622760,"duration":6880,"text":"it has to call that tool so sometimes an old school chain of calls might be"},{"start_time":8622760,"end_time":8628200,"duration":5440,"text":"better but with write prompt engineering with WR descriptions of a tool uh I"},{"start_time":8628200,"end_time":8635600,"duration":7400,"text":"think you can get like where actual results and keep the benefits of having this AI agent that decides like um what"},{"start_time":8635600,"end_time":8641080,"duration":5480,"text":"to to call how often to call and so on so we see that based on the transcript"},{"start_time":8641080,"end_time":8646399,"duration":5319,"text":"this video appears to be aor about creating a mobile application perfect"},{"start_time":8646399,"end_time":8652479,"duration":6080,"text":"amazing so we have our front end as well we have our client side as well let me"},{"start_time":8652479,"end_time":8659640,"duration":7161,"text":"go ahead and do the following um I'm going to do"},{"start_time":8659640,"end_time":8666920,"duration":7280,"text":"a git add G commit minus M front"},{"start_time":8666920,"end_time":8670960,"duration":4040,"text":"and chat"},{"start_time":8676720,"end_time":8684920,"duration":8200,"text":"interface another issue is the agent will call a tool when you don't want it to yeah that that's also true like"},{"start_time":8684920,"end_time":8691600,"duration":6680,"text":"having like an agent as we have here we don't say like the word or how to do the"},{"start_time":8691600,"end_time":8697560,"duration":5960,"text":"things we just give it a bunch of tools and we let it decide like when to call"},{"start_time":8697560,"end_time":8704279,"duration":6719,"text":"it how to call it and so on so yeah sometimes it's going to do things that you might not do but that's it's That's"},{"start_time":8704279,"end_time":8711600,"duration":7321,"text":"The Power of an autonomous agent mine likes to use the generate"},{"start_time":8711600,"end_time":8718000,"duration":6400,"text":"image tool anytime it writes an image generation prompt"},{"start_time":8723120,"end_time":8729080,"duration":5960,"text":"I highly doubt you're comfortable speaking like that when you are not behind the safety of the screen what do"},{"start_time":8729080,"end_time":8731240,"duration":2160,"text":"you"},{"start_time":8737240,"end_time":8743199,"duration":5959,"text":"mean oh you you have some beef chill guys it's"},{"start_time":8745399,"end_time":8751439,"duration":6040,"text":"okay okay so what do we want to do next"},{"start_time":8751439,"end_time":8754439,"duration":3000,"text":"guys"},{"start_time":8757600,"end_time":8763640,"duration":6040,"text":"um what do I want to do next I know what I want to do"},{"start_time":8763640,"end_time":8769520,"duration":5880,"text":"next um the next step is being able to"},{"start_time":8769520,"end_time":8775080,"duration":5560,"text":"start conversation about new videos because right now in our neon database"},{"start_time":8775080,"end_time":8780319,"duration":5239,"text":"we prefilled it with some transcripts from two different videos and we can"},{"start_time":8780319,"end_time":8785439,"duration":5120,"text":"talk about those videos by hardcoding some data what I want to do next is to"},{"start_time":8785439,"end_time":8793200,"duration":7761,"text":"be able to embed an index any kind of video that the user wants to talk about for that we"},{"start_time":8793200,"end_time":8801880,"duration":8680,"text":"need to allow that to happen and one step before reaching that because we're going to do that with Bri data uh before"},{"start_time":8801880,"end_time":8809120,"duration":7240,"text":"we do that I want to host our both client side and server side so that we"},{"start_time":8809120,"end_time":8818240,"duration":9120,"text":"later we're going to see see like how we can connect bright data back to our system to get this data about the video"},{"start_time":8818240,"end_time":8823600,"duration":5360,"text":"transcripts so what we're going to do is we now are going to host our server with"},{"start_time":8823600,"end_time":8828680,"duration":5080,"text":"jio go ahead jio.com where you can follow the link in the description by"},{"start_time":8828680,"end_time":8836080,"duration":7400,"text":"the way uh this part of the video is sponsored by jio so thank you very much jio for making this possible and you can"},{"start_time":8836080,"end_time":8841120,"duration":5040,"text":"go uh on janio you're going to go into products deployment"},{"start_time":8841120,"end_time":8847279,"duration":6159,"text":"platform and you can uh go ahead in the documentation create an"},{"start_time":8847279,"end_time":8854600,"duration":7321,"text":"account and you can see different Frameworks and tutorials how to um"},{"start_time":8854600,"end_time":8857080,"duration":2480,"text":"deploy"},{"start_time":8864279,"end_time":8870920,"duration":6641,"text":"them in the genesio CLI let's go ahead and install genesio first by doing npm"},{"start_time":8870920,"end_time":8876160,"duration":5240,"text":"install genesio DG in the terminal I'm going to do that"},{"start_time":8876160,"end_time":8882080,"duration":5920,"text":"here I already have it installed but it that is not bad to update it as well uh"},{"start_time":8882080,"end_time":8890000,"duration":7920,"text":"and then we have to run genesio login let me double check"},{"start_time":8892520,"end_time":8898239,"duration":5719,"text":"that yeah need this one but"},{"start_time":8909160,"end_time":8914880,"duration":5720,"text":"make sure to create a genesio account and then you're going to need"},{"start_time":8914880,"end_time":8921840,"duration":6960,"text":"the deployment the the API key from there and you're going to run"},{"start_time":8924200,"end_time":8932040,"duration":7840,"text":"genesio is it login I forgot like how to to connect it with our"},{"start_time":8935359,"end_time":8941359,"duration":6000,"text":"yes jio login to the platform so if you run jio"},{"start_time":8941399,"end_time":8946680,"duration":5281,"text":"login you're going to connect it with your account after that we can start"},{"start_time":8946680,"end_time":8953960,"duration":7280,"text":"deploying our application but before deploying I'm going to create um genesio"},{"start_time":8953960,"end_time":8962600,"duration":8640,"text":"do yaml file that will specify how do we want to deploy our po server and the"},{"start_time":8962600,"end_time":8967960,"duration":5360,"text":"client um VL uh I'll will also provide it in the guide so you don't have to"},{"start_time":8967960,"end_time":8976358,"duration":8398,"text":"write it but I will write it quickly so uh I will comment like what everything means so first we"},{"start_time":8976560,"end_time":8983840,"duration":7280,"text":"have let me do it like this so I have a reference so the name is going to be the"},{"start_time":8983840,"end_time":8991640,"duration":7800,"text":"name of our project let's call it YouTube chat"},{"start_time":8991640,"end_time":9002160,"duration":10520,"text":"application you can specify the region where you want to deploy it for example Us East one and let's do yaml version"},{"start_time":9002160,"end_time":9008520,"duration":6360,"text":"two next we we have two things one of them is the back end and another one"},{"start_time":9008520,"end_time":9015479,"duration":6959,"text":"later is going to be the front end but first let's focus on the back end the back end you specify the puff to it so"},{"start_time":9015479,"end_time":9020840,"duration":5361,"text":"the puff is This Server so let's say server then"},{"start_time":9020840,"end_time":9028720,"duration":7880,"text":"language uh we're going to say name is uh GS and you can also specify the"},{"start_time":9028720,"end_time":9038040,"duration":9320,"text":"package package manager in my case I will specify npm now back in this line with language"},{"start_time":9038040,"end_time":9043279,"duration":5239,"text":"we're going to also have a environment"},{"start_time":9043359,"end_time":9052040,"duration":8681,"text":"that I don't know we'll have for example the API URL which is going to be the actual URL of uh our"},{"start_time":9052040,"end_time":9059200,"duration":7160,"text":"API let's say ABC for a second after that in our back end we're"},{"start_time":9059200,"end_time":9064640,"duration":5440,"text":"going to have some functions the function that we're going to have let's"},{"start_time":9064640,"end_time":9072120,"duration":7480,"text":"say that it's going to be name API simply"},{"start_time":9072439,"end_time":9079680,"duration":7241,"text":"API the puff to that function is going to be because relative to the back and"},{"start_time":9079680,"end_time":9088319,"duration":8639,"text":"puff server our function is going to be this puff so it's going to be dot slash the"},{"start_time":9088319,"end_time":9093560,"duration":5241,"text":"Handler or the entry actually the entry is going to be index"},{"start_time":9093560,"end_time":9099560,"duration":6000,"text":"file so index dogs and the"},{"start_time":9099560,"end_time":9106040,"duration":6480,"text":"type is going to be HTTP server so Jano is going to run a"},{"start_time":9106040,"end_time":9111960,"duration":5920,"text":"function that is going to serve our express"},{"start_time":9111960,"end_time":9118160,"duration":6200,"text":"application now in this environment API URL I want the whole backend to have"},{"start_time":9118160,"end_time":9123960,"duration":5800,"text":"access to the URL of where is our backend deployed so we can access it"},{"start_time":9123960,"end_time":9131080,"duration":7120,"text":"dynamically like this by saying that I will look into the backend so"},{"start_time":9131080,"end_time":9140800,"duration":9720,"text":"backend dot functions functions. name API do URL and"},{"start_time":9140800,"end_time":9145960,"duration":5160,"text":"this is going to be uh provided as a environment variable API URL everywhere"},{"start_time":9145960,"end_time":9152439,"duration":6479,"text":"in our backend we're going to see why we need it later now that we have our back end"},{"start_time":9152439,"end_time":9158319,"duration":5880,"text":"done let's go ahead and focus on the front end in case of a front end"},{"start_time":9158319,"end_time":9165680,"duration":7361,"text":"um the path is going to be client we are going to say what do we"},{"start_time":9165680,"end_time":9173200,"duration":7520,"text":"want to publish and we're going to publish with this folder with this folder is something that is going to be"},{"start_time":9173200,"end_time":9180359,"duration":7159,"text":"generated uh if we run a script when we want to"},{"start_time":9180359,"end_time":9185960,"duration":5601,"text":"deploy npm run build so if we run npm run build in the client is going to"},{"start_time":9185960,"end_time":9193920,"duration":7960,"text":"generate um this dist folder and that this folder is what we want to send and"},{"start_time":9194399,"end_time":9199960,"duration":5561,"text":"publish uh finally we need some environment here as well as we have on"},{"start_time":9199960,"end_time":9209278,"duration":9318,"text":"the back end something similar to here where is it I need some"},{"start_time":9209680,"end_time":9215520,"duration":5840,"text":"spaces but in this case it's a little bit differently uh it should be prefix"},{"start_time":9215520,"end_time":9221399,"duration":5879,"text":"with vcore API URL if you do V it's going to be accessible in the client"},{"start_time":9221399,"end_time":9227160,"duration":5761,"text":"side code there that's it now let's go ahead open"},{"start_time":9227160,"end_time":9234000,"duration":6840,"text":"the terminal and try to uh you can also do genio local to run it locally or you"},{"start_time":9234000,"end_time":9241000,"duration":7000,"text":"can do jio deploy to deploy it to jio hosting it says that we detect that"},{"start_time":9241000,"end_time":9247720,"duration":6720,"text":"entropic and open Ai and DB URL are not set remotely do you want us to set them for you let's do yes and I think it's"},{"start_time":9247720,"end_time":9253119,"duration":5399,"text":"going to look for this configuration and set them remotely"},{"start_time":9268680,"end_time":9275319,"duration":6639,"text":"uh everything on the back end work correctly the front end this does not exist uh I was expecting it to run"},{"start_time":9275319,"end_time":9281479,"duration":6160,"text":"automatically npm run build oh I think the problem is here it should be scripts"},{"start_time":9281479,"end_time":9287880,"duration":6401,"text":"not script because I can run it myself but it should run automatically when the"},{"start_time":9287880,"end_time":9293760,"duration":5880,"text":"engine are deployed so let's try again by changing it to"},{"start_time":9310640,"end_time":9315720,"duration":5080,"text":"scripts and what do we see we see that the function is deployed we see that is"},{"start_time":9315720,"end_time":9320840,"duration":5120,"text":"building the back the front end we see that because we didn't provide any"},{"start_time":9320840,"end_time":9326680,"duration":5840,"text":"subdomain it automatically addited it for us in Vis jio yaml like this"},{"start_time":9326680,"end_time":9331760,"duration":5080,"text":"automatically generated we see the link to the application dashboard and the"},{"start_time":9331760,"end_time":9337399,"duration":5639,"text":"link to the front end if I open front end what's going to"},{"start_time":9337399,"end_time":9344800,"duration":7401,"text":"happen we see that our AI chat has been hosted and we can say hello and if it"},{"start_time":9344800,"end_time":9351920,"duration":7120,"text":"can connect with our backend as well that means that everything is perfect perly configured and as we can see it"},{"start_time":9351920,"end_time":9358399,"duration":6479,"text":"actually is and we can ask things about the video what is the video"},{"start_time":9358399,"end_time":9364240,"duration":5841,"text":"about and it's going to interact with our neon"},{"start_time":9364240,"end_time":9371760,"duration":7520,"text":"database it didn't know it didn't call the tool but later it it will everything"},{"start_time":9371760,"end_time":9376920,"duration":5160,"text":"works or maybe not let me actually try"},{"start_time":9376920,"end_time":9384000,"duration":7080,"text":"um what is the video topic based on"},{"start_time":9384319,"end_time":9389479,"duration":5160,"text":"the retrieved"},{"start_time":9389479,"end_time":9394600,"duration":5121,"text":"transcript being more specific like what it should do like you know like I don't"},{"start_time":9394600,"end_time":9402000,"duration":7400,"text":"have any retrieve transcript yet to search no you actually have"},{"start_time":9402000,"end_time":9407720,"duration":5720,"text":"um you actually have just try it trust"},{"start_time":9407720,"end_time":9411520,"duration":3800,"text":"me you have transcript"},{"start_time":9416560,"end_time":9422680,"duration":6120,"text":"will it believe me I think it does because it's yeah based on the retrieve transcript the video appears to be about"},{"start_time":9422680,"end_time":9429800,"duration":7120,"text":"up development uh blah blah blah and so on and so on perfect"},{"start_time":9429800,"end_time":9436600,"duration":6800,"text":"amazing so this URL now is publicly accessible because we use jio to to host"},{"start_time":9436600,"end_time":9442000,"duration":5400,"text":"it very easily I will give it to you but I don't know if I"},{"start_time":9442000,"end_time":9446880,"duration":4880,"text":"should give it to you but you saw it so it"},{"start_time":9447399,"end_time":9453160,"duration":5761,"text":"depends uh if we open here janio in the dashboard we see that we have a function"},{"start_time":9453160,"end_time":9460160,"duration":7000,"text":"and we have a front end if you want to debug the functions you're going to go into the"},{"start_time":9460160,"end_time":9468080,"duration":7920,"text":"monitoring or into the logs and you're going to see different logs from your function calls you actually here just"},{"start_time":9468080,"end_time":9475960,"duration":7880,"text":"try it this is very um input so yeah this is how easy it is to"},{"start_time":9475960,"end_time":9483840,"duration":7880,"text":"deploy uh full stack applications both front end and back end with genesio perfect now in The Next Step let"},{"start_time":9483840,"end_time":9489000,"duration":5160,"text":"me actually go ahead and do get add"},{"start_time":9489000,"end_time":9495600,"duration":6600,"text":"deploy to genesio in the next step we are going to"},{"start_time":9495600,"end_time":9501439,"duration":5839,"text":"um add functionalities to interact with bright data and to"},{"start_time":9501600,"end_time":9506760,"duration":5160,"text":"scrape the transcripts of the videos that the user"},{"start_time":9511000,"end_time":9518600,"duration":7600,"text":"needs seems like convex would be a better option for the database how did you settle on new one"},{"start_time":9518600,"end_time":9525760,"duration":7160,"text":"uh I just wanted something simple like postgress and that's why like when I need just a simple"},{"start_time":9525760,"end_time":9532040,"duration":6280,"text":"barebone pogress I go to to new one but but um I haven't worked with convex yet"},{"start_time":9532040,"end_time":9538160,"duration":6120,"text":"actually and I'm pretty sure like if it's build like exactly for for for that"},{"start_time":9538160,"end_time":9545000,"duration":6840,"text":"one it would be better but it's super simple to change the only thing that you would have to change is in the"},{"start_time":9545000,"end_time":9551600,"duration":6600,"text":"server in our embedding here in the vector store you're going to initialize"},{"start_time":9551600,"end_time":9557640,"duration":6040,"text":"a different Vector store and L chain integrates with convex HS it's possible"},{"start_time":9557640,"end_time":9562760,"duration":5120,"text":"like that as well give me one second I'm going to take a very very short break"},{"start_time":9562760,"end_time":9566680,"duration":3920,"text":"and I come back and we continue with our"},{"start_time":9588319,"end_time":9592359,"duration":4040,"text":"implementation for"},{"start_time":9647200,"end_time":9651200,"duration":4000,"text":"hello so"},{"start_time":9653560,"end_time":9657438,"duration":3878,"text":"let me just double check"},{"start_time":9666800,"end_time":9675800,"duration":9000,"text":"something um I'm thinking how to design the user"},{"start_time":9675800,"end_time":9679800,"duration":4000,"text":"experience of"},{"start_time":9680920,"end_time":9688560,"duration":7640,"text":"of starting of of indexing a video that's that's"},{"start_time":9688560,"end_time":9694560,"duration":6000,"text":"what I wanted to say my initial idea was before we"},{"start_time":9694560,"end_time":9700880,"duration":6320,"text":"start and actually I had it before we start an AI chat we have to we have an"},{"start_time":9700880,"end_time":9707640,"duration":6760,"text":"input we have a um an input where we put the video ID not the video ID the video"},{"start_time":9707640,"end_time":9712800,"duration":5160,"text":"URL and then we take take the URL we scrape it we index it and only then we"},{"start_time":9712800,"end_time":9718800,"duration":6000,"text":"open up the chat and we can talk with that video now that now that I'm thinking"},{"start_time":9718800,"end_time":9725520,"duration":6720,"text":"wouldn't it be better if we just have a chat interface and we paste a YouTube"},{"start_time":9725520,"end_time":9730640,"duration":5120,"text":"video here and we start talking about it then we paste another video here and we"},{"start_time":9730640,"end_time":9740000,"duration":9360,"text":"talk about it and so on what do you think um how should we index videos"},{"start_time":9740000,"end_time":9748160,"duration":8160,"text":"more free flow in a chat way where our AI agent is going to have a tool that"},{"start_time":9748160,"end_time":9754160,"duration":6000,"text":"knows how to index videos or a more structured way where we have like an"},{"start_time":9754160,"end_time":9760560,"duration":6400,"text":"input give me the video ID I'm going to index it and then we open a chart with that"},{"start_time":9760560,"end_time":9767720,"duration":7160,"text":"video let me know in the comments like in the in the chat what what do you think would be better what you would"},{"start_time":9767720,"end_time":9773200,"duration":5480,"text":"like to see for example come"},{"start_time":9779319,"end_time":9785040,"duration":5721,"text":"on because there let me close some of the stuff"},{"start_time":9785040,"end_time":9793640,"duration":8600,"text":"down this is we need it I don't need this ones"},{"start_time":9814439,"end_time":9824359,"duration":9920,"text":"because in any way we're going to use Bri data to uh to fetch or to scrape the"},{"start_time":9824359,"end_time":9831080,"duration":6721,"text":"video data from YouTube we already saw how to do that uh uh and what we did is"},{"start_time":9831080,"end_time":9837439,"duration":6359,"text":"we want to Bright data we created an account then under web scrapers we go to"},{"start_time":9837439,"end_time":9843479,"duration":6040,"text":"web scrapers Library we are searching for YouTube and we see that there are"},{"start_time":9843479,"end_time":9851439,"duration":7960,"text":"eight different scrapers for YouTube while we are interested in this collect videos by URL so I'm going to click on"},{"start_time":9851439,"end_time":9859479,"duration":8040,"text":"it scrape our API let's do next and here in the API request Builder"},{"start_time":9861319,"end_time":9866600,"duration":5281,"text":"in the API request Builder we add the API token we add some inputs and we see"},{"start_time":9866600,"end_time":9875560,"duration":8960,"text":"a c command in this part we can also see how we can do that from node using fetch if"},{"start_time":9875560,"end_time":9881920,"duration":6360,"text":"I do that I can and also if I'm going to do a couple"},{"start_time":9881920,"end_time":9889040,"duration":7120,"text":"of things I need to include the errors that's good and I don't need to delete"},{"start_time":9889040,"end_time":9895960,"duration":6920,"text":"deliver results to S free storage I'm going to unselect that one but I want to send it to a web hook sending the"},{"start_time":9895960,"end_time":9902920,"duration":6960,"text":"response to a web hook uh the way it's going to work is oh I didn't show the the"},{"start_time":9902920,"end_time":9910840,"duration":7920,"text":"parts let me do it again so the thing is that uh we are"},{"start_time":9910840,"end_time":9919000,"duration":8160,"text":"still going to use bright data so going on bright data um dashboard we're going to go under web"},{"start_time":9919000,"end_time":9925960,"duration":6960,"text":"scrapers come on why it's not changing here so bright data dashboard web"},{"start_time":9925960,"end_time":9931160,"duration":5200,"text":"scrapers web scrapers library and we are searching for"},{"start_time":9931160,"end_time":9938279,"duration":7119,"text":"YouTube we're looking at the YouTube videos post and we select scraper"},{"start_time":9938279,"end_time":9944960,"duration":6681,"text":"API here we see that we already saw in the API request"},{"start_time":9944960,"end_time":9950000,"duration":5040,"text":"Builder but we just send the URL of a video and as a result we're going to get"},{"start_time":9950000,"end_time":9956880,"duration":6880,"text":"the scrape data including the transcript we're going to configure it a"},{"start_time":9956880,"end_time":9963000,"duration":6120,"text":"little bit for example I'm going to delete and leave only one input it's going to be"},{"start_time":9963000,"end_time":9968160,"duration":5160,"text":"easier for me to see there eror I'm going to deselect deliver results to"},{"start_time":9968160,"end_time":9974840,"duration":6680,"text":"external storage and I'm going to send send to web hook that means"},{"start_time":9974840,"end_time":9980120,"duration":5280,"text":"that when we send this request to to Bri"},{"start_time":9980120,"end_time":9985640,"duration":5520,"text":"dat data set trigger we are sending a request to start the scraping job but"},{"start_time":9985640,"end_time":9991399,"duration":5759,"text":"because scraping jobs can be it's a long time task it can be a couple of seconds"},{"start_time":9991399,"end_time":9997800,"duration":6401,"text":"but if there is lots of data it can be minutes um depending on the collection"},{"start_time":9997800,"end_time":10003439,"duration":5639,"text":"this one we see that on average is 7 Seconds anyway instead of waiting for"},{"start_time":10003439,"end_time":10010640,"duration":7201,"text":"the result we just trigger the request and then we can either re send another"},{"start_time":10010640,"end_time":10016120,"duration":5480,"text":"request to check the status where we can give Bri data a"},{"start_time":10016120,"end_time":10023160,"duration":7040,"text":"URL that bright data is going to call when it finishes the scraping job that's"},{"start_time":10023160,"end_time":10028240,"duration":5080,"text":"what we're going to do we're going to do here let's do"},{"start_time":10029399,"end_time":10037319,"duration":7920,"text":"HTTP example.com and later we're going to fetch it change"},{"start_time":10037319,"end_time":10042640,"duration":5321,"text":"it let's do example com/"},{"start_time":10042640,"end_time":10049359,"duration":6719,"text":"webhook this means that hey bright data when you finish scraping this job send"},{"start_time":10049359,"end_time":10057720,"duration":8361,"text":"this data here and the file format I'm going to leave it to Json and in"},{"start_time":10057720,"end_time":10064240,"duration":6520,"text":"the example request instead of Linux bash I'm going to do node fetch here is"},{"start_time":10064240,"end_time":10070359,"duration":6119,"text":"a good example of how we can send this request let me copy it let's go in our"},{"start_time":10070359,"end_time":10080760,"duration":10401,"text":"server and I'm going to call create a new uh new file let's call it bright"},{"start_time":10080760,"end_time":10086560,"duration":5800,"text":"dat. GS and let's export"},{"start_time":10086560,"end_time":10092840,"duration":6280,"text":"const uh start"},{"start_time":10092840,"end_time":10099398,"duration":6558,"text":"or Trigger YouTube video"},{"start_time":10103319,"end_time":10110160,"duration":6841,"text":"scrape we have the URL of a video and what we have to do is we're going to"},{"start_time":10110160,"end_time":10115600,"duration":5440,"text":"paste the code that bright data gave us so we're going to change it a little bit"},{"start_time":10115600,"end_time":10122520,"duration":6920,"text":"for example we do not need to import fetch from anywhere I'm going to remove it because it's going to be there in the"},{"start_time":10122520,"end_time":10131240,"duration":8720,"text":"data this is the input so this is the URL that is going to be um s here so what I'm going to do is"},{"start_time":10131240,"end_time":10138561,"duration":7321,"text":"maybe I'm going to call this trigger scrape input with this"},{"start_time":10138840,"end_time":10146720,"duration":7880,"text":"URL not with this URL with this URL and here I'm going to Simply take"},{"start_time":10146720,"end_time":10151960,"duration":5240,"text":"the URL from the parameters and send it to Bright data like"},{"start_time":10151960,"end_time":10157000,"duration":5040,"text":"this maybe we can adjust it to send multiple uh videos as well but for now"},{"start_time":10157000,"end_time":10162840,"duration":5840,"text":"it's good like this then what we do here is we send a fetch"},{"start_time":10162840,"end_time":10168000,"duration":5160,"text":"to this long URL but let's break it down"},{"start_time":10168000,"end_time":10172160,"duration":4160,"text":"for example I'm going to break it down"},{"start_time":10174279,"end_time":10180200,"duration":5921,"text":"into maybe like this everything until slash"},{"start_time":10180200,"end_time":10189160,"duration":8960,"text":"trigger let's do here const bright data trigger URL is going"},{"start_time":10189160,"end_time":10196000,"duration":6840,"text":"to be equal to this one let's take it and let's transform"},{"start_time":10196000,"end_time":10201561,"duration":5561,"text":"this URL into a template string with your back"},{"start_time":10201800,"end_time":10210479,"duration":8679,"text":"ticks come on back tick here so that we can replace"},{"start_time":10210479,"end_time":10216720,"duration":6241,"text":"this URL with simply saying bright data trigger URL then we"},{"start_time":10216720,"end_time":10224120,"duration":7400,"text":"have data set ID data set ID identifies this YouTube video post data set it can"},{"start_time":10224120,"end_time":10230600,"duration":6480,"text":"also be dynamic if you want I leave it like this endp point is where do we want"},{"start_time":10230600,"end_time":10239120,"duration":8520,"text":"to send the results to where do we want to send the results to well we want to send it back to our"},{"start_time":10239120,"end_time":10247080,"duration":7960,"text":"API back to our server so in our index here let's go ahead and"},{"start_time":10247080,"end_time":10254120,"duration":7040,"text":"create a post post request called Web"},{"start_time":10255880,"end_time":10261800,"duration":5920,"text":"hook request response and let's simply go conso log request."},{"start_time":10261800,"end_time":10269880,"duration":8080,"text":"body to see what data we're going to receive here now we have to say hey Bri data"},{"start_time":10269880,"end_time":10275880,"duration":6000,"text":"simply call back the server here at SL"},{"start_time":10275880,"end_time":10285560,"duration":9680,"text":"web hook but the URL we don't know we can hardcode it from uh from genisio"},{"start_time":10285560,"end_time":10290800,"duration":5240,"text":"platform but remember in jio yaml we said that we're going to give a"},{"start_time":10290800,"end_time":10296160,"duration":5360,"text":"environment variable called API URL that's what we why we need it we need it"},{"start_time":10296160,"end_time":10304760,"duration":8600,"text":"to dynamically say hey the const call"},{"start_time":10304760,"end_time":10309840,"duration":5080,"text":"back or web hook URL is going to be this"},{"start_time":10309840,"end_time":10317960,"duration":8120,"text":"one but actually it's going to be I'm going to change here"},{"start_time":10317960,"end_time":10323680,"duration":5720,"text":"to process. env. API URL SL"},{"start_time":10323680,"end_time":10330960,"duration":7280,"text":"webhook b/ web Hook is important because it's our endpoint implemented"},{"start_time":10330960,"end_time":10337399,"duration":6439,"text":"here okay so let's change the endpoint here pay attention of how we're going to"},{"start_time":10337399,"end_time":10344319,"duration":6920,"text":"do it this HTTP example.com webhook Until the End we're going to delete and"},{"start_time":10344319,"end_time":10351439,"duration":7120,"text":"replace it with the web hook URL then we have format Json is good uncompressed"},{"start_time":10351439,"end_time":10356680,"duration":5241,"text":"web hook true and include errors true everything is good here now the method"},{"start_time":10356680,"end_time":10365439,"duration":8759,"text":"is post authorization uh headers this is the bright data uh your API key so it's"},{"start_time":10365439,"end_time":10372359,"duration":6920,"text":"better to take it from here and add it to the environment variables as bright"},{"start_time":10372359,"end_time":10375080,"duration":2721,"text":"data API"},{"start_time":10381840,"end_time":10389080,"duration":7240,"text":"key and back here we're going to replace it again with"},{"start_time":10389080,"end_time":10393960,"duration":4880,"text":"a with process.env"},{"start_time":10394479,"end_time":10400640,"duration":6161,"text":"do bright come on should be bright data API"},{"start_time":10400640,"end_time":10405800,"duration":5160,"text":"key then content type Json and for the body we give this"},{"start_time":10405800,"end_time":10412479,"duration":6679,"text":"data I don't like the dot van so what I'm going to do I'm going to before fetch I'm going to say"},{"start_time":10412479,"end_time":10420080,"duration":7601,"text":"const response equal a weight then I'm going to put here I'm"},{"start_time":10420080,"end_time":10427920,"duration":7840,"text":"going to stop and what we have then we have data so const data equal a weit"},{"start_time":10427920,"end_time":10435080,"duration":7160,"text":"response Json and that's it and maybe you can also do a try"},{"start_time":10435080,"end_time":10444200,"duration":9120,"text":"catch maybe we can do result and we can do console log"},{"start_time":10444680,"end_time":10450520,"duration":5840,"text":"result and this is our function that is going to trigger a scraping job for a"},{"start_time":10450520,"end_time":10460560,"duration":10040,"text":"video URL we can do that by again we simply call it here maybe we"},{"start_time":10460560,"end_time":10468640,"duration":8080,"text":"can we should call it at the end right not at the top so we can give here a YouTube url"},{"start_time":10468640,"end_time":10476720,"duration":8080,"text":"like this one and we can do let's do CD"},{"start_time":10476720,"end_time":10484880,"duration":8160,"text":"server clear and I'm going to do node EnV file and"},{"start_time":10484880,"end_time":10491239,"duration":6359,"text":"let's run the BR data GS this"},{"start_time":10491239,"end_time":10497160,"duration":5921,"text":"function so we see that as a result we get the snapshot ID if we look into the"},{"start_time":10497160,"end_time":10504279,"duration":7119,"text":"Bri data logs we should have a new job here and"},{"start_time":10504279,"end_time":10509920,"duration":5641,"text":"if we look at this snapshot ID ending with 9 Q this is the last one here it"},{"start_time":10509920,"end_time":10518080,"duration":8160,"text":"took 5 Seconds to complete we can download or we can check what happened"},{"start_time":10518080,"end_time":10521479,"duration":3399,"text":"there with the"},{"start_time":10523439,"end_time":10528640,"duration":5201,"text":"endpoint um we haven't deployed it yet so give me a"},{"start_time":10528640,"end_time":10534319,"duration":5679,"text":"second but if we look here back in our API"},{"start_time":10534319,"end_time":10543238,"duration":8919,"text":"request Builder and you put here the URL of our genesio let's"},{"start_time":10543760,"end_time":10548920,"duration":5160,"text":"see uh let's first stop this one and let's deploy"},{"start_time":10548920,"end_time":10554160,"duration":5240,"text":"our update our update has this SL web"},{"start_time":10554160,"end_time":10561239,"duration":7079,"text":"hook endpoint yeah because we need to go one"},{"start_time":10561239,"end_time":10566479,"duration":5240,"text":"above to be in the root we detected a new bright data let's"},{"start_time":10566479,"end_time":10571479,"duration":5000,"text":"set it remotely automatically for us"},{"start_time":10592680,"end_time":10601479,"duration":8799,"text":"um so we see that the function API is this URL so I can copy it and basically"},{"start_time":10601479,"end_time":10607040,"duration":5561,"text":"use this one in the notify URL or no in the send web hook so send"},{"start_time":10607040,"end_time":10612160,"duration":5120,"text":"to web hook web hook URL this URL of my"},{"start_time":10612160,"end_time":10616880,"duration":4720,"text":"function you can also open it in the"},{"start_time":10622279,"end_time":10628479,"duration":6200,"text":"dashboard and here you're going to see a function URL"},{"start_time":10628479,"end_time":10635600,"duration":7121,"text":"and we need to also do slash web hook you can also press test web"},{"start_time":10635600,"end_time":10643640,"duration":8040,"text":"hook and this is going to test send a test result and we see test sent successfully if we go into the jio into"},{"start_time":10643640,"end_time":10650960,"duration":7320,"text":"the logs we're going to see a test a request body this was the test"},{"start_time":10650960,"end_time":10656278,"duration":5318,"text":"that was sent for us and we received it in our"},{"start_time":10656680,"end_time":10665399,"duration":8719,"text":"backend uh in our backend invest SL web hook that means that now if I am going"},{"start_time":10665399,"end_time":10672200,"duration":6801,"text":"to invoke the same function again for"},{"start_time":10672200,"end_time":10678520,"duration":6320,"text":"example Trigger YouTube video with this URL by this is a little bit hacky right"},{"start_time":10678520,"end_time":10683800,"duration":5280,"text":"now but in a second we're going to connect it with our API and it's going to make a lot more sense but I want to"},{"start_time":10683800,"end_time":10689200,"duration":5400,"text":"trigger a new scraping job and I want it to automatically call our web hook so if"},{"start_time":10689200,"end_time":10695319,"duration":6119,"text":"I go into the server and do node bright data GS that"},{"start_time":10695319,"end_time":10702040,"duration":6721,"text":"is calling this function we see this snapshot and this"},{"start_time":10702040,"end_time":10707920,"duration":5880,"text":"snapshot if I look into the logs it's ready and it's supposed to call our"},{"start_time":10707920,"end_time":10714279,"duration":6359,"text":"backend and if I reload we see yes we did um actually no"},{"start_time":10714279,"end_time":10720399,"duration":6120,"text":"it didn't you know why I know why because I'm running it"},{"start_time":10720399,"end_time":10728439,"duration":8040,"text":"locally and locally the web hook URL is not setting is not"},{"start_time":10728439,"end_time":10735800,"duration":7361,"text":"correct so that's why we need to do it remotely uh but yeah the next question"},{"start_time":10735800,"end_time":10743319,"duration":7519,"text":"is uh should I when should I call this Trigger YouTube video scrape should I create a tool out of"},{"start_time":10743319,"end_time":10748760,"duration":5441,"text":"it and give it to my uh let's try to"},{"start_time":10748760,"end_time":10757398,"duration":8638,"text":"create it as a tool let's try to create it as a tool"},{"start_time":10759080,"end_time":10764640,"duration":5560,"text":"I haven't tried it creating it as a tool um make sure to to remove it from"},{"start_time":10764640,"end_time":10771200,"duration":6560,"text":"here as a tool in our agent uh When I Was preparing I did it like with uh a"},{"start_time":10771200,"end_time":10776680,"duration":5480,"text":"input here so you input the YouTube video URL and then you talk with it but"},{"start_time":10776680,"end_time":10781760,"duration":5080,"text":"I think it would make more sense to see at least how we can do it with a tool in"},{"start_time":10781760,"end_time":10789800,"duration":8040,"text":"our agent so let's go ahead in our agent and create here a tool"},{"start_time":10789800,"end_time":10796039,"duration":6239,"text":"const um Trigger YouTube"},{"start_time":10796399,"end_time":10800040,"duration":3641,"text":"scrape scrape"},{"start_time":10804319,"end_time":10809640,"duration":5321,"text":"tool now it has a function that does something and some"},{"start_time":10809640,"end_time":10816040,"duration":6400,"text":"configuration for example name it can be Trigger YouTube scrape tool and"},{"start_time":10816040,"end_time":10821880,"duration":5840,"text":"description description trigger the scraping of a YouTube"},{"start_time":10821880,"end_time":10829120,"duration":7240,"text":"video using it using the"},{"start_time":10829279,"end_time":10834880,"duration":5601,"text":"URL the tool will"},{"start_time":10834880,"end_time":10843920,"duration":9040,"text":"not will uh start a scraping job that usually I will give it"},{"start_time":10843920,"end_time":10849359,"duration":5439,"text":"more context to know how to use it maybe I can do it even in in new"},{"start_time":10849359,"end_time":10855439,"duration":6080,"text":"lines like this The Tool uh that usually"},{"start_time":10855439,"end_time":10863520,"duration":8081,"text":"takes around 7 seconds maybe later we can give it a tool to also ask for um"},{"start_time":10863520,"end_time":10870279,"duration":6759,"text":"the status of jobs the tool will return the job ID"},{"start_time":10870279,"end_time":10878680,"duration":8401,"text":"that can be used to check the status of a scraping job this is a bit the tool will return the job ID"},{"start_time":10878680,"end_time":10886160,"duration":7480,"text":"should I just from Bright data here because it returns an object with"},{"start_time":10886160,"end_time":10893680,"duration":7520,"text":"snapshot ID should I just return snapshot ID I think so let's just do return"},{"start_time":10893840,"end_time":10899720,"duration":5880,"text":"results dot snapshot"},{"start_time":10903720,"end_time":10909120,"duration":5400,"text":"ID the tool will return the snap"},{"start_time":10909120,"end_time":10915561,"duration":6441,"text":"shot slash job ID that can be use"},{"start_time":10918479,"end_time":10925319,"duration":6840,"text":"okay use the tool only if a video is not in the vector store"},{"start_time":10925319,"end_time":10933880,"duration":8561,"text":"already in the schema we need the URL and we are going to get it here as"},{"start_time":10934920,"end_time":10942399,"duration":7479,"text":"URL what we need to do with it is we need to say hey snapshot ID return"},{"start_time":10942399,"end_time":10950800,"duration":8401,"text":"Trigger YouTube video from Bright data let's do console.log triggering"},{"start_time":10950800,"end_time":10954520,"duration":3720,"text":"YouTube video scrape and this"},{"start_time":10956560,"end_time":10961720,"duration":5160,"text":"one that's cool that because now if I'm going to make sure to run the server and"},{"start_time":10961720,"end_time":10967880,"duration":6160,"text":"run the front end locally and if I'm going to go to local"},{"start_time":10967880,"end_time":10973840,"duration":5960,"text":"call host uh what's"},{"start_time":10974200,"end_time":10979641,"duration":5441,"text":"the the API for the Local Host it's this"},{"start_time":10982279,"end_time":10989560,"duration":7281,"text":"one if I will say uh I will go ahead and take a YouTube"},{"start_time":10989560,"end_time":10994680,"duration":5120,"text":"url but wait a second I forgot one thing I forgot to take the trigger YouTube"},{"start_time":10994680,"end_time":10999760,"duration":5080,"text":"video scrape tool and give it to my agent"},{"start_time":11003479,"end_time":11012120,"duration":8641,"text":"now if I'm going to go ahead and take a video for let me see what exactly I want"},{"start_time":11014160,"end_time":11020879,"duration":6719,"text":"here I don't know what to [Music]"},{"start_time":11026319,"end_time":11032160,"duration":5841,"text":"say I'm going to do also F1"},{"start_time":11032160,"end_time":11039720,"duration":7560,"text":"so if I take this URL and send it here can we talk"},{"start_time":11039720,"end_time":11044960,"duration":5240,"text":"about this and if I send this is a very"},{"start_time":11044960,"end_time":11050359,"duration":5399,"text":"interesting this is a very specific prompt saying that hey I want to scrape"},{"start_time":11050359,"end_time":11056720,"duration":6361,"text":"this video let's see what's going to do what's going to happen if I look in the"},{"start_time":11056720,"end_time":11062319,"duration":5599,"text":"logs for our server we see the triggering YouTube scrape job for this"},{"start_time":11062319,"end_time":11070438,"duration":8119,"text":"video ID for this video ID and it's not finished"},{"start_time":11070520,"end_time":11076039,"duration":5519,"text":"yet YouTube video scrip scrape"},{"start_time":11080160,"end_time":11086319,"duration":6159,"text":"triggered so it has a snap snapshot ID and what it does based on the"},{"start_time":11086319,"end_time":11091720,"duration":5401,"text":"information covered from the video transcript I can provide you with a summary of a YouTube YouTube video"},{"start_time":11091720,"end_time":11100640,"duration":8920,"text":"summary building a custom scrolling component in react native no that's not really true that's not really true and we are"},{"start_time":11100640,"end_time":11107080,"duration":6440,"text":"going to have to adjust it a little bit that's because now that we are"},{"start_time":11107080,"end_time":11115520,"duration":8440,"text":"working with URLs and video IDs like this it's not longer going to"},{"start_time":11115520,"end_time":11122080,"duration":6560,"text":"be part like in the retrieve tool it's no longer going to be the video ID"},{"start_time":11122080,"end_time":11128000,"duration":5920,"text":"here so I'm going to remove this configurable video ID or"},{"start_time":11129600,"end_time":11138439,"duration":8839,"text":"maybe let me do it like this and I'm going to take it from here from the"},{"start_time":11138439,"end_time":11143560,"duration":5121,"text":"parameters that our tool is going to receive and it's going to be the llm"},{"start_time":11143560,"end_time":11148800,"duration":5240,"text":"that is going to decide what the video ID is so again giving more control to"},{"start_time":11148800,"end_time":11154600,"duration":5800,"text":"the llm in here we're going to say in the schema that we have"},{"start_time":11154600,"end_time":11162479,"duration":7879,"text":"the video ID but we can also describe the ID of a video to"},{"start_time":11163399,"end_time":11172279,"duration":8880,"text":"retrieve yeah for a"},{"start_time":11172279,"end_time":11179840,"duration":7561,"text":"specific YouTube video now if I'm going to go ahead and"},{"start_time":11179840,"end_time":11185960,"duration":6120,"text":"say the same thing can we talk about"},{"start_time":11192560,"end_time":11196520,"duration":3960,"text":"this it's going to do that"},{"start_time":11197920,"end_time":11205479,"duration":7559,"text":"trigger and then is going to try to use the data from newon the thing is that it's not ready yet like our trigger even"},{"start_time":11205479,"end_time":11211439,"duration":5960,"text":"though we are triggering it the data is not stored in"},{"start_time":11211439,"end_time":11216520,"duration":5081,"text":"the in the database yet we didn't complete the loop yet so that's why we"},{"start_time":11216520,"end_time":11223279,"duration":6759,"text":"say I apology but it looks like the video content is still being processed and is available for me to retrieve information yet this typically takes"},{"start_time":11223279,"end_time":11230760,"duration":7481,"text":"around 7 seconds but sometimes it can take a bit longer that means that even though scraping job was correctly"},{"start_time":11230760,"end_time":11236960,"duration":6200,"text":"triggered as we can see here it's correctly triggered by our"},{"start_time":11236960,"end_time":11246760,"duration":9800,"text":"agent uh we need to deploy it and make sure that our SL"},{"start_time":11246760,"end_time":11252960,"duration":6200,"text":"web hook receives the requestbody but not only do we need to"},{"start_time":11252960,"end_time":11259359,"duration":6399,"text":"receive a request. body we need to index them how do we do"},{"start_time":11259359,"end_time":11267720,"duration":8361,"text":"that well request. body is basically similar to this data. GS it's an array"},{"start_time":11267720,"end_time":11276120,"duration":8400,"text":"with videos it can be one video it can be multiple video at the same time we have embeddings which has a"},{"start_time":11276120,"end_time":11282160,"duration":6040,"text":"function add video to Vector store which expects a video data so in"},{"start_time":11282160,"end_time":11289319,"duration":7159,"text":"our server index in the web hook what we need to do is we need"},{"start_time":11289920,"end_time":11296960,"duration":7040,"text":"to in a simple way we need to do a weight making it a sync first add video"},{"start_time":11296960,"end_time":11303479,"duration":6519,"text":"to vector store requestbody sl0 because the body is"},{"start_time":11303479,"end_time":11309000,"duration":5521,"text":"going to be an array and I can show you that by looking into the logs of genesio"},{"start_time":11309000,"end_time":11314840,"duration":5840,"text":"logs we see bodies and array but if you want to store all of"},{"start_time":11314840,"end_time":11322319,"duration":7479,"text":"them what we have to do is we have to say request. body. map for every single"},{"start_time":11322319,"end_time":11328200,"duration":5881,"text":"video data there we want to addit"},{"start_time":11328840,"end_time":11335399,"duration":6559,"text":"to um to the vector store and because this is an array of promises we're going"},{"start_time":11335399,"end_time":11343840,"duration":8441,"text":"to put it into a weit promise. all and say that hey a wait storing all"},{"start_time":11343840,"end_time":11348120,"duration":4280,"text":"the data and only then finish"},{"start_time":11348960,"end_time":11355080,"duration":6120,"text":"it return okay so now if we"},{"start_time":11355080,"end_time":11361800,"duration":6720,"text":"deploy uh I will probably do that"},{"start_time":11361800,"end_time":11368760,"duration":6960,"text":"um there is one more small thing that we need to take care of and instead of"},{"start_time":11368760,"end_time":11377640,"duration":8880,"text":"showing you the problem first let me explain it usually the express are going to"},{"start_time":11377640,"end_time":11385160,"duration":7520,"text":"limit how big the body of the post request can be however in our case if we"},{"start_time":11385160,"end_time":11391880,"duration":6720,"text":"are fetching the if we are scraping a podcast of 4 hours that's going to have a lot of data so it can be a couple of"},{"start_time":11391880,"end_time":11397439,"duration":5559,"text":"kilobytes couple of hundred kilobytes so in V express. Json we can give a option"},{"start_time":11397439,"end_time":11406600,"duration":9161,"text":"here to increase the limit of that data I can even do 200 megabytes I'm just"},{"start_time":11406600,"end_time":11413279,"duration":6679,"text":"just to make sure that it's going to work now that I have this one here let me go ahead and deploy everything to"},{"start_time":11413279,"end_time":11420880,"duration":7601,"text":"production using um jio"},{"start_time":11436680,"end_time":11442279,"duration":5599,"text":"deploy and we're no longer going to test it locally we're going to test it the"},{"start_time":11442279,"end_time":11448720,"duration":6441,"text":"deployed one so we see front and URL you can copy"},{"start_time":11448720,"end_time":11455760,"duration":7040,"text":"it we can go here and we can start by copying a URL"},{"start_time":11455760,"end_time":11462120,"duration":6360,"text":"let's go back to our application and let's talk about and let's do the"},{"start_time":11462120,"end_time":11470080,"duration":7960,"text":"video URL now if we look really quickly here on uh bright data I think it's supposed"},{"start_time":11470080,"end_time":11475680,"duration":5600,"text":"to to trigger a new job here yes it's running and this bright"},{"start_time":11475680,"end_time":11482120,"duration":6440,"text":"data job should call back back our API at/ web hook we're going to see that in"},{"start_time":11482120,"end_time":11489239,"duration":7119,"text":"the logs here I don't think we logged anything but we see that the function"},{"start_time":11489239,"end_time":11495800,"duration":6561,"text":"call at 51 just now which means that in newon if everything work correctly in"},{"start_time":11495800,"end_time":11504358,"duration":8558,"text":"neon database we should already have information about a"},{"start_time":11504439,"end_time":11510760,"duration":6321,"text":"video from a new from a new video I that is this four L at the end so if I"},{"start_time":11510760,"end_time":11517860,"duration":7100,"text":"look here in the new on [Music]"},{"start_time":11524160,"end_time":11531560,"duration":7400,"text":"database this is still that one and if I scroll there are a lot of them"},{"start_time":11531560,"end_time":11537318,"duration":5758,"text":"so let's do like this"},{"start_time":11545479,"end_time":11550680,"duration":5201,"text":"this is the last page if I look at the end it didn't work right I don't think"},{"start_time":11550680,"end_time":11552880,"duration":2200,"text":"it"},{"start_time":11565840,"end_time":11569120,"duration":3280,"text":"did uh"},{"start_time":11574920,"end_time":11581960,"duration":7040,"text":"um I need to double check if it actually was scraped"},{"start_time":11582279,"end_time":11588120,"duration":5841,"text":"correctly so video this one can I do a"},{"start_time":11588120,"end_time":11595479,"duration":7359,"text":"filter here where metadata"},{"start_time":11598080,"end_time":11601000,"duration":2920,"text":"but metadata is"},{"start_time":11606200,"end_time":11613520,"duration":7320,"text":"it oh no yeah here it is Louis congrats you see for it's a small video so it's"},{"start_time":11613520,"end_time":11618840,"duration":5320,"text":"four chunks at the end uh if I search here you see that"},{"start_time":11618840,"end_time":11625359,"duration":6519,"text":"these four chunks are about this video so what I can say here now is uh is it"},{"start_time":11625359,"end_time":11630399,"duration":5040,"text":"ready yet and it's supposed to already look into"},{"start_time":11630399,"end_time":11636920,"duration":6521,"text":"the neon database instead of triggering a new one did it trigger a new"},{"start_time":11637080,"end_time":11646080,"duration":9000,"text":"one uh this is now is 53 so I don't see a new job being triggered which is very"},{"start_time":11646080,"end_time":11653239,"duration":7159,"text":"good and the answer is great news the video content is now available based on what uh I've retrieved this appear to be"},{"start_time":11653239,"end_time":11660080,"duration":6841,"text":"a video about Formula 1 racing specifically featuring Louis Hamilton here is what I can tell you from the"},{"start_time":11660080,"end_time":11668439,"duration":8359,"text":"content uh how did Louis what was"},{"start_time":11668439,"end_time":11675560,"duration":7121,"text":"Louis last uh words last words not not that bad like"},{"start_time":11675560,"end_time":11681000,"duration":5440,"text":"last words in the interview let's see if it will if it can"},{"start_time":11681000,"end_time":11684840,"duration":3840,"text":"understand this kind of stuff"},{"start_time":11688760,"end_time":11694520,"duration":5760,"text":"based on we'll stay positive we'll keep our hands high and keep pushing forward"},{"start_time":11694520,"end_time":11701279,"duration":6759,"text":"perfect now I can go ahead and take a new video for example from our"},{"start_time":11701279,"end_time":11706721,"duration":5442,"text":"Channel and say hey come"},{"start_time":11707319,"end_time":11713720,"duration":6401,"text":"on live let's take this Lucas"},{"start_time":11715279,"end_time":11726479,"duration":11200,"text":"video and we can continue here as well can we talk about this video and provide"},{"start_time":11726479,"end_time":11735040,"duration":8561,"text":"a video it's supposed to trigger a new scraping jump let's see yes it's running so this"},{"start_time":11735040,"end_time":11739960,"duration":4920,"text":"is all done by the AI agent it's"},{"start_time":11740960,"end_time":11750040,"duration":9080,"text":"crazy and after some time it's going to add new stuff in our transcripts table"},{"start_time":11750040,"end_time":11755560,"duration":5520,"text":"we're going to already have 639 but this video is huge so that's why"},{"start_time":11755560,"end_time":11758560,"duration":3000,"text":"it took a little bit of"},{"start_time":11765359,"end_time":11770160,"duration":4801,"text":"time is it ready"},{"start_time":11783480,"end_time":11786730,"duration":3250,"text":"[Music]"},{"start_time":11788800,"end_time":11794399,"duration":5599,"text":"So based on a Content retrieve at around 42 minutes Mark I'm not sure like why"},{"start_time":11794399,"end_time":11799520,"duration":5121,"text":"it's say that at this point of a video Lucas appears to be wrapping up a"},{"start_time":11799520,"end_time":11807479,"duration":7959,"text":"tutorial live stream he's just finished implementing some functionalities related to making items pressible he just finished like that that that uh"},{"start_time":11807479,"end_time":11813720,"duration":6241,"text":"what is the tutorial about so basically"},{"start_time":11813720,"end_time":11819040,"duration":5320,"text":"I can talk with this tutorial with this YouTube video let me try to find"},{"start_time":11819040,"end_time":11826359,"duration":7319,"text":"something that lookas maybe do so sad what kind of list let's do what kind"},{"start_time":11826359,"end_time":11831800,"duration":5441,"text":"of list is that tutorial teaching shall we do"},{"start_time":11831800,"end_time":11836800,"duration":5000,"text":"that that's going to be the next question"},{"start_time":11849120,"end_time":11854680,"duration":5560,"text":"so this beginner friendly tutorial where Lucas is teaching the viewers how to build Apple news cloning R native like"},{"start_time":11854680,"end_time":11863160,"duration":8480,"text":"that like that like that what kind of list is Lucas"},{"start_time":11863160,"end_time":11869319,"duration":6159,"text":"teaching so how it's going to work it's going to look at it's going to find from"},{"start_time":11869319,"end_time":11874359,"duration":5040,"text":"all of the transcripts here from around 300 transcripts transcripts that are"},{"start_time":11874359,"end_time":11882399,"duration":8040,"text":"more similar to that maybe this one around here and based on that it's going to analyze and answer the"},{"start_time":11882399,"end_time":11892279,"duration":9880,"text":"question so let's see maybe something even more specific"},{"start_time":11897680,"end_time":11905641,"duration":7961,"text":"[Music] H how specific do we want to"},{"start_time":11907560,"end_time":11912278,"duration":4718,"text":"get but yeah let's see what's the"},{"start_time":11915800,"end_time":11923199,"duration":7399,"text":"answer and now because we are using um the AI model we can even combine"},{"start_time":11923199,"end_time":11930880,"duration":7681,"text":"multiple videos error processing request that's interesting I'm wondering"},{"start_time":11932960,"end_time":11941640,"duration":8680,"text":"why I don't know maybe time limit I don't know but"},{"start_time":11941640,"end_time":11948840,"duration":7200,"text":"what I wanted to try to do is go back to a previous video for example the"},{"start_time":11949080,"end_time":11958720,"duration":9640,"text":"Louis um what what was Louis"},{"start_time":11958800,"end_time":11967239,"duration":8439,"text":"excited about and I think it should link it to the previous video without scraping new"},{"start_time":11967239,"end_time":11972239,"duration":5000,"text":"data because it already has it in the"},{"start_time":11979239,"end_time":11988238,"duration":8999,"text":"database mhm the video where is earlier was about Formula One Would you like me"},{"start_time":11989160,"end_time":11996199,"duration":7039,"text":"yeah the question was about the previous"},{"start_time":11996199,"end_time":12002119,"duration":5920,"text":"video with ID maybe this"},{"start_time":12014600,"end_time":12020800,"duration":6200,"text":"one now I can properly answer your question uh what kind of was discussing"},{"start_time":12020800,"end_time":12025920,"duration":5120,"text":"okay key points about qualifying session"},{"start_time":12025920,"end_time":12032840,"duration":6920,"text":"perfect so I think this is better because it's very flexible it can start"},{"start_time":12032840,"end_time":12040479,"duration":7639,"text":"scraping like different jobs and even if we try to do that again I hope it's not"},{"start_time":12040479,"end_time":12046720,"duration":6241,"text":"going to add new items in the database because if it's smart enough it should"},{"start_time":12046720,"end_time":12051920,"duration":5200,"text":"first check if it has information about that so even if I remove and restart the"},{"start_time":12051920,"end_time":12059479,"duration":7559,"text":"chat from scratch and say can we talk about and the video about"},{"start_time":12059479,"end_time":12066239,"duration":6760,"text":"Lucas I I hope it's not going to start a scraping job but it's not up to us it's up to the agent and it actually indeed"},{"start_time":12066239,"end_time":12074720,"duration":8481,"text":"tried to to do that uh maybe we can instruct it better"},{"start_time":12074720,"end_time":12079080,"duration":4360,"text":"through the description of our"},{"start_time":12082040,"end_time":12088120,"duration":6080,"text":"agents use the tool only if a video is not in the vector store"},{"start_time":12088760,"end_time":12093840,"duration":5080,"text":"already so we need to tell it like check the vector store"},{"start_time":12093840,"end_time":12103520,"duration":9680,"text":"first because it added more items here also you can add a table with video IDs"},{"start_time":12103520,"end_time":12109960,"duration":6440,"text":"where you're going to save a status so so that it easier understand if it has"},{"start_time":12109960,"end_time":12114760,"duration":4800,"text":"videos or not"},{"start_time":12116640,"end_time":12123760,"duration":7120,"text":"um before calling this tool make"},{"start_time":12123760,"end_time":12126760,"duration":3000,"text":"sure"},{"start_time":12129840,"end_time":12137080,"duration":7240,"text":"that that it is not already in the vector store"},{"start_time":12140960,"end_time":12148319,"duration":7359,"text":"so maybe like this maybe with an additional tool to check the status of a video it can also improve like how our"},{"start_time":12148319,"end_time":12154080,"duration":5761,"text":"AI is going to is going to work but well let's change what I want to do here is"},{"start_time":12154080,"end_time":12159479,"duration":5399,"text":"that now from the client we are no longer having to send the video ID"},{"start_time":12159479,"end_time":12166640,"duration":7161,"text":"manually because that is the agent is going to understand from the context of what we are talking about um it's going"},{"start_time":12166640,"end_time":12172399,"duration":5759,"text":"to understand like the the video"},{"start_time":12172399,"end_time":12179800,"duration":7401,"text":"uh let's see and in the backend in the server here in the"},{"start_time":12179800,"end_time":12188640,"duration":8840,"text":"index we don't need in the generate the video ID again this is something that"},{"start_time":12188640,"end_time":12195160,"duration":6520,"text":"the chat is going to understand through the messages that it worked"},{"start_time":12195160,"end_time":12201160,"duration":6000,"text":"with perfect so now I can deploy it again and I"},{"start_time":12201160,"end_time":12207640,"duration":6480,"text":"think with this we have a pretty cool rag system that we"},{"start_time":12207640,"end_time":12213120,"duration":5480,"text":"can use to talk with YouTube"},{"start_time":12213840,"end_time":12219040,"duration":5200,"text":"videos Lucas filling in for Vadim who will return next week he's a developer"},{"start_time":12219040,"end_time":12226800,"duration":7760,"text":"video content and so one um all right what will you guys guys"},{"start_time":12226800,"end_time":12233520,"duration":6720,"text":"build with this one let me know in the comments below because I believe this"},{"start_time":12233520,"end_time":12240120,"duration":6600,"text":"system opens up so many opportunities and possibilities I'm thinking you can"},{"start_time":12240120,"end_time":12247760,"duration":7640,"text":"um you can build like a Chrome extension where you go in a video and you can already pop up here and chat with that"},{"start_time":12247760,"end_time":12254439,"duration":6679,"text":"video like give me the summary what did he say at the beginning what did he say at the end like uh it can be a great"},{"start_time":12254439,"end_time":12261080,"duration":6641,"text":"Learning Resource on top of you YouTube or other sources uh from the internet"},{"start_time":12261080,"end_time":12268560,"duration":7480,"text":"that can change the way we are consuming uh content um another idea that I have that"},{"start_time":12268560,"end_time":12273760,"duration":5200,"text":"uh this might serve as a core for implementing uh can be"},{"start_time":12273760,"end_time":12281080,"duration":7320,"text":"something for example we as notes da have a lot of content on uh um on our"},{"start_time":12281080,"end_time":12287960,"duration":6880,"text":"Channel when but sometimes it's hard to remember where for a new students to know like"},{"start_time":12287960,"end_time":12294279,"duration":6319,"text":"where did we use what so for example if you're interested in animation I would go into a tool into a"},{"start_time":12294279,"end_time":12302560,"duration":8281,"text":"chat box and say in what video uh did they talk about or uh give"},{"start_time":12302560,"end_time":12311239,"duration":8679,"text":"me the video ID or better URL for videos about"},{"start_time":12311239,"end_time":12317479,"duration":6240,"text":"F1 you have you know about"},{"start_time":12317479,"end_time":12324920,"duration":7441,"text":"I think without even changing anything it might work because it will look at the context it will check F1 and we'll"},{"start_time":12324920,"end_time":12332880,"duration":7960,"text":"find like these videos and let's see I don't have pre-existing list of videos I would need to specific on tools"},{"start_time":12332880,"end_time":12338439,"duration":5559,"text":"however tools I have designed R information from videos already know already know about by providing a video"},{"start_time":12338439,"end_time":12346359,"duration":7920,"text":"ID where to scrape new videos by providing video URLs mhm okay so yeah it"},{"start_time":12346359,"end_time":12351521,"duration":5162,"text":"doesn't have a tool to look at video yeah yeah"},{"start_time":12353080,"end_time":12359000,"duration":5920,"text":"yeah or to scrape new videos provide"},{"start_time":12360000,"end_time":12366000,"duration":6000,"text":"videos what if it just uses the same tool it should work it should work we"},{"start_time":12366000,"end_time":12376438,"duration":10438,"text":"generate in with the retrieve it needs a query and a video ID yeah this video ID"},{"start_time":12391399,"end_time":12400080,"duration":8681,"text":"yeah look I'm uh I was not sharing it but I wanted to for it to give me a list"},{"start_time":12400080,"end_time":12408120,"duration":8040,"text":"of videos about Formula 1 uh I think what but for that to work"},{"start_time":12408120,"end_time":12413399,"duration":5279,"text":"we just need to create a new tool let me try I'm really curious to"},{"start_time":12413399,"end_time":12423199,"duration":9800,"text":"see I'll create a new tool called retrieve similar"},{"start_time":12423319,"end_time":12429680,"duration":6361,"text":"videos and it's not going to get a video ID but it's going to get the query it's not going to get"},{"start_time":12429680,"end_time":12434800,"duration":5120,"text":"configuration and it's going to find like yeah top three videos about that"},{"start_time":12434800,"end_time":12440239,"duration":5439,"text":"and it's going not going to have any filter looking at all the data in the"},{"start_time":12440239,"end_time":12446680,"duration":6441,"text":"database it's not going to serialize the content of a page but it's going"},{"start_time":12446680,"end_time":12454439,"duration":7759,"text":"to uh map over doc. metadata do video ID"},{"start_time":12454439,"end_time":12463600,"duration":9161,"text":"so IDs and then we're going to return IDs retrieve similar videos"},{"start_time":12463600,"end_time":12470920,"duration":7320,"text":"description retrieve the IDs of the more similar videos to the"},{"start_time":12470920,"end_time":12478120,"duration":7200,"text":"query and I don't have this video this video ID so it's another tool that I can"},{"start_time":12478120,"end_time":12486760,"duration":8640,"text":"give to my agent and I think with that tool if I deploy we should be able"},{"start_time":12486760,"end_time":12493160,"duration":6400,"text":"to to talk with all the videos"},{"start_time":12494279,"end_time":12500000,"duration":5721,"text":"there and by adding this kind of tools like maybe you you are the tool to index"},{"start_time":12500000,"end_time":12509199,"duration":9199,"text":"a channel in all of his videos and then uh get um a tutor based on a Creator so"},{"start_time":12509199,"end_time":12514880,"duration":5681,"text":"you index the whole thing that he said and then you create a chatbot based on"},{"start_time":12514880,"end_time":12520080,"duration":5200,"text":"that Creator that's actually a very good idea"},{"start_time":12520080,"end_time":12526760,"duration":6680,"text":"let me see what's happening it deployed let's see uh the same"},{"start_time":12526760,"end_time":12533199,"duration":6439,"text":"the same question again let's see if it now can give me a list of uh video"},{"start_time":12533840,"end_time":12541560,"duration":7720,"text":"URLs I found a Formula One related video in the database here is the details video ID and this is the video"},{"start_time":12541560,"end_time":12547000,"duration":5440,"text":"link perfect is the highlights but there is"},{"start_time":12547000,"end_time":12552879,"duration":5879,"text":"one more you can access the F1 video direct [Music]"},{"start_time":12553640,"end_time":12559080,"duration":5440,"text":"through um I know what I know what happened there"},{"start_time":12559080,"end_time":12567840,"duration":8760,"text":"because even though um there are more items there about F1 the similarity search"},{"start_time":12568000,"end_time":12575399,"duration":7399,"text":"here of similar videos only received free top chunks and the fre top chunks"},{"start_time":12575399,"end_time":12581720,"duration":6321,"text":"might be for the same video so that's why uh it only gave me one video instead"},{"start_time":12581720,"end_time":12589560,"duration":7840,"text":"of more so maybe you can increase here from three chunks to 30 most similar chunks to that query H I"},{"start_time":12589560,"end_time":12596160,"duration":6600,"text":"don't know or you can have another table where you have videos and what are they"},{"start_time":12596160,"end_time":12601560,"duration":5400,"text":"about with a little bit shorter description with a shorter Vector based"},{"start_time":12601560,"end_time":12607560,"duration":6000,"text":"on the description so that you can also search like this for the videos as"},{"start_time":12607560,"end_time":12614319,"duration":6759,"text":"well perfect love it and I hope you enjoy this one as well uh all the links"},{"start_time":12614319,"end_time":12619920,"duration":5601,"text":"all the documentation and the are going to be available through the guide link"},{"start_time":12619920,"end_time":12626920,"duration":7000,"text":"in the description below so just simply go in the description and you'll find a link to the step-by-step"},{"start_time":12626920,"end_time":12633399,"duration":6479,"text":"guide um I'm going to put there also the source code so you can look at it and"},{"start_time":12633399,"end_time":12639239,"duration":5840,"text":"maybe Implement something of your own play with it like I'm so excited with"},{"start_time":12639239,"end_time":12646680,"duration":7441,"text":"with the possibilities of this one and everything related to AI nowadays um it looks like magic like we"},{"start_time":12646680,"end_time":12652520,"duration":5840,"text":"put stuff together we put the tools together and then it can do anything we"},{"start_time":12652520,"end_time":12660239,"duration":7719,"text":"just have to ask it the right question so I hope you enjoy this one I hope you learn something new uh learn new about a"},{"start_time":12660239,"end_time":12666279,"duration":6040,"text":"agents about rag system thank you very much for our sponsors bright data that"},{"start_time":12666279,"end_time":12673520,"duration":7241,"text":"allowed us to get access to any data on the internet which is so important nowadays in the AI age to have access to"},{"start_time":12673520,"end_time":12681239,"duration":7719,"text":"data and also uh janio for helping us host deploy our application in a very"},{"start_time":12681239,"end_time":12688840,"duration":7601,"text":"scalable environment in a in a in a server that can scale with our uh"},{"start_time":12688840,"end_time":12695960,"duration":7120,"text":"application thank you everyone who joined uh if you have more ideas if you'd like to learn more about AI or"},{"start_time":12695960,"end_time":12703239,"duration":7279,"text":"mobile development or anything else let me know in the comments below I'm going to to read them and note it down to to"},{"start_time":12703239,"end_time":12709680,"duration":6441,"text":"build something for you in the next week if you enjoy this one make sure to subscribe and I'll see you guys next"},{"start_time":12709680,"end_time":12713238,"duration":3558,"text":"week bye-bye"}],"hashtags":[{"hashtag":"#langchain","link":"https://www.youtube.com/hashtag/langchain"},{"hashtag":"#react","link":"https://www.youtube.com/hashtag/react"},{"hashtag":"#notjustdev","link":"https://www.youtube.com/hashtag/notjustdev"}],"tags":["not just development","notjust.dev","live coding","react native tutorial","react native for beginners","React Native","step-by-step tutorial","AI chatbot YouTube","RAG system tutorial","retrieval augmented generation","YouTube captions AI","scrape YouTube transcripts","YouTube transcript scraper","build AI chatbot with LLM","AI video search","scraping browser tutorial","chat with YouTube videos","natural language processing","LLM chatbot tutorial","AI-powered search","AI search engine"],"next_recommended_videos":null,"recommended_videos":[{"url":"https://www.youtube.com/watch?v=h5HE0Lu1--U","title":"React Native Roadmap 2025 | Become a Senior Mobile Dev","thumbnail":"https://i.ytimg.com/vi/h5HE0Lu1--U/hqdefault.jpg?sqp=-oaymwEnCNACELwBSFryq4qpAxkIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB&rs=AOn4CLCybLG1GbaMyfRfs6bcsq4C3HLdfA"},{"url":"https://www.youtube.com/watch?v=sVcwVQRHIc8","title":"Learn RAG From Scratch – Python AI Tutorial from a LangChain Engineer","thumbnail":"https://i.ytimg.com/vi/sVcwVQRHIc8/hqdefault.jpg?sqp=-oaymwEnCNACELwBSFryq4qpAxkIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB&rs=AOn4CLDN5-uGaZkgzqK-KcF4HlObRJNikA"},{"url":"https://www.youtube.com/watch?v=HSRYHwL6rPs","title":"Tools I use to build mobile apps FAST with React Native","thumbnail":"https://i.ytimg.com/vi/HSRYHwL6rPs/hqdefault.jpg?sqp=-oaymwEnCNACELwBSFryq4qpAxkIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB&rs=AOn4CLDOlVx-wnt5quQuNISR3Po8EWNhiA"},{"url":"https://www.youtube.com/watch?v=vT03ndfr_-w","title":"FULL Authentication System in React Native with Clerk and Expo Router","thumbnail":"https://i.ytimg.com/vi/vT03ndfr_-w/hqdefault.jpg?sqp=-oaymwEnCNACELwBSFryq4qpAxkIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB&rs=AOn4CLC-Qpi3HsfR49cvtKYzGF3E4aMBGQ"},{"url":"https://www.youtube.com/watch?v=VYHcnQeuSew","title":"#23 Build a FULL STACK Car Rent App with REACT NATIVE!","thumbnail":"https://i.ytimg.com/vi/VYHcnQeuSew/hqdefault.jpg?sqp=-oaymwEnCNACELwBSFryq4qpAxkIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB&rs=AOn4CLAGuncfiHiqb6G8b2tfJsZGc60WYg"},{"url":"https://www.youtube.com/watch?v=nQdyiK7-VlQ","title":"Easily Deploy Full Stack Node.js Apps on AWS EC2 | Step-by-Step Tutorial","thumbnail":"https://i.ytimg.com/vi/nQdyiK7-VlQ/hqdefault.jpg?sqp=-oaymwEnCNACELwBSFryq4qpAxkIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB&rs=AOn4CLAqcqGShWtqbg6bi9dERd4QQTDD7A"},{"url":"https://www.youtube.com/watch?v=wT7R7sxu4Tk","title":"O ChatGPT ESTÁ TE DEIXANDO BURRO?","thumbnail":"https://i.ytimg.com/vi/wT7R7sxu4Tk/hqdefault.jpg?sqp=-oaymwEnCNACELwBSFryq4qpAxkIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB&rs=AOn4CLDojfPzVrSLkts7k-PdSPSd5oxjXw"},{"url":"https://www.youtube.com/watch?v=Cm2FRfiAzSU&pp=0gcJCcMJAYcqIYzv","title":"Intro To Uno Platform - Full Cross-Platform C# Development","thumbnail":"https://i.ytimg.com/vi/Cm2FRfiAzSU/hqdefault.jpg?sqp=-oaymwEnCNACELwBSFryq4qpAxkIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB&rs=AOn4CLC8x3sstOyinIB7ko6NMP6Bk8iJhg"},{"url":"https://www.youtube.com/watch?v=qAF1NjEVHhY","title":"LangChain vs LangGraph: A Tale of Two Frameworks","thumbnail":"https://i.ytimg.com/vi/qAF1NjEVHhY/hqdefault.jpg?sqp=-oaymwEnCNACELwBSFryq4qpAxkIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB&rs=AOn4CLDGy21dCIRJ71rLGusg5xr1kn8ekQ"},{"url":"https://www.youtube.com/watch?v=-FNBxclKzH4","title":"🔴 Let’s Build a Netflix App in React Native","thumbnail":"https://i.ytimg.com/vi/-FNBxclKzH4/hqdefault.jpg?sqp=-oaymwEnCNACELwBSFryq4qpAxkIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB&rs=AOn4CLD8xtcM5knKuSFXTn0puLJk5wBi8w"},{"url":"https://www.youtube.com/watch?v=xsCedrNP9w8&pp=0gcJCcMJAYcqIYzv","title":"Chat with Multiple/Large SQL and Vector Databases using LLM agents (Combine RAG and SQL-Agents)","thumbnail":"https://i.ytimg.com/vi/xsCedrNP9w8/hqdefault.jpg?sqp=-oaymwEnCNACELwBSFryq4qpAxkIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB&rs=AOn4CLBgRLTwdRglV2nPt19LvMjKeI71pw"},{"url":"https://www.youtube.com/watch?v=HSZ_uaif57o&pp=0gcJCcMJAYcqIYzv","title":"Learn LangChain.js - Build LLM apps with JavaScript and OpenAI","thumbnail":"https://i.ytimg.com/vi/HSZ_uaif57o/hqdefault.jpg?sqp=-oaymwEnCNACELwBSFryq4qpAxkIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB&rs=AOn4CLDe7qcPUhvmV0oiWoPDnyZQxMWp2Q"}],"transcript_language":[{"language":"English (auto-generated)","auto_translate":true}],"chapters":null,"timestamp":"2025-06-27T16:42:19.926Z","input":{"url":"https://www.youtube.com/watch?v=kEtGm75uBes","country":""}}]


export default data;